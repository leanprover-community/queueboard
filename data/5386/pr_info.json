{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 72,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "alexjbest"
        },
        "autoMergeRequest": null,
        "baseRefName": "master",
        "body": "Fix the set tactic to not time out when dealing with slow to elaborate terms and many local hypotheses.\r\n\r\nThe root cause of this is that the `rewrite [blah] at *` tactic causes blah to be elaborated again and again for each local hypothesis, this is possibly a core issue that should be fixed separately, but in `set` we have the elaborated term already so we can just use it.\r\n\r\nWe also add some functionality to simply test / demonstrate failures when elaboration takes too long, namely `sleepAtLeastHeartbeats` and a `sleep_heartbeats` tactic.\r\n\r\n@urkud was facing some slow running set's in https://github.com/leanprover-community/mathlib4/pull/4912, see https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Timeout.20in.20.60set.20.2E.2E.20with.60/near/367958828 that this issue was minimized from and should fix.\r\n\r\nSome other linter failures show up due to changes to the set internals so fix these too.\r\n\r\n---\r\n<!-- The text above the `---` will become the commit message when your\r\nPR is merged. Please leave a blank newline before the `---`, otherwise\r\nGitHub will format the text above it as a title.\r\n\r\nTo indicate co-authors, include lines at the bottom of the commit message\r\n(that is, before the `---`) using the following format:\r\n\r\nCo-authored-by: Author Name <author@email.com>\r\n\r\nAny other comments you want to keep out of the PR commit should go\r\nbelow the `---`, and placed outside this HTML comment, or else they\r\nwill be invisible to reviewers.\r\n\r\nIf this PR depends on other PRs, please list them below this comment,\r\nusing the following format:\r\n- [ ] depends on: #abc [optional extra text]\r\n- [ ] depends on: #xyz [optional extra text]\r\n-->\r\n\r\n[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/from-referrer/)\r\n",
        "changedFiles": 15,
        "closed": true,
        "closedAt": "2023-06-28T08:54:43Z",
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c5gAjOm",
              "body": "Otherwise, looks great.\r\n\r\nbors d+",
              "createdAt": "2023-06-28T05:21:22Z",
              "author": {
                "login": "kim-em"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5gAjOz",
              "body": ":v: alexjbest can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "createdAt": "2023-06-28T05:21:23Z",
              "author": {
                "login": "bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5gBErQ",
              "body": "bors r+",
              "createdAt": "2023-06-28T07:14:58Z",
              "author": {
                "login": "alexjbest"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5gBkvP",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/5398430298/jobs/9804229001)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/5398430298/jobs/9804229150)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/5398430298/jobs/9804229299)",
              "createdAt": "2023-06-28T08:54:41Z",
              "author": {
                "login": "bors"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "cfe3f2dac7d913bb502fb6d1430f990afd60badd",
                "additions": 5,
                "deletions": 5,
                "committedDate": "2023-06-23T10:17:05Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "06d63a4190d55bdec68d486d1388292d4cd6e1ae",
                "additions": 7,
                "deletions": 16,
                "committedDate": "2023-06-23T10:17:50Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "8d4a10c670bd889e2688b7199d4ce6685e01920d",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "5bd25ed9fce80840195b4d04ae2a21f656eb9080",
                "additions": 3,
                "deletions": 2,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "959853bcd642e903d39d0057c8734073e6c46241",
                "additions": 2,
                "deletions": 1,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "d6f40c683370a49e78e8356d2596a60a54bbfdef",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "73e123108091cc541fe06414f4096c33647184fc",
                "additions": 11,
                "deletions": 3,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "892771a7b4f655840d5b3b1c2e194e1c18ed49cc",
                "additions": 6,
                "deletions": 14,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "772dba7f2490bd854551e27066da40331bab3494",
                "additions": 11,
                "deletions": 3,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "1c8dd172690bcf363acff5b155b8275d85ec4789",
                "additions": 2,
                "deletions": 3,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "378409b0b4024673cb04ccbc78567d004f76bbbf",
                "additions": 1,
                "deletions": 0,
                "committedDate": "2023-06-23T10:17:53Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "54f91ef801d4cfeb51288ad33100c8ee00a2c86b",
                "additions": 31,
                "deletions": 2,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "6b7e970b4a44d62f8301237b46d307186703331d",
                "additions": 1,
                "deletions": 2,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "3551bdafd2708be249af5c2d09d1bfc8f78275bb",
                "additions": 10,
                "deletions": 13,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e9d98e19f246306be177402549f722ad1d3e5ef6",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "0f8746d802a1cbe506b582f1fd393b5f8dc20ecf",
                "additions": 14,
                "deletions": 5,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "d5ed7abbc95dfe1ff2c41bfafca8af7257ff79c1",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "646581e8ad79d2987dd47bec367ddf92942c17c4",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "efc0e394eaaa00df8a3c36e2a7b364ba9997e05b",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "dcd23bb694bced7985aa0b6f6adcd366305b986f",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "17a9594c37b7e29cbf5d903359011a9b1037ece0",
                "additions": 26,
                "deletions": 32,
                "committedDate": "2023-06-23T10:18:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "0bbe15ae8933058992ce0cf1bfdc9eb7851d21f6",
                "additions": 2,
                "deletions": 3,
                "committedDate": "2023-06-23T10:21:29Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "36032eb35261b42445730de0db539aef0a5ad673",
                "additions": 35,
                "deletions": 17,
                "committedDate": "2023-06-23T10:29:47Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "21a295bdbdd3a2f5041409f670549d42123ff6e3",
                "additions": 0,
                "deletions": 1,
                "committedDate": "2023-06-23T10:35:58Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "4dcef9247e421ac55202bf59ac09b4de5766b288",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-06-23T13:25:20Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "43341c094bdcc3b9bbf5acdb74aac0ff04d915c1",
                "additions": 6,
                "deletions": 7,
                "committedDate": "2023-06-23T13:50:32Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "f4ef2012c274804e3568645378ebc4b5a45f360b",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-06-23T14:07:34Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "dbd83b1d6ac1a50ef448419e273332e6f71b9988",
                "additions": 1,
                "deletions": 0,
                "committedDate": "2023-06-23T14:36:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "a5da83f6fb781a1c3c2e61ab5a56ce0ead6e71b8",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-06-23T14:37:13Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "c30e1ec47bc62ecc62686e66be6d0c654d4b491f",
                "additions": 5,
                "deletions": 1,
                "committedDate": "2023-06-25T14:49:58Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "71313e83c641aef4dc0adba741471d098b0875bf",
                "additions": 2,
                "deletions": 1,
                "committedDate": "2023-06-26T04:12:20Z",
                "author": {
                  "name": "Jeremy Tan Jie Rui",
                  "email": "reddeloostw@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e69ef88bf9e37f02dcdbd811efeef801b5004dd4",
                "additions": 4,
                "deletions": 2,
                "committedDate": "2023-06-27T08:55:59Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e1ef0f23da70b1daf0ab82261b87231b52cba11d",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-06-27T10:39:27Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "312b3cfdd16743c8f6f01460d48ceaa5edfd181f",
                "additions": 8,
                "deletions": 8,
                "committedDate": "2023-06-28T07:11:16Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ccbbe5695f15893fd3e88fb6d4a6e50bba28f070",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-06-28T07:12:58Z",
                "author": {
                  "name": "Alex J Best",
                  "email": "alex.j.best@gmail.com"
                },
                "statusCheckRollup": null
              }
            }
          ]
        },
        "createdAt": "2023-06-22T13:25:06Z",
        "deletions": 20,
        "files": {
          "nodes": [
            {
              "path": "Mathlib.lean",
              "additions": 1,
              "deletions": 0
            },
            {
              "path": "Mathlib/Analysis/BoxIntegral/DivergenceTheorem.lean",
              "additions": 3,
              "deletions": 4
            },
            {
              "path": "Mathlib/Analysis/Calculus/ContDiff.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/Data/Set/Finite.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/MeasureTheory/Constructions/BorelSpace/Metrizable.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/MeasureTheory/Covering/Vitali.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/MeasureTheory/Decomposition/Lebesgue.lean",
              "additions": 3,
              "deletions": 3
            },
            {
              "path": "Mathlib/MeasureTheory/Integral/Layercake.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/MeasureTheory/Measure/OuterMeasure.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/MeasureTheory/Measure/VectorMeasure.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/Tactic/FieldSimp.lean",
              "additions": 0,
              "deletions": 1
            },
            {
              "path": "Mathlib/Tactic/Set.lean",
              "additions": 5,
              "deletions": 4
            },
            {
              "path": "Mathlib/Topology/Separation.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/Util/SleepHeartbeats.lean",
              "additions": 38,
              "deletions": 0
            },
            {
              "path": "test/Set.lean",
              "additions": 14,
              "deletions": 0
            }
          ]
        },
        "headRefName": "alexjbest/more-set",
        "headRefOid": "ccbbe5695f15893fd3e88fb6d4a6e50bba28f070",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c5TqAlQ",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": [
            {
              "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
              "color": "bfd4f2",
              "name": "delegated"
            },
            {
              "id": "LA_kwDOFcwZ1c8AAAABKAKYew",
              "color": "33DBEC",
              "name": "t-meta"
            }
          ]
        },
        "latestReviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5ZJkrf",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "kmill"
              },
              "submittedAt": "2023-06-23T18:25:48Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ZizLl",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "kim-em"
              },
              "submittedAt": "2023-06-28T05:18:28Z"
            }
          ]
        },
        "maintainerCanModify": false,
        "mergeCommit": null,
        "mergeStateStatus": "UNKNOWN",
        "mergeable": "UNKNOWN",
        "mergedAt": null,
        "mergedBy": null,
        "milestone": null,
        "number": 5386,
        "potentialMergeCommit": null,
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": null,
        "reviewRequests": {
          "nodes": []
        },
        "reviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5ZJipv",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "kmill"
              },
              "submittedAt": "2023-06-23T18:20:20Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ZJkrf",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "kmill"
              },
              "submittedAt": "2023-06-23T18:25:48Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ZJ6zf",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "alexjbest"
              },
              "submittedAt": "2023-06-23T19:17:52Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ZJ7Wj",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "alexjbest"
              },
              "submittedAt": "2023-06-23T19:19:24Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ZO_9X",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "alexjbest"
              },
              "submittedAt": "2023-06-25T14:49:20Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ZizLl",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "kim-em"
              },
              "submittedAt": "2023-06-28T05:18:28Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ZjU6L",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "alexjbest"
              },
              "submittedAt": "2023-06-28T07:12:43Z"
            }
          ]
        },
        "reviewThreads": {
          "nodes": [
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5J6zzV",
                    "body": "If this ever gets compiled to C, there's a good chance this will become an infinite loop. The heartbeat count turns out to be the number of memory allocations the Lean runtime performs. I'm not sure exactly why this code allocates anything, but my guess is that it's either a side effect of the interpreter or that `i + n` allocates a new natural number every iteration.\r\n\r\nEither we should put a warning about this so someone can fix this later, or we could insert some `IO Unit` function in the loop that will definitely perform some allocations (and put it behind a `@[no_inline]` definition so it's less likely to get optimized out). The second might be good just to get the loop to take fewer iterations.",
                    "createdAt": "2023-06-23T18:20:20Z",
                    "author": {
                      "login": "kmill"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5J7ER1",
                    "body": "Yes I agree. I was a bit worried this function would be sufficiently inlined that it wouldn't eat heartbeats at all, but it fortunately does. I'll add a docstring note to avoid using it for anything other than testing/demoing lean meta stuff.",
                    "createdAt": "2023-06-23T19:19:24Z",
                    "author": {
                      "login": "alexjbest"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5J61Re",
                    "body": "Here and two lines later, should we do this?\r\n```suggestion\r\n      evalTactic (← `(tactic| have%$tk $h : $a = ($(← Term.exprToSyntax vale) : $(← Term.exprToSyntax ty)) := rfl))\r\n```\r\nAnother option is that right after line 54 you do\r\n```lean\r\nlet val ← Term.exprToSyntax vale\r\nlet ty ← Term.exprToSyntax ty\r\n```\r\nso that you can use `$val` and `$ty` in these quotations.",
                    "createdAt": "2023-06-23T18:25:47Z",
                    "author": {
                      "login": "kmill"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5J7D1q",
                    "body": "Oh yes that's probably better thanks",
                    "createdAt": "2023-06-23T19:17:52Z",
                    "author": {
                      "login": "alexjbest"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5J-2RP",
                    "body": "```suggestion\nuntil the desired number of heartbeats is hit.\nWarning: this function relies on interpreter / compiler\nbehaviour that is not guaranteed to function in the way that is relied upon here.\nAs such this function is not to be considered reliable, especially after future updates to Lean.\nThis should be used with caution and basically only for demo / testing purposes and not in compiled code without further testing. -/\n```\n",
                    "createdAt": "2023-06-25T14:49:09Z",
                    "author": {
                      "login": "alexjbest"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5KMIVq",
                    "body": "I think it's better with all of these to just use `_`.\r\n\r\nWhenever I see a `_h` I inevitably start thinking \"huh, I wonder why the unused argument linter made a mistake there, and the human needed to override it\"...",
                    "createdAt": "2023-06-28T05:18:27Z",
                    "author": {
                      "login": "kim-em"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5KMe3s",
                    "body": "```suggestion\r\n    set ξ := ⨆ (n) (k) (_ : k ≤ n), f k with hξ\r\n```",
                    "createdAt": "2023-06-28T07:12:43Z",
                    "author": {
                      "login": "alexjbest"
                    }
                  }
                ]
              }
            }
          ]
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "MDQ6VXNlcjE2ODg1MzM=",
              "login": "alexjbest"
            },
            {
              "id": "MDQ6VXNlcjQ3Nzk1Ng==",
              "login": "kim-em"
            },
            {
              "id": "MDQ6VXNlcjIzNTMwNw==",
              "login": "kmill"
            },
            {
              "id": "MDQ6VXNlcjU0MTc1NDYz",
              "login": "Parcly-Taxel"
            }
          ]
        },
        "state": "CLOSED",
        "statusCheckRollup": null,
        "title": "[Merged by Bors] - feat: don't re-elaborate terms in set",
        "updatedAt": "2023-06-28T08:54:47Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/5386",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5pexgQzwAAAAI8mZUI",
              "createdAt": "2023-06-22T13:25:20Z",
              "label": {
                "id": "MDU6TGFiZWwzMjcxMjQ0NzU5",
                "name": "WIP"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5pexgQzwAAAAI8mZUU",
              "createdAt": "2023-06-22T13:25:20Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKAKYew",
                "name": "t-meta"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5pexgQzwAAAAI8m6nH",
              "createdAt": "2023-06-22T13:37:11Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "cfe3f2dac7d913bb502fb6d1430f990afd60badd"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "06d63a4190d55bdec68d486d1388292d4cd6e1ae"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "8d4a10c670bd889e2688b7199d4ce6685e01920d"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "5bd25ed9fce80840195b4d04ae2a21f656eb9080"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "959853bcd642e903d39d0057c8734073e6c46241"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "d6f40c683370a49e78e8356d2596a60a54bbfdef"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "73e123108091cc541fe06414f4096c33647184fc"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "892771a7b4f655840d5b3b1c2e194e1c18ed49cc"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "772dba7f2490bd854551e27066da40331bab3494"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "1c8dd172690bcf363acff5b155b8275d85ec4789"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "378409b0b4024673cb04ccbc78567d004f76bbbf"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "54f91ef801d4cfeb51288ad33100c8ee00a2c86b"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "6b7e970b4a44d62f8301237b46d307186703331d"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "3551bdafd2708be249af5c2d09d1bfc8f78275bb"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e9d98e19f246306be177402549f722ad1d3e5ef6"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "0f8746d802a1cbe506b582f1fd393b5f8dc20ecf"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "d5ed7abbc95dfe1ff2c41bfafca8af7257ff79c1"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "646581e8ad79d2987dd47bec367ddf92942c17c4"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "efc0e394eaaa00df8a3c36e2a7b364ba9997e05b"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "dcd23bb694bced7985aa0b6f6adcd366305b986f"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "17a9594c37b7e29cbf5d903359011a9b1037ece0"
              }
            },
            {
              "__typename": "HeadRefForcePushedEvent",
              "id": "HRFPE_lADOFcwZ1c5pexgQzwAAAAI9LX5R",
              "createdAt": "2023-06-23T10:18:54Z"
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "0bbe15ae8933058992ce0cf1bfdc9eb7851d21f6"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5pexgQzwAAAAI9Lhqx",
              "createdAt": "2023-06-23T10:23:57Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "36032eb35261b42445730de0db539aef0a5ad673"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "MentionedEvent"
            },
            {
              "__typename": "SubscribedEvent"
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "21a295bdbdd3a2f5041409f670549d42123ff6e3"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5pexgQzwAAAAI9L5J9",
              "createdAt": "2023-06-23T10:36:31Z",
              "label": {
                "id": "MDU6TGFiZWwzMjcxMjQ0NzU5",
                "name": "WIP"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5pexgQzwAAAAI9L5KF",
              "createdAt": "2023-06-23T10:36:31Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5pexgQzwAAAAI9L5KP",
              "createdAt": "2023-06-23T10:36:31Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "4dcef9247e421ac55202bf59ac09b4de5766b288"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "43341c094bdcc3b9bbf5acdb74aac0ff04d915c1"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "f4ef2012c274804e3568645378ebc4b5a45f360b"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "dbd83b1d6ac1a50ef448419e273332e6f71b9988"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "a5da83f6fb781a1c3c2e61ab5a56ce0ead6e71b8"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5pexgQzwAAAAI9UOXV",
              "createdAt": "2023-06-23T14:46:52Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5ZJipv",
              "createdAt": "2023-06-23T18:20:20Z",
              "body": "",
              "author": {
                "login": "kmill"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5ZJkrf",
              "createdAt": "2023-06-23T18:25:47Z",
              "body": "",
              "author": {
                "login": "kmill"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5ZO_9X",
              "createdAt": "2023-06-25T14:49:09Z",
              "body": "",
              "author": {
                "login": "alexjbest"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "c30e1ec47bc62ecc62686e66be6d0c654d4b491f"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "71313e83c641aef4dc0adba741471d098b0875bf"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e69ef88bf9e37f02dcdbd811efeef801b5004dd4"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e1ef0f23da70b1daf0ab82261b87231b52cba11d"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5ZizLl",
              "createdAt": "2023-06-28T05:18:27Z",
              "body": "",
              "author": {
                "login": "kim-em"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5gAjOm",
              "createdAt": "2023-06-28T05:21:22Z",
              "body": "Otherwise, looks great.\r\n\r\nbors d+",
              "author": {
                "login": "kim-em"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5gAjOz",
              "createdAt": "2023-06-28T05:21:23Z",
              "body": ":v: alexjbest can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5pexgQzwAAAAI_yEVn",
              "createdAt": "2023-06-28T05:21:38Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
                "name": "delegated"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5pexgQzwAAAAI_yEXY",
              "createdAt": "2023-06-28T05:21:39Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "312b3cfdd16743c8f6f01460d48ceaa5edfd181f"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5ZjU6L",
              "createdAt": "2023-06-28T07:12:43Z",
              "body": "",
              "author": {
                "login": "alexjbest"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ccbbe5695f15893fd3e88fb6d4a6e50bba28f070"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5gBErQ",
              "createdAt": "2023-06-28T07:14:58Z",
              "body": "bors r+",
              "author": {
                "login": "alexjbest"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5gBkvP",
              "createdAt": "2023-06-28T08:54:41Z",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/5398430298/jobs/9804229001)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/5398430298/jobs/9804229150)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/5398430298/jobs/9804229299)",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "ClosedEvent",
              "id": "CE_lADOFcwZ1c5pexgQzwAAAAI_5UOG",
              "createdAt": "2023-06-28T08:54:43Z"
            },
            {
              "__typename": "HeadRefDeletedEvent",
              "id": "HRDE_lADOFcwZ1c5pexgQzwAAAAI_5UYe",
              "createdAt": "2023-06-28T08:54:47Z"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOB7kabM5Ndv5U",
              "createdAt": "2023-07-11T11:46:39Z",
              "source": {
                "id": "PR_kwDOB7kabM5VMVhP",
                "title": "perf: dont repeatedly elab term in rw at multiple locations",
                "url": "https://github.com/leanprover/lean4/pull/2317"
              }
            },
            {
              "__typename": "ReferencedEvent"
            }
          ]
        }
      }
    }
  }
}
