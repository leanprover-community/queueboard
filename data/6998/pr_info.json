{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 13,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "mattrobball"
        },
        "autoMergeRequest": null,
        "baseRefName": "master",
        "body": "Following `LinearAlgebra.Dual` this makes `NormedSpace.Dual` reducible. \r\n\r\n---\r\n<!-- The text above the `---` will become the commit message when your\r\nPR is merged. Please leave a blank newline before the `---`, otherwise\r\nGitHub will format the text above it as a title.\r\n\r\nTo indicate co-authors, include lines at the bottom of the commit message\r\n(that is, before the `---`) using the following format:\r\n\r\nCo-authored-by: Author Name <author@email.com>\r\n\r\nAny other comments you want to keep out of the PR commit should go\r\nbelow the `---`, and placed outside this HTML comment, or else they\r\nwill be invisible to reviewers.\r\n\r\nIf this PR depends on other PRs, please list them below this comment,\r\nusing the following format:\r\n- [ ] depends on: #abc [optional extra text]\r\n- [ ] depends on: #xyz [optional extra text]\r\n-->\r\n\r\n[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/from-referrer/)\r\n",
        "changedFiles": 5,
        "closed": true,
        "closedAt": "2023-09-11T20:36:56Z",
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c5l-2ZF",
              "body": "@mattrobball could you add a TODO as discussed on Zulip?\r\nbors d+",
              "createdAt": "2023-09-08T02:02:11Z",
              "author": {
                "login": "PatrickMassot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5l-2ZV",
              "body": ":v: mattrobball can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "createdAt": "2023-09-08T02:02:13Z",
              "author": {
                "login": "bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5l__tx",
              "body": "I've started a discussion at https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclass.20search.20is.20affected.20by.20other.20subexpressions/near/389833387, maybe just link to that thread instead of an issue.",
              "createdAt": "2023-09-08T08:23:04Z",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mBpJi",
              "body": "Added with references to leanprover/lean4#2522. ",
              "createdAt": "2023-09-08T13:49:53Z",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mCJ-9",
              "body": "!bench",
              "createdAt": "2023-09-08T15:22:09Z",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mCKP4",
              "body": ":v: mattrobball can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "createdAt": "2023-09-08T15:22:57Z",
              "author": {
                "login": "bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mCc1Q",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/4ec9e81b-95b3-43e2-b296-f91e2f1e69c0) for commit 8caab6403f73134110c5a9287b29db214a48d17e.\nThere were [significant changes](http://speed.lean-fro.org/mathlib4/compare/1b838738-3e14-4867-b465-eff70df7a0e0/to/4ec9e81b-95b3-43e2-b296-f91e2f1e69c0) against commit 844436b8e934723791c651c28ca914a34873857d:\n```diff\n  Benchmark                                     Metric         Change\n  ===================================================================\n- build                                         maxrss          31.1%\n- ~Mathlib.Analysis.InnerProductSpace.Adjoint   instructions    60.0%\n- ~Mathlib.Analysis.InnerProductSpace.Dual      instructions    62.3%\n- ~Mathlib.Analysis.NormedSpace.Dual            instructions    12.7%\n- ~Mathlib.Analysis.NormedSpace.WeakDual        instructions    19.1%\n- ~Mathlib.Analysis.VonNeumannAlgebra.Basic     instructions    12.0%\n```",
              "createdAt": "2023-09-08T16:14:43Z",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mC9T5",
              "body": "That maxrss might mean we are trying to compile more declarations than before. Let me investigate before moving forward. Thanks for the thought to test the performance. ",
              "createdAt": "2023-09-08T18:10:48Z",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mD_IW",
              "body": "!bench",
              "createdAt": "2023-09-08T23:07:50Z",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mEFfC",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/b437e49f-5c69-484d-a573-0d7f92ebb6c4) for commit 5cd01506e7f569d8b992f5458635d16884e1a95e.\nThere were [significant changes](http://speed.lean-fro.org/mathlib4/compare/1b838738-3e14-4867-b465-eff70df7a0e0/to/b437e49f-5c69-484d-a573-0d7f92ebb6c4) against commit 844436b8e934723791c651c28ca914a34873857d:\n```diff\n  Benchmark                                                           Metric         Change\n  =========================================================================================\n- build                                                               maxrss          30.0%\n- ~Mathlib.Analysis.InnerProductSpace.Adjoint                         instructions    60.0%\n- ~Mathlib.Analysis.InnerProductSpace.Dual                            instructions    62.4%\n- ~Mathlib.Analysis.InnerProductSpace.LinearPMap                      instructions     5.1%\n- ~Mathlib.Analysis.NormedSpace.Dual                                  instructions    12.7%\n- ~Mathlib.Analysis.NormedSpace.WeakDual                              instructions    19.1%\n- ~Mathlib.Analysis.VonNeumannAlgebra.Basic                           instructions    12.0%\n+ ~Mathlib.CategoryTheory.Limits.FilteredColimitCommutesFiniteLimit   instructions    -5.1%\n```",
              "createdAt": "2023-09-09T00:00:08Z",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mEUCv",
              "body": "!bench",
              "createdAt": "2023-09-09T04:04:19Z",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mEVb2",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/6eab045e-7459-41d0-a28f-0690fa651d11) for commit 2008326690e9a749122395c7614650adafb5bce8.\nThere were [significant changes](http://speed.lean-fro.org/mathlib4/compare/1b838738-3e14-4867-b465-eff70df7a0e0/to/6eab045e-7459-41d0-a28f-0690fa651d11) against commit 844436b8e934723791c651c28ca914a34873857d:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n+ ~Mathlib.Analysis.InnerProductSpace.Adjoint      instructions   -18.7%\n- ~Mathlib.Analysis.InnerProductSpace.Dual         instructions    62.3%\n- ~Mathlib.Analysis.InnerProductSpace.LinearPMap   instructions     5.0%\n- ~Mathlib.Analysis.NormedSpace.Dual               instructions    12.7%\n- ~Mathlib.Analysis.NormedSpace.WeakDual           instructions    19.1%\n- ~Mathlib.Analysis.VonNeumannAlgebra.Basic        instructions    12.0%\n```",
              "createdAt": "2023-09-09T04:38:02Z",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mL_9M",
              "body": "bors merge",
              "createdAt": "2023-09-11T18:59:26Z",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5mMdmz",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/6151251025/job/16690923353)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/6151251025/job/16690923098)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/6151251025/job/16690922860)",
              "createdAt": "2023-09-11T20:36:55Z",
              "author": {
                "login": "bors"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "2b38152a3540a4bf4fff2395bce9d5f9550a10df",
                "additions": 3,
                "deletions": 25,
                "committedDate": "2023-09-07T01:52:37Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "da4363a2fd980ce3f169787605d4c88f12948507",
                "additions": 2,
                "deletions": 1,
                "committedDate": "2023-09-07T01:59:50Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "3b3c622011856d35a10c6feda365ce4985ef71ad",
                "additions": 0,
                "deletions": 9,
                "committedDate": "2023-09-07T02:03:26Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "11282725283a75f67795851128de6f8679f1088e",
                "additions": 3,
                "deletions": 1,
                "committedDate": "2023-09-07T02:21:55Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "4dbcab45f43516a7626e1779217978e9a747f893",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-09-07T02:35:40Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "1d564a6cb3d649d4b42edf4e116f526b6dbdc5c6",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-09-07T15:48:31Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "20180a96ca4f7b7919a1dda5b08202129aad2cf9",
                "additions": 1,
                "deletions": 2,
                "committedDate": "2023-09-07T15:56:26Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "8caab6403f73134110c5a9287b29db214a48d17e",
                "additions": 4,
                "deletions": 2,
                "committedDate": "2023-09-08T13:49:08Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "5cd01506e7f569d8b992f5458635d16884e1a95e",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-09-08T23:07:17Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "2008326690e9a749122395c7614650adafb5bce8",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-09-09T04:03:49Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "97aa2ad520de1e5d365b426db264888399b6caaf",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-09-11T15:48:51Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ef7f199fcf8f46dcc0da78b3715e810f4a844a63",
                "additions": 2,
                "deletions": 0,
                "committedDate": "2023-09-11T17:09:49Z",
                "author": {
                  "name": "Matthew Ballard",
                  "email": "matt@mrb.email"
                },
                "statusCheckRollup": null
              }
            }
          ]
        },
        "createdAt": "2023-09-07T01:53:54Z",
        "deletions": 38,
        "files": {
          "nodes": [
            {
              "path": "Mathlib/Analysis/InnerProductSpace/Adjoint.lean",
              "additions": 3,
              "deletions": 1
            },
            {
              "path": "Mathlib/Analysis/InnerProductSpace/Dual.lean",
              "additions": 2,
              "deletions": 1
            },
            {
              "path": "Mathlib/Analysis/InnerProductSpace/LinearPMap.lean",
              "additions": 0,
              "deletions": 9
            },
            {
              "path": "Mathlib/Analysis/NormedSpace/Dual.lean",
              "additions": 7,
              "deletions": 26
            },
            {
              "path": "docs/undergrad.yaml",
              "additions": 1,
              "deletions": 1
            }
          ]
        },
        "headRefName": "mrb/normed_dual_reducible",
        "headRefOid": "ef7f199fcf8f46dcc0da78b3715e810f4a844a63",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c5Zu_WM",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": [
            {
              "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
              "color": "bfd4f2",
              "name": "delegated"
            }
          ]
        },
        "latestReviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5gesnZ",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-09T15:04:23Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5geumg",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "PatrickMassot"
              },
              "submittedAt": "2023-09-09T16:16:27Z"
            }
          ]
        },
        "maintainerCanModify": false,
        "mergeCommit": null,
        "mergeStateStatus": "UNKNOWN",
        "mergeable": "UNKNOWN",
        "mergedAt": null,
        "mergedBy": null,
        "milestone": null,
        "number": 6998,
        "potentialMergeCommit": null,
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": "APPROVED",
        "reviewRequests": {
          "nodes": []
        },
        "reviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5gPrZ-",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T07:08:33Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gPrkW",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T07:09:00Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gPrp2",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T07:09:14Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gPsC6",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T07:10:20Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gPsI2",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T07:10:35Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gPsPL",
              "body": "",
              "state": "APPROVED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T07:10:50Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gSz9g",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "PatrickMassot"
              },
              "submittedAt": "2023-09-07T14:08:39Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gS1Y9",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "PatrickMassot"
              },
              "submittedAt": "2023-09-07T14:10:46Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gS2eg",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "PatrickMassot"
              },
              "submittedAt": "2023-09-07T14:12:46Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gTG2-",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T14:43:57Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gTHMX",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T14:44:36Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gTOVL",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2023-09-07T14:58:30Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gTpJl",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2023-09-07T15:52:47Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gTq8N",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2023-09-07T15:55:33Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gTrhc",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2023-09-07T15:56:45Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gVaJH",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T20:51:17Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gVbKP",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-07T20:54:46Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gWuE-",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "PatrickMassot"
              },
              "submittedAt": "2023-09-08T02:01:36Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gbIyK",
              "body": "bors d+\r\n\r\nI think we should merge this even if performance is a little worse, but should maybe wait just in case it's really terrible.",
              "state": "APPROVED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-08T15:22:56Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gbTTO",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-08T15:46:14Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5geWsF",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-09T06:27:13Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gend0",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2023-09-09T13:29:44Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gesnZ",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-09T15:04:23Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5geumg",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "PatrickMassot"
              },
              "submittedAt": "2023-09-09T16:16:27Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gmRc2",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2023-09-11T18:58:29Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5gmRqP",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2023-09-11T18:58:46Z"
            }
          ]
        },
        "reviewThreads": {
          "nodes": [
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5OkcZO",
                    "body": "```suggestion\r\n    dual space: 'NormedSpace.Dual'\r\n```\r\nseems more useful here",
                    "createdAt": "2023-09-07T07:08:33Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Om3zL",
                    "body": "At first I was confused about whether we wanted the construction of the dual as type or the Hilbert space structure on the the dual of a Hilbert space. \n\nBut I guess the original was neither of these things?",
                    "createdAt": "2023-09-07T15:52:47Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Oonns",
                    "body": "I think the original thing probably meant the dual of a Hilbert space as a Hilbert space, so that you can state the Riesz representation theorem as an isometry of Hilbert spaces.",
                    "createdAt": "2023-09-08T02:01:36Z",
                    "author": {
                      "login": "PatrickMassot"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OriGf",
                    "body": "@PatrickMassot, do you prefer `ContinuousLinearMap.toNormedSpace` or `NormedSpace.Dual` here?",
                    "createdAt": "2023-09-08T15:46:14Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OtsUa",
                    "body": "I think `NormedSpace.Dual` is better. Again the intended would be a combination of a Inner product space and a complete space instance, but we don't have a single declaration that would fit.",
                    "createdAt": "2023-09-09T16:16:27Z",
                    "author": {
                      "login": "PatrickMassot"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Okcfe",
                    "body": "```suggestion\r\n    LinearIsometryEquiv.coe_toContinuousLinearEquiv, Function.comp_apply, toDual_symm_apply]\r\n```",
                    "createdAt": "2023-09-07T07:08:59Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OkcjZ",
                    "body": "This is just `rfl` though, right?",
                    "createdAt": "2023-09-07T07:09:14Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OmWAk",
                    "body": "No, `toDual_symm_apply` is far from rfl.",
                    "createdAt": "2023-09-07T14:08:39Z",
                    "author": {
                      "login": "PatrickMassot"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Om4sA",
                    "body": "Fixed the spacing",
                    "createdAt": "2023-09-07T15:55:33Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Okcz3",
                    "body": "Does something below timeout if this is absent? If so, can you make it clear that this \"helper\" is to resolve a performance problem?",
                    "createdAt": "2023-09-07T07:10:19Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OmXkA",
                    "body": "It fails on line 77:\r\n```\r\nfailed to synthesize instance\r\n  Norm (Dual 𝕜 E →L[𝕜] Dual 𝕜 E)\r\n```",
                    "createdAt": "2023-09-07T14:12:46Z",
                    "author": {
                      "login": "PatrickMassot"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OmiLs",
                    "body": "With a failure or a timeout? (I can't open lean right now)",
                    "createdAt": "2023-09-07T14:44:36Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Omm3E",
                    "body": "It failed quickly. I didn't check further.",
                    "createdAt": "2023-09-07T14:58:30Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5On_2F",
                    "body": "That line can be fixed with:\r\n```lean\r\ntheorem inclusionInDoubleDual_norm_eq :\r\n    (by exact ‖inclusionInDoubleDual 𝕜 E‖) = ‖ContinuousLinearMap.id 𝕜 (Dual 𝕜 E)‖ :=\r\n  ContinuousLinearMap.op_norm_flip _\r\n```\r\nThis feels like a bug to me; somehow the TC search on the LHS is breaking the search on the RHS",
                    "createdAt": "2023-09-07T20:51:17Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OoAiY",
                    "body": "The next failure in the file is even worse:\r\n```lean\r\n--ok\r\n#check ContinuousLinearMap.norm_id_le (𝕜 := 𝕜) (E := Dual 𝕜 E)\r\n\r\ntheorem inclusionInDoubleDual_norm_le : ‖inclusionInDoubleDual 𝕜 E‖ ≤ 1 := by\r\n  rw [inclusionInDoubleDual_norm_eq]\r\n  -- fails\r\n  have := ContinuousLinearMap.norm_id_le (𝕜 := 𝕜) (E := Dual 𝕜 E)\r\n  exact this\r\n```",
                    "createdAt": "2023-09-07T20:54:46Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Oy3rk",
                    "body": "Referenced leanprover/lean4#2522 in the file",
                    "createdAt": "2023-09-11T18:58:29Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Okc3c",
                    "body": "```suggestion\r\nabbrev Dual : Type _ := E →L[𝕜] 𝕜\r\n```",
                    "createdAt": "2023-09-07T07:10:34Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OmW2u",
                    "body": "Eric, could you explain what the type ascription is meant to do here?",
                    "createdAt": "2023-09-07T14:10:46Z",
                    "author": {
                      "login": "PatrickMassot"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Omh-a",
                    "body": "It's a stylistic change for the reader: lean doesn't care.\r\n\r\nIt's meant to make it clear that we're defining a type; but more generally, the convention in mathlib is to pretty much always write the full type to help the reader. For example, we prefer to write `def choose (m n : ℕ) : ℕ := sorry` instead of `def choose (m n : ℕ) := sorry`. This is just another case of the same thing.",
                    "createdAt": "2023-09-07T14:43:57Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Om5Jd",
                    "body": "I added the signature. ",
                    "createdAt": "2023-09-07T15:56:45Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5OtSxC",
                    "body": "Ideally we'd have a tracking issue for \"we made X noncomputable due to a maxrss issue\"",
                    "createdAt": "2023-09-09T06:27:13Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5OtjrL",
                    "body": "Where do we want it?",
                    "createdAt": "2023-09-09T13:29:44Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Oto2-",
                    "body": "I think mathlib4 is fine, unless you want to open a Lean4 one. We can always link from the mathlib one to the lean one at a later date.",
                    "createdAt": "2023-09-09T15:04:23Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Oy3vv",
                    "body": "#7103 ",
                    "createdAt": "2023-09-11T18:58:45Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  }
                ]
              }
            }
          ]
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "U_kgDOBfZl7g",
              "login": "mattrobball"
            },
            {
              "id": "MDQ6VXNlcjE0MDYwODgz",
              "login": "PatrickMassot"
            },
            {
              "id": "MDQ6VXNlcjQyNTI2MA==",
              "login": "eric-wieser"
            },
            {
              "id": "MDQ6VXNlcjg1NjY4Mzk0",
              "login": "leanprover-bot"
            }
          ]
        },
        "state": "CLOSED",
        "statusCheckRollup": null,
        "title": "[Merged by Bors] - feat (NormedSpace.Dual): make `Dual` reducible ",
        "updatedAt": "2023-09-11T20:36:59Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/6998",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "2b38152a3540a4bf4fff2395bce9d5f9550a10df"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "da4363a2fd980ce3f169787605d4c88f12948507"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "3b3c622011856d35a10c6feda365ce4985ef71ad"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5wWn4jzwAAAAJmDF6H",
              "createdAt": "2023-09-07T02:08:58Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5wWn4jzwAAAAJmDF6Q",
              "createdAt": "2023-09-07T02:08:58Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "11282725283a75f67795851128de6f8679f1088e"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "4dbcab45f43516a7626e1779217978e9a747f893"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5wWn4jzwAAAAJmD-Bg",
              "createdAt": "2023-09-07T03:02:18Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5gPrZ-",
              "createdAt": "2023-09-07T07:08:33Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5gPrkW",
              "createdAt": "2023-09-07T07:08:59Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5gPsC6",
              "createdAt": "2023-09-07T07:10:19Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5gPsI2",
              "createdAt": "2023-09-07T07:10:34Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5gPsPL",
              "createdAt": "2023-09-07T07:10:50Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "1d564a6cb3d649d4b42edf4e116f526b6dbdc5c6"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "20180a96ca4f7b7919a1dda5b08202129aad2cf9"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5l-2ZF",
              "createdAt": "2023-09-08T02:02:11Z",
              "body": "@mattrobball could you add a TODO as discussed on Zulip?\r\nbors d+",
              "author": {
                "login": "PatrickMassot"
              }
            },
            {
              "__typename": "MentionedEvent"
            },
            {
              "__typename": "SubscribedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5l-2ZV",
              "createdAt": "2023-09-08T02:02:13Z",
              "body": ":v: mattrobball can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5wWn4jzwAAAAJmtB6N",
              "createdAt": "2023-09-08T02:02:25Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
                "name": "delegated"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5wWn4jzwAAAAJmtB6-",
              "createdAt": "2023-09-08T02:02:26Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5l__tx",
              "createdAt": "2023-09-08T08:23:04Z",
              "body": "I've started a discussion at https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Typeclass.20search.20is.20affected.20by.20other.20subexpressions/near/389833387, maybe just link to that thread instead of an issue.",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "8caab6403f73134110c5a9287b29db214a48d17e"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mBpJi",
              "createdAt": "2023-09-08T13:49:53Z",
              "body": "Added with references to leanprover/lean4#2522. ",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mCJ-9",
              "createdAt": "2023-09-08T15:22:09Z",
              "body": "!bench",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5gbIyK",
              "createdAt": "2023-09-08T15:22:56Z",
              "body": "bors d+\r\n\r\nI think we should merge this even if performance is a little worse, but should maybe wait just in case it's really terrible.",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mCKP4",
              "createdAt": "2023-09-08T15:22:57Z",
              "body": ":v: mattrobball can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mCc1Q",
              "createdAt": "2023-09-08T16:14:43Z",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/4ec9e81b-95b3-43e2-b296-f91e2f1e69c0) for commit 8caab6403f73134110c5a9287b29db214a48d17e.\nThere were [significant changes](http://speed.lean-fro.org/mathlib4/compare/1b838738-3e14-4867-b465-eff70df7a0e0/to/4ec9e81b-95b3-43e2-b296-f91e2f1e69c0) against commit 844436b8e934723791c651c28ca914a34873857d:\n```diff\n  Benchmark                                     Metric         Change\n  ===================================================================\n- build                                         maxrss          31.1%\n- ~Mathlib.Analysis.InnerProductSpace.Adjoint   instructions    60.0%\n- ~Mathlib.Analysis.InnerProductSpace.Dual      instructions    62.3%\n- ~Mathlib.Analysis.NormedSpace.Dual            instructions    12.7%\n- ~Mathlib.Analysis.NormedSpace.WeakDual        instructions    19.1%\n- ~Mathlib.Analysis.VonNeumannAlgebra.Basic     instructions    12.0%\n```",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mC9T5",
              "createdAt": "2023-09-08T18:10:48Z",
              "body": "That maxrss might mean we are trying to compile more declarations than before. Let me investigate before moving forward. Thanks for the thought to test the performance. ",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "5cd01506e7f569d8b992f5458635d16884e1a95e"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mD_IW",
              "createdAt": "2023-09-08T23:07:50Z",
              "body": "!bench",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mEFfC",
              "createdAt": "2023-09-09T00:00:08Z",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/b437e49f-5c69-484d-a573-0d7f92ebb6c4) for commit 5cd01506e7f569d8b992f5458635d16884e1a95e.\nThere were [significant changes](http://speed.lean-fro.org/mathlib4/compare/1b838738-3e14-4867-b465-eff70df7a0e0/to/b437e49f-5c69-484d-a573-0d7f92ebb6c4) against commit 844436b8e934723791c651c28ca914a34873857d:\n```diff\n  Benchmark                                                           Metric         Change\n  =========================================================================================\n- build                                                               maxrss          30.0%\n- ~Mathlib.Analysis.InnerProductSpace.Adjoint                         instructions    60.0%\n- ~Mathlib.Analysis.InnerProductSpace.Dual                            instructions    62.4%\n- ~Mathlib.Analysis.InnerProductSpace.LinearPMap                      instructions     5.1%\n- ~Mathlib.Analysis.NormedSpace.Dual                                  instructions    12.7%\n- ~Mathlib.Analysis.NormedSpace.WeakDual                              instructions    19.1%\n- ~Mathlib.Analysis.VonNeumannAlgebra.Basic                           instructions    12.0%\n+ ~Mathlib.CategoryTheory.Limits.FilteredColimitCommutesFiniteLimit   instructions    -5.1%\n```",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "2008326690e9a749122395c7614650adafb5bce8"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mEUCv",
              "createdAt": "2023-09-09T04:04:19Z",
              "body": "!bench",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mEVb2",
              "createdAt": "2023-09-09T04:38:02Z",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/6eab045e-7459-41d0-a28f-0690fa651d11) for commit 2008326690e9a749122395c7614650adafb5bce8.\nThere were [significant changes](http://speed.lean-fro.org/mathlib4/compare/1b838738-3e14-4867-b465-eff70df7a0e0/to/6eab045e-7459-41d0-a28f-0690fa651d11) against commit 844436b8e934723791c651c28ca914a34873857d:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n+ ~Mathlib.Analysis.InnerProductSpace.Adjoint      instructions   -18.7%\n- ~Mathlib.Analysis.InnerProductSpace.Dual         instructions    62.3%\n- ~Mathlib.Analysis.InnerProductSpace.LinearPMap   instructions     5.0%\n- ~Mathlib.Analysis.NormedSpace.Dual               instructions    12.7%\n- ~Mathlib.Analysis.NormedSpace.WeakDual           instructions    19.1%\n- ~Mathlib.Analysis.VonNeumannAlgebra.Basic        instructions    12.0%\n```",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5geWsF",
              "createdAt": "2023-09-09T06:27:13Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "97aa2ad520de1e5d365b426db264888399b6caaf"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c5OXFSo",
              "createdAt": "2023-09-11T15:54:38Z",
              "source": {
                "id": "I_kwDOFcwZ1c5ws31m",
                "title": "Spikes in compilation + maximum resident set size",
                "url": "https://github.com/leanprover-community/mathlib4/issues/7103"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ef7f199fcf8f46dcc0da78b3715e810f4a844a63"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mL_9M",
              "createdAt": "2023-09-11T18:59:26Z",
              "body": "bors merge",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5mMdmz",
              "createdAt": "2023-09-11T20:36:55Z",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/6151251025/job/16690923353)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/6151251025/job/16690923098)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/6151251025/job/16690922860)",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "ClosedEvent",
              "id": "CE_lADOFcwZ1c5wWn4jzwAAAAJoPPCO",
              "createdAt": "2023-09-11T20:36:56Z"
            },
            {
              "__typename": "HeadRefDeletedEvent",
              "id": "HRDE_lADOFcwZ1c5wWn4jzwAAAAJoPPJw",
              "createdAt": "2023-09-11T20:36:59Z"
            },
            {
              "__typename": "ReferencedEvent"
            }
          ]
        }
      }
    }
  }
}
