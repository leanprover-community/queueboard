{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 120,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "fpvandoorn"
        },
        "autoMergeRequest": null,
        "baseRefName": "master",
        "body": "* from the Sobolev project (formerly: marginal project)\r\n",
        "changedFiles": 6,
        "closed": true,
        "closedAt": "2023-11-07T14:36:58Z",
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c5pu_zB",
              "body": "Note: I have pushed an update to the lean toolchain because this PR was on a [buggy version](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Potential.20data.20loss.20from.20.60lake.20clean.60.20with.204.2E2.2E0-rc2.2F3/near/397875701) of the toolchain. **WARNING**: checking out old commits of this PR using v4.2.0-rc2 or v4.2.0-rc3 can cause `lake clean` to delete your mathlib folder! If you need to do so, make sure to delete `lakefile.olean` manually before running any `lake` commands.",
              "createdAt": "2023-10-21T21:33:19Z",
              "author": {
                "login": "digama0"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5q-Za0",
              "body": "🚀 Pull request has been placed on the maintainer queue by jcommelin.",
              "createdAt": "2023-11-06T12:47:01Z",
              "author": {
                "login": "github-actions"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "c257f8bcda38b4e15f01cfc205655fa9a453c6a1",
                "additions": 88,
                "deletions": 0,
                "committedDate": "2023-09-23T12:43:24Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "f40924eaeb5abdf8928f7e2a831c880018ddc895",
                "additions": 8,
                "deletions": 0,
                "committedDate": "2023-09-23T12:48:56Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "29f28dfa9a9ca53d5dee7e33c8495f3ccd2adb53",
                "additions": 25557,
                "deletions": 12791,
                "committedDate": "2023-09-23T15:53:35Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "13bf6e85f498557e22e8f17ac927438df50f94e3",
                "additions": 50,
                "deletions": 0,
                "committedDate": "2023-09-23T16:04:21Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "290730efb780c55c4faf68907bad545fce591a67",
                "additions": 64,
                "deletions": 0,
                "committedDate": "2023-09-23T16:04:21Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "6485c63cd1a8a51687362223d4e737415425d46d",
                "additions": 8,
                "deletions": 4,
                "committedDate": "2023-09-23T16:04:21Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "dfbe25e68ab8306d15b0d58820017fb300a33ab5",
                "additions": 19,
                "deletions": 18,
                "committedDate": "2023-09-23T16:07:12Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "18e9d27cf23415a7a25cb92ebcf5a0d4a6f6cc41",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-09-23T16:09:53Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "2587bb8fcb0004e395c8fcba319d682e873a694a",
                "additions": 23,
                "deletions": 26,
                "committedDate": "2023-09-25T10:37:31Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "4c72be419d8c6f0d6d39bc4234b994f47b70733f",
                "additions": 3,
                "deletions": 1,
                "committedDate": "2023-09-25T10:39:24Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "f7ec64659b413ae950a03456670b2a3565200699",
                "additions": 6,
                "deletions": 7,
                "committedDate": "2023-09-25T10:50:51Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "50a3e26463ab95fc982792a02af7aa340745cecf",
                "additions": 25,
                "deletions": 26,
                "committedDate": "2023-09-25T10:51:09Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "7e3836bfc4623cfc16c93fb0fff939d155cbc840",
                "additions": 6,
                "deletions": 7,
                "committedDate": "2023-09-25T10:51:57Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "7eb325cb5dda207fec0e29a377938b090301db1a",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-09-25T10:53:22Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "717b04fc0565920e687948b3f01a43ea14657a7b",
                "additions": 3,
                "deletions": 2,
                "committedDate": "2023-09-25T10:56:53Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ce85343438a0f2e402313721bd61dfa56baf3de7",
                "additions": 4,
                "deletions": 4,
                "committedDate": "2023-09-25T10:58:06Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "06a3f7c74bd8288f5f040605c2042c74a8a36c9c",
                "additions": 5,
                "deletions": 4,
                "committedDate": "2023-09-25T11:16:19Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "30dc7926d5f695dc5e436fe1fe79c851517f3a21",
                "additions": 14,
                "deletions": 14,
                "committedDate": "2023-09-25T16:22:48Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "acbf849de2f9f3e0ba8a4dafcb256a9fce655d72",
                "additions": 14,
                "deletions": 14,
                "committedDate": "2023-09-25T16:23:52Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "acfe1170ef737e532246515f4ab96a8ad1010382",
                "additions": 4,
                "deletions": 2,
                "committedDate": "2023-09-25T16:59:07Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "9f301831737e85cada0f38e83d5bafc2ba1f85f6",
                "additions": 8,
                "deletions": 3,
                "committedDate": "2023-09-26T10:57:19Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "de82d6caf27583259cd9c6da6283ccc1fc459085",
                "additions": 13,
                "deletions": 6,
                "committedDate": "2023-09-26T11:09:46Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "a3cb8ca1c512bf0ab9f929d341de39c3a816235c",
                "additions": 13,
                "deletions": 6,
                "committedDate": "2023-09-26T11:09:55Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "88e029d28ca8b02130a7fb13826e4e31288ec02f",
                "additions": 5,
                "deletions": 5,
                "committedDate": "2023-09-26T11:15:47Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "eeb5d4aa1ac87a2e498768c47c694a8da3b1b765",
                "additions": 2,
                "deletions": 0,
                "committedDate": "2023-09-26T13:39:47Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "3d3f3e47284130e9f9ea6abb25b0ea9444fc2c06",
                "additions": 7700,
                "deletions": 3007,
                "committedDate": "2023-10-03T21:51:14Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "8a5341e1011589316d0dad79a5bd1e4cedbcd363",
                "additions": 8,
                "deletions": 7,
                "committedDate": "2023-10-17T13:40:56Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "6ea9a563e00fc7a6e51c706600ffc09da4ab3615",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-10-18T19:19:45Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "9b08d969996e3467b5adb51233e0ec0540c42dac",
                "additions": 16051,
                "deletions": 7028,
                "committedDate": "2023-10-18T22:09:06Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "6b58c8f3448db7dd69362d1fc87715cdedb978e7",
                "additions": 1107,
                "deletions": 1276,
                "committedDate": "2023-10-19T14:28:15Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "47650b3da3e6aa861b6149f63c060ad9c0cb4a96",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-10-21T21:33:18Z",
                "author": {
                  "name": "Mario Carneiro",
                  "email": "di.gama@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "bd03a415497a8c21043f36849d1cc8313b72fef4",
                "additions": 9,
                "deletions": 16,
                "committedDate": "2023-10-21T22:41:51Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "56215bf7f741b3bf1075c41ba1bd33c86c075fcc",
                "additions": 3,
                "deletions": 3,
                "committedDate": "2023-10-25T12:02:06Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e88a228dd96fc004391055fc506e439a2158e152",
                "additions": 33684,
                "deletions": 12699,
                "committedDate": "2023-11-06T11:58:17Z",
                "author": {
                  "name": "Floris van Doorn",
                  "email": "fpvdoorn@gmail.com"
                },
                "statusCheckRollup": null
              }
            }
          ]
        },
        "createdAt": "2023-09-23T16:08:10Z",
        "deletions": 0,
        "files": {
          "nodes": [
            {
              "path": "Mathlib.lean",
              "additions": 1,
              "deletions": 0
            },
            {
              "path": "Mathlib/Data/Finset/Basic.lean",
              "additions": 38,
              "deletions": 0
            },
            {
              "path": "Mathlib/Data/Finset/Update.lean",
              "additions": 61,
              "deletions": 0
            },
            {
              "path": "Mathlib/Data/Set/Prod.lean",
              "additions": 3,
              "deletions": 0
            },
            {
              "path": "Mathlib/Logic/Function/Basic.lean",
              "additions": 3,
              "deletions": 0
            },
            {
              "path": "Mathlib/Logic/Unique.lean",
              "additions": 14,
              "deletions": 0
            }
          ]
        },
        "headRefName": "marginal_updateSet",
        "headRefOid": "e88a228dd96fc004391055fc506e439a2158e152",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c5bCxtO",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": []
        },
        "latestReviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5kMPX4",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "AntoineChambert-Loir"
              },
              "submittedAt": "2023-10-16T20:46:41Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5mOggO",
              "body": "LGTM\r\n\r\nmaintainer merge",
              "state": "APPROVED",
              "author": {
                "login": "jcommelin"
              },
              "submittedAt": "2023-11-06T12:46:48Z"
            }
          ]
        },
        "maintainerCanModify": false,
        "mergeCommit": {
          "oid": "0eb6b931f56b67cba3183cbb02a4cd394f64884e"
        },
        "mergeStateStatus": "UNKNOWN",
        "mergeable": "UNKNOWN",
        "mergedAt": "2023-11-07T14:36:58Z",
        "mergedBy": {
          "login": "sgouezel"
        },
        "milestone": null,
        "number": 7341,
        "potentialMergeCommit": null,
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": "APPROVED",
        "reviewRequests": {
          "nodes": [
            {
              "requestedReviewer": {
                "id": "MDQ6VXNlcjQyNTI2MA==",
                "login": "eric-wieser"
              }
            }
          ]
        },
        "reviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5hzukn",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-23T21:50:21Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5hzuxx",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-23T22:02:50Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5hzu0y",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-23T22:05:12Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5hzu1X",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-23T22:05:44Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5hzu4z",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-23T22:09:16Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5hzu5H",
              "body": "I'm out of time for now",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-23T22:12:15Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5h3O_F",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "fpvandoorn"
              },
              "submittedAt": "2023-09-25T10:54:13Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5h3P1T",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-25T10:56:33Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5h5yeK",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "fpvandoorn"
              },
              "submittedAt": "2023-09-25T16:09:06Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5h6N1Z",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-09-25T17:09:58Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5iAc_6",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "fpvandoorn"
              },
              "submittedAt": "2023-09-26T13:34:01Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5kMO8i",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "AntoineChambert-Loir"
              },
              "submittedAt": "2023-10-16T20:45:25Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5kMPX4",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "AntoineChambert-Loir"
              },
              "submittedAt": "2023-10-16T20:46:41Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5kR4FO",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "fpvandoorn"
              },
              "submittedAt": "2023-10-17T13:41:34Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5km7ei",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-10-19T14:38:21Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5km775",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-10-19T14:39:06Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5km_Zl",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-10-19T14:42:17Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5kz9_5",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "fpvandoorn"
              },
              "submittedAt": "2023-10-21T22:38:35Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5lK137",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-10-25T13:23:37Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5mOggO",
              "body": "LGTM\r\n\r\nmaintainer merge",
              "state": "APPROVED",
              "author": {
                "login": "jcommelin"
              },
              "submittedAt": "2023-11-06T12:46:48Z"
            }
          ]
        },
        "reviewThreads": {
          "nodes": [
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Pk5KV",
                    "body": "```suggestion\r\ninstance (i : α) : Unique ({i} : Finset α) where\r\n  default := ⟨i, mem_singleton_self i⟩; uniq j := Subtype.ext <| mem_singleton.mp j.2\r\n```\r\navoids the mess of angle brackets",
                    "createdAt": "2023-09-23T21:50:21Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Pk5ZM",
                    "body": "This is arguably slightly better-typed:\r\n```suggestion\r\n  Equiv.Set.ofEq <| coe_union _ _\r\n```",
                    "createdAt": "2023-09-23T22:02:50Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Pk5ch",
                    "body": "```suggestion\r\n  (Equiv.finsetUnion s t).trans <| Equiv.Set.union (disjoint_coe.mpr h).le_bot",
                    "createdAt": "2023-09-23T22:05:11Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Pk5dE",
                    "body": "I'd argue this should be `Equiv.Finset.union` to match `Equiv.Set.union`",
                    "createdAt": "2023-09-23T22:05:44Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Pk5g9",
                    "body": "I assume there's a reason you didn't just use `[DecidableEq _]` here? If so, can you add it to the docstring?",
                    "createdAt": "2023-09-23T22:09:16Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5PnYFn",
                    "body": "`DecidablePred` generalizes better to other `SetLike` things. But I was inconsistently using `DecidableEq` in the rest of the file, so I just use that everywhere.",
                    "createdAt": "2023-09-25T10:54:13Z",
                    "author": {
                      "login": "fpvandoorn"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Pk5hJ",
                    "body": "```suggestion\r\n@[simp] theorem updateFinset_empty [DecidableEq ι] {y} : updateFinset x ∅ y = x :=\r\n```",
                    "createdAt": "2023-09-23T22:09:30Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5PnYoj",
                    "body": "It's not clear to me what the benefit of defining this on `Finset` is:\r\n```suggestion\r\n/-- `updateSet x s y` is the vector `x` with the coordinates in `s` changed to the values of `y`.\r\n\r\nThis is `Set.piecewise` where the left argument `x` is dependently-typed\r\n-/\r\ndef updateSet (x : ∀ i, π i) (s : Set ι) [DecidablePred (· ∈ s)]  (y : ∀ i : ↥s, π i) (i : ι) : π i :=\r\n  if hi : i ∈ s then y ⟨i, hi⟩ else x i\r\n```",
                    "createdAt": "2023-09-25T10:56:33Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Po2Ii",
                    "body": "I definitely want to apply this to `Finset`. I need to integrate over a `Pi`-type over this Finset at some point.\r\n\r\nYour suggestion means that I need to coerce the `Finset` to `Set`. It also means that all lemmas I want are inconveniently stated in terms of `Set`-operations instead of `Finset`-operations. So I need to add a bunch of rewrites commuting coerions with operations. This makes it less convenient to work with.\r\n\r\nThe proper way to do this is to define this for all `SetLike` objects, but this is impossible at the moment, as the docstring describes.",
                    "createdAt": "2023-09-25T16:09:06Z",
                    "author": {
                      "login": "fpvandoorn"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5PpGzN",
                    "body": "> So I need to add a bunch of rewrites commuting coercions with operations.\r\n\r\nShouldn't `norm_cast` handle this?\r\n\r\n> The proper way to do this is to define this for all `SetLike` objects\r\n\r\nI'd argue this is much worse, because now you need separate lemmas about `updateSet _ (s ∩ t)` for `Set` and `Finset`, and another seven or so for `updateSet _ (s ⊓ t)` for `Submonoid`, `Submodule`, .... Then you have to repeat this for `bot` and `iInf` and `sInf`.\r\n\r\nIf you do it for `Set` you only need to write these once, because `simp` turns everything into the set operations for you.",
                    "createdAt": "2023-09-25T17:09:58Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5PtFjR",
                    "body": "I gave this an honest try to use `updateSet` in our work. It is in https://github.com/leanprover-community/mathlib4/commit/d0aa7ef5d825085f84717d5eb8008c3910b90d3a but it a lot less nice.\r\n\r\nIn the theorem `marginal_union` I do the following calculation (`s` and `t` are Finsets):\r\n```\r\n(∫⋯∫_s ∪ t, f ∂μ) x = \r\n∫⁻ (y : (i : ↥(s ∪ t)) → π i), f (updateFinset x (s ∪ t) y) ∂.pi fun i' : ↥(s ∪ t) ↦ μ i'\r\n```\r\nThis is true by definition when using `updateFinset`.\r\n\r\nWhen using `updateSet`, I have to be very careful to use `Finset`-unions. If I use `Set`-unions, then there are multiple places where the expression becomes type-incorrect (or it becomes nontrivial to prove that it is equal to the `Finset`-union case).\r\n\r\nThe rest of the calculation mostly goes through the same, if I'm very careful by explicitly stating where the coercions should be added. Some lemmas I still need to formulate for `Finset` specifically, and sometimes I can use `Set` analogues.\r\n\r\nI strongly prefer to keep `updateFinset`. If you don't like this operation, I'd be happy to call it `marginalAux` or something and move it to the `Marginal` file, to be PR'd later. (`marginalAux` was actually the original name, until I thought that this operation might be more generally useful.)\r\n\r\nEDIT: \"just use `norm_cast`\" isn't very helpful, since `updateSet` is a dependently typed function: the type of argument `y` depends on the set `s`, so rewriting the set `s` to an equal set `s'` is already quite painful.",
                    "createdAt": "2023-09-26T13:34:01Z",
                    "author": {
                      "login": "fpvandoorn"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5RIvUQ",
                    "body": "This is not fundamental, but sums are coproducts, hence I'd write this lemma as a map from s + t to s cup t.\r\nThe usefulness of this remark may appear in the next lemmas which explicitly prove something about the inverse of this map.",
                    "createdAt": "2023-10-16T20:45:24Z",
                    "author": {
                      "login": "AntoineChambert-Loir"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5RMJNN",
                    "body": "I indeed do use the symmetric version of these equivalences most of the time, so I've reversed them",
                    "createdAt": "2023-10-17T13:41:34Z",
                    "author": {
                      "login": "fpvandoorn"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5RIvl1",
                    "body": "That one is written in the “correct” direction.",
                    "createdAt": "2023-10-16T20:46:41Z",
                    "author": {
                      "login": "AntoineChambert-Loir"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5RZkwO",
                    "body": "I'm not convinced this one is worth having; the space of equivs which can be proved with `Equiv.Set.ofEq` seems too large to justify giving any of them names.",
                    "createdAt": "2023-10-19T14:38:20Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5RZlDN",
                    "body": "I think it would be worth having a `disjUnion` version of this, since then you could drop the `[DecidableEq α]` assumption.",
                    "createdAt": "2023-10-19T14:39:06Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5RhxQU",
                    "body": "Then we would need to add `DecidablePred (· ∈ s)` to make `Equiv.Set.union` work. I don't see why that's better.",
                    "createdAt": "2023-10-21T22:38:35Z",
                    "author": {
                      "login": "fpvandoorn"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Rw1so",
                    "body": "Oh good point, you need to be able to decide which half of the disjoint union an element is in to produce the sum type.",
                    "createdAt": "2023-10-25T13:23:36Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5RZnSP",
                    "body": "```suggestion\r\n  rw [apply_update P, update_apply, ite_prop_iff_or]\r\n```",
                    "createdAt": "2023-10-19T14:42:17Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  }
                ]
              }
            }
          ]
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "MDQ6VXNlcjczNzYwMTI=",
              "login": "fpvandoorn"
            },
            {
              "id": "MDQ6VXNlcjg2ODU4OA==",
              "login": "digama0"
            },
            {
              "id": "MDQ6VXNlcjQyNTI2MA==",
              "login": "eric-wieser"
            },
            {
              "id": "MDQ6VXNlcjQ4MTczNDg=",
              "login": "AntoineChambert-Loir"
            },
            {
              "id": "MDQ6VXNlcjU2MzY3MDU=",
              "login": "jcommelin"
            },
            {
              "id": "MDQ6VXNlcjEwODE4NDM0",
              "login": "sgouezel"
            },
            {
              "id": "U_kgDOB75MNQ",
              "login": "leanprover-community-mathlib4-bot"
            }
          ]
        },
        "state": "MERGED",
        "statusCheckRollup": null,
        "title": "feat: define `updateFinset` which updates a finite number components of a vector",
        "updatedAt": "2023-11-07T15:29:25Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/7341",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "c257f8bcda38b4e15f01cfc205655fa9a453c6a1"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "f40924eaeb5abdf8928f7e2a831c880018ddc895"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "29f28dfa9a9ca53d5dee7e33c8495f3ccd2adb53"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "13bf6e85f498557e22e8f17ac927438df50f94e3"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "290730efb780c55c4faf68907bad545fce591a67"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "6485c63cd1a8a51687362223d4e737415425d46d"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "dfbe25e68ab8306d15b0d58820017fb300a33ab5"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5x1xPKzwAAAAJvE4RJ",
              "createdAt": "2023-09-23T16:08:10Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5x1xPKzwAAAAJvE4RK",
              "createdAt": "2023-09-23T16:08:10Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "18e9d27cf23415a7a25cb92ebcf5a0d4a6f6cc41"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5x1xPKzwAAAAJvE94x",
              "createdAt": "2023-09-23T16:20:53Z",
              "label": {
                "id": "MDU6TGFiZWwzMjg4OTQyMDg2",
                "name": "blocked-by-other-PR"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5hzukn",
              "createdAt": "2023-09-23T21:50:21Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5hzuxx",
              "createdAt": "2023-09-23T22:02:50Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5hzu0y",
              "createdAt": "2023-09-23T22:05:11Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5hzu1X",
              "createdAt": "2023-09-23T22:05:43Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5hzu4z",
              "createdAt": "2023-09-23T22:09:15Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5hzu5H",
              "createdAt": "2023-09-23T22:09:30Z",
              "body": "I'm out of time for now",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "2587bb8fcb0004e395c8fcba319d682e873a694a"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "4c72be419d8c6f0d6d39bc4234b994f47b70733f"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "f7ec64659b413ae950a03456670b2a3565200699"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "50a3e26463ab95fc982792a02af7aa340745cecf"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "7e3836bfc4623cfc16c93fb0fff939d155cbc840"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "7eb325cb5dda207fec0e29a377938b090301db1a"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5h3P1T",
              "createdAt": "2023-09-25T10:56:33Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "717b04fc0565920e687948b3f01a43ea14657a7b"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ce85343438a0f2e402313721bd61dfa56baf3de7"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "06a3f7c74bd8288f5f040605c2042c74a8a36c9c"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "30dc7926d5f695dc5e436fe1fe79c851517f3a21"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "acbf849de2f9f3e0ba8a4dafcb256a9fce655d72"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "acfe1170ef737e532246515f4ab96a8ad1010382"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "9f301831737e85cada0f38e83d5bafc2ba1f85f6"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "de82d6caf27583259cd9c6da6283ccc1fc459085"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "a3cb8ca1c512bf0ab9f929d341de39c3a816235c"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "88e029d28ca8b02130a7fb13826e4e31288ec02f"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "eeb5d4aa1ac87a2e498768c47c694a8da3b1b765"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5x1xPKzwAAAAJwc3K-",
              "createdAt": "2023-09-26T15:03:31Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5x1xPKzwAAAAJ0FHmD",
              "createdAt": "2023-10-03T12:03:22Z",
              "label": {
                "id": "MDU6TGFiZWwzMjg4OTQyMDg2",
                "name": "blocked-by-other-PR"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "3d3f3e47284130e9f9ea6abb25b0ea9444fc2c06"
              }
            },
            {
              "__typename": "ReviewRequestedEvent",
              "id": "RRE_lADOFcwZ1c5x1xPKzwAAAAJ0ow-C",
              "createdAt": "2023-10-04T06:51:22Z",
              "requestedReviewer": {
                "id": "MDQ6VXNlcjQyNTI2MA==",
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5kMO8i",
              "createdAt": "2023-10-16T20:45:24Z",
              "body": "",
              "author": {
                "login": "AntoineChambert-Loir"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5kMPX4",
              "createdAt": "2023-10-16T20:46:41Z",
              "body": "",
              "author": {
                "login": "AntoineChambert-Loir"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "8a5341e1011589316d0dad79a5bd1e4cedbcd363"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "6ea9a563e00fc7a6e51c706600ffc09da4ab3615"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c5O8Gc3",
              "createdAt": "2023-10-18T19:42:58Z",
              "source": {
                "id": "PR_kwDOFcwZ1c5dLtT-",
                "title": "[Merged by Bors] - feat: some measure preserving equivalences on pi-types",
                "url": "https://github.com/leanprover-community/mathlib4/pull/7751"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "9b08d969996e3467b5adb51233e0ec0540c42dac"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "6b58c8f3448db7dd69362d1fc87715cdedb978e7"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5km7ei",
              "createdAt": "2023-10-19T14:38:20Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5km775",
              "createdAt": "2023-10-19T14:39:06Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5km_Zl",
              "createdAt": "2023-10-19T14:42:16Z",
              "body": "",
              "author": {
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "47650b3da3e6aa861b6149f63c060ad9c0cb4a96"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5pu_zB",
              "createdAt": "2023-10-21T21:33:19Z",
              "body": "Note: I have pushed an update to the lean toolchain because this PR was on a [buggy version](https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Potential.20data.20loss.20from.20.60lake.20clean.60.20with.204.2E2.2E0-rc2.2F3/near/397875701) of the toolchain. **WARNING**: checking out old commits of this PR using v4.2.0-rc2 or v4.2.0-rc3 can cause `lake clean` to delete your mathlib folder! If you need to do so, make sure to delete `lakefile.olean` manually before running any `lake` commands.",
              "author": {
                "login": "digama0"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "bd03a415497a8c21043f36849d1cc8313b72fef4"
              }
            },
            {
              "__typename": "ReviewRequestedEvent",
              "id": "RRE_lADOFcwZ1c5x1xPKzwAAAAKA4KyB",
              "createdAt": "2023-10-24T10:36:46Z",
              "requestedReviewer": {
                "id": "MDQ6VXNlcjQyNTI2MA==",
                "login": "eric-wieser"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "56215bf7f741b3bf1075c41ba1bd33c86c075fcc"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c5PG0e4",
              "createdAt": "2023-10-30T09:57:00Z",
              "source": {
                "id": "PR_kwDOFcwZ1c5eFfXn",
                "title": "[Merged by Bors] - feat: Compute volume of balls of higher dimension for Lp norms",
                "url": "https://github.com/leanprover-community/mathlib4/pull/8030"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5x1xPKzwAAAAKEsrbx",
              "createdAt": "2023-10-31T06:28:06Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e88a228dd96fc004391055fc506e439a2158e152"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5x1xPKzwAAAAKIBOyS",
              "createdAt": "2023-11-06T12:08:17Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5mOggO",
              "createdAt": "2023-11-06T12:46:48Z",
              "body": "LGTM\r\n\r\nmaintainer merge",
              "author": {
                "login": "jcommelin"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5q-Za0",
              "createdAt": "2023-11-06T12:47:01Z",
              "body": "🚀 Pull request has been placed on the maintainer queue by jcommelin.",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "__typename": "AddedToMergeQueueEvent"
            },
            {
              "__typename": "RemovedFromMergeQueueEvent"
            },
            {
              "__typename": "AddedToMergeQueueEvent"
            },
            {
              "__typename": "RemovedFromMergeQueueEvent"
            },
            {
              "__typename": "MergedEvent",
              "id": "ME_lADOFcwZ1c5x1xPKzwAAAAKI9ntP",
              "createdAt": "2023-11-07T14:36:58Z",
              "mergeRefName": "master"
            },
            {
              "__typename": "ClosedEvent",
              "id": "CE_lADOFcwZ1c5x1xPKzwAAAAKI9ntz",
              "createdAt": "2023-11-07T14:36:58Z"
            },
            {
              "__typename": "HeadRefDeletedEvent",
              "id": "HRDE_lADOFcwZ1c5x1xPKzwAAAAKJAg0p",
              "createdAt": "2023-11-07T15:29:25Z"
            },
            {
              "__typename": "ReferencedEvent"
            }
          ]
        }
      }
    }
  }
}
