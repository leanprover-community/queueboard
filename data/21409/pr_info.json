{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 1619,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "Vierkantor"
        },
        "autoMergeRequest": null,
        "baseRefName": "master",
        "body": "This PR implements `Hom` classes and `ConcreteCategory` instances for the following categories of orders:\r\n* `Preord`\r\n* `PartOrd`, `FinPartOrd`\r\n* `Lat`\r\n* `DistLat`\r\n* `LinOrd`, `NonemptyFinLinOrd`\r\n* `BddOrd`\r\n* `Frm`\r\n* `BddLat`\r\n* `BddDistLat`, `FinBddDistLat`\r\n* `BoolAlg`, `FinBoolAlg`\r\n* `HeytAlg`\r\n\r\nIt also replaces `HasForget` instances with `ConcreteCategory` instances for the following categories of orders:\r\n* `SemilatSupCat`, `SemilatInfCat`\r\n* `SimplexCategory`\r\n\r\nThe following order categories still need to be refactored:\r\n* `CompleteLat`\r\n* `ωCPO`\r\n\r\nZulip thread: https://leanprover.zulipchat.com/#narrow/channel/287929-mathlib4/topic/Concrete.20category.20class.20redesign\r\n\r\n\r\n---\r\n<!-- The text above the `---` will become the commit message when your\r\nPR is merged. Please leave a blank newline before the `---`, otherwise\r\nGitHub will format the text above it as a title.\r\n\r\nFor details on the \"pull request lifecycle\" in mathlib, please see:\r\nhttps://leanprover-community.github.io/contribute/index.html\r\n\r\nIn particular, note that most reviewers will only notice your PR\r\nif it passes the continuous integration checks.\r\nPlease ask for help on https://leanprover.zulipchat.com if needed.\r\n\r\nTo indicate co-authors, include lines at the bottom of the commit message\r\n(that is, before the `---`) using the following format:\r\n\r\nCo-authored-by: Author Name <author@email.com>\r\n\r\nIf you are moving or deleting declarations, please include these lines at the bottom of the commit message\r\n(that is, before the `---`) using the following format:\r\n\r\nMoves:\r\n- Vector.* -> List.Vector.*\r\n- ...\r\n\r\nDeletions:\r\n- Nat.bit1_add_bit1\r\n- ...\r\n\r\nAny other comments you want to keep out of the PR commit should go\r\nbelow the `---`, and placed outside this HTML comment, or else they\r\nwill be invisible to reviewers.\r\n\r\nIf this PR depends on other PRs, please list them below this comment,\r\nusing the following format:\r\n- [ ] depends on: #abc [optional extra text]\r\n- [ ] depends on: #xyz [optional extra text]\r\n\r\n-->\r\n\r\n[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/from-referrer/)\r\n",
        "changedFiles": 26,
        "closed": true,
        "closedAt": "2025-02-10T08:57:24Z",
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c6c9v0i",
              "body": "### PR summary [603727a8ca](https://github.com/leanprover-community/mathlib4/pull/21409/commits/603727a8ca9df60c47afe37a31c1776413596f08)\n\n<details><summary>\n\n#### Import changes for modified files\n\n</summary>\n\nDependency changes\n\n| File | Base Count | Head Count | Change |\n| --- | --- | --- | --- |\n| Mathlib.Order.Category.Preord | 406 | 405 | -1 (-0.25%) |\n| Mathlib.Order.Category.PartOrd | 411 | 410 | -1 (-0.24%) |\n| Mathlib.Order.Category.Lat | 414 | 413 | -1 (-0.24%) |\n| Mathlib.Order.Category.Semilat | 414 | 413 | -1 (-0.24%) |\n| Mathlib.Order.Category.BddOrd | 415 | 414 | -1 (-0.24%) |\n| Mathlib.Order.Category.DistLat | 415 | 414 | -1 (-0.24%) |\n| Mathlib.Order.Category.LinOrd | 415 | 414 | -1 (-0.24%) |\n| Mathlib.Order.Category.Frm | 418 | 417 | -1 (-0.24%) |\n| Mathlib.Order.Category.BddLat | 423 | 422 | -1 (-0.24%) |\n| Mathlib.Order.Category.BddDistLat | 425 | 424 | -1 (-0.24%) |\n| Mathlib.Order.Category.HeytAlg | 427 | 426 | -1 (-0.23%) |\n| Mathlib.Order.Category.BoolAlg | 431 | 430 | -1 (-0.23%) |\n| Mathlib.Order.Category.FinPartOrd | 544 | 543 | -1 (-0.18%) |\n| Mathlib.Order.Category.FinBddDistLat | 588 | 587 | -1 (-0.17%) |\n| Mathlib.Order.Category.FinBoolAlg | 601 | 600 | -1 (-0.17%) |\n| Mathlib.Algebra.Category.BoolRing | 635 | 634 | -1 (-0.16%) |\n| Mathlib.Order.Category.NonemptyFinLinOrd | 643 | 642 | -1 (-0.16%) |\n| Mathlib.Topology.Specialization | 774 | 773 | -1 (-0.13%) |\n| Mathlib.Topology.Order.Category.AlexDisc | 775 | 774 | -1 (-0.13%) |\n| Mathlib.AlgebraicTopology.SimplexCategory | 822 | 821 | -1 (-0.12%) |\n| Mathlib.AlgebraicTopology.SimplicialSet.Nerve | 843 | 842 | -1 (-0.12%) |\n| Mathlib.AlgebraicTopology.TopologicalSimplex | 1257 | 1256 | -1 (-0.08%) |\n| Mathlib.Topology.Category.CompHaus.Frm | 1504 | 1503 | -1 (-0.07%) |\n| Mathlib.Topology.Category.Locale | 1505 | 1504 | -1 (-0.07%) |\n| Mathlib.Topology.Order.Category.FrameAdjunction | 1506 | 1505 | -1 (-0.07%) |\n\n\n<details><summary>Import changes for all files</summary>\n\n|Files|Import difference|\n|-|-|\n|<details><summary>72 files</summary> `Mathlib.Algebra.Category.BoolRing` `Mathlib.AlgebraicTopology.AlternatingFaceMapComplex` `Mathlib.AlgebraicTopology.CechNerve` `Mathlib.AlgebraicTopology.DoldKan.Decomposition` `Mathlib.AlgebraicTopology.DoldKan.Degeneracies` `Mathlib.AlgebraicTopology.DoldKan.EquivalenceAdditive` `Mathlib.AlgebraicTopology.DoldKan.EquivalencePseudoabelian` `Mathlib.AlgebraicTopology.DoldKan.Equivalence` `Mathlib.AlgebraicTopology.DoldKan.Faces` `Mathlib.AlgebraicTopology.DoldKan.FunctorGamma` `Mathlib.AlgebraicTopology.DoldKan.FunctorN` `Mathlib.AlgebraicTopology.DoldKan.GammaCompN` `Mathlib.AlgebraicTopology.DoldKan.Homotopies` `Mathlib.AlgebraicTopology.DoldKan.HomotopyEquivalence` `Mathlib.AlgebraicTopology.DoldKan.NCompGamma` `Mathlib.AlgebraicTopology.DoldKan.NReflectsIso` `Mathlib.AlgebraicTopology.DoldKan.Normalized` `Mathlib.AlgebraicTopology.DoldKan.Notations` `Mathlib.AlgebraicTopology.DoldKan.PInfty` `Mathlib.AlgebraicTopology.DoldKan.Projections` `Mathlib.AlgebraicTopology.DoldKan.SplitSimplicialObject` `Mathlib.AlgebraicTopology.ExtraDegeneracy` `Mathlib.AlgebraicTopology.MooreComplex` `Mathlib.AlgebraicTopology.Quasicategory.Basic` `Mathlib.AlgebraicTopology.Quasicategory.Nerve` `Mathlib.AlgebraicTopology.Quasicategory.StrictSegal` `Mathlib.AlgebraicTopology.SimplexCategory` `Mathlib.AlgebraicTopology.SimplicialCategory.Basic` `Mathlib.AlgebraicTopology.SimplicialCategory.SimplicialObject` `Mathlib.AlgebraicTopology.SimplicialNerve` `Mathlib.AlgebraicTopology.SimplicialObject.Basic` `Mathlib.AlgebraicTopology.SimplicialObject.Coskeletal` `Mathlib.AlgebraicTopology.SimplicialObject.Split` `Mathlib.AlgebraicTopology.SimplicialSet.Basic` `Mathlib.AlgebraicTopology.SimplicialSet.Boundary` `Mathlib.AlgebraicTopology.SimplicialSet.Coskeletal` `Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat` `Mathlib.AlgebraicTopology.SimplicialSet.Horn` `Mathlib.AlgebraicTopology.SimplicialSet.KanComplex` `Mathlib.AlgebraicTopology.SimplicialSet.Monoidal` `Mathlib.AlgebraicTopology.SimplicialSet.Nerve` `Mathlib.AlgebraicTopology.SimplicialSet.Path` `Mathlib.AlgebraicTopology.SimplicialSet.StdSimplex` `Mathlib.AlgebraicTopology.SimplicialSet.StrictSegal` `Mathlib.AlgebraicTopology.SingularSet` `Mathlib.AlgebraicTopology.TopologicalSimplex` `Mathlib.CategoryTheory.Idempotents.SimplicialObject` `Mathlib.Order.Category.BddDistLat` `Mathlib.Order.Category.BddLat` `Mathlib.Order.Category.BddOrd` `Mathlib.Order.Category.BoolAlg` `Mathlib.Order.Category.DistLat` `Mathlib.Order.Category.FinBddDistLat` `Mathlib.Order.Category.FinBoolAlg` `Mathlib.Order.Category.FinPartOrd` `Mathlib.Order.Category.Frm` `Mathlib.Order.Category.HeytAlg` `Mathlib.Order.Category.Lat` `Mathlib.Order.Category.LinOrd` `Mathlib.Order.Category.NonemptyFinLinOrd` `Mathlib.Order.Category.PartOrd` `Mathlib.Order.Category.Preord` `Mathlib.Order.Category.Semilat` `Mathlib.RepresentationTheory.GroupCohomology.Basic` `Mathlib.RepresentationTheory.GroupCohomology.Hilbert90` `Mathlib.RepresentationTheory.GroupCohomology.LowDegree` `Mathlib.RepresentationTheory.GroupCohomology.Resolution` `Mathlib.Topology.Category.CompHaus.Frm` `Mathlib.Topology.Category.Locale` `Mathlib.Topology.Order.Category.AlexDisc` `Mathlib.Topology.Order.Category.FrameAdjunction` `Mathlib.Topology.Specialization`</details>|-1|\n\n</details>\n\n</details>\n\n---\n\n<details><summary>\n\n#### Declarations diff\n\n</summary>\n\n`+ instance (X : NonemptyFinLinOrd) : BoundedOrder X`\n`+ instance (x : SimplexCategory) (n : ℕ) : OfNat (ToType x) n`\n`+ instance (x : SimplexCategory) : CoeFun x.toTopObj fun _ => ToType x → ℝ≥0`\n`+ instance (x : SimplexCategory) : Fintype (ToType x)`\n`+ instance : Category BddDistLat.{u}`\n`+ instance : Category BddOrd.{u}`\n`+ instance : Category BoolAlg.{u}`\n`+ instance : Category DistLat.{u}`\n`+ instance : Category FinBddDistLat.{u}`\n`+ instance : Category Frm.{u}`\n`+ instance : Category HeytAlg.{u}`\n`+ instance : Category Lat.{u}`\n`+ instance : Category LinOrd.{u}`\n`+ instance : Category PartOrd.{u}`\n`+ instance : Category Preord.{u}`\n`+ instance : CoeSort BoolAlg (Type _)`\n`+ instance : CoeSort DistLat.{u} (Type u)`\n`+ instance : CoeSort Frm (Type _)`\n`+ instance : CoeSort HeytAlg (Type _)`\n`+ instance : CoeSort Lat (Type _)`\n`+ instance : CoeSort LinOrd (Type _)`\n`+ instance : CoeSort NonemptyFinLinOrd (Type _)`\n`+ instance : CoeSort PartOrd (Type _)`\n`+ instance : CoeSort Preord (Type u)`\n`+ instance : ConcreteCategory BddDistLat (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory BddLat (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory BddOrd (BoundedOrderHom · ·)`\n`+ instance : ConcreteCategory BoolAlg (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory DistLat (LatticeHom · ·)`\n`+ instance : ConcreteCategory FinBddDistLat (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory Frm (FrameHom · ·)`\n`+ instance : ConcreteCategory HeytAlg (HeytingHom · ·)`\n`+ instance : ConcreteCategory Lat (LatticeHom · ·)`\n`+ instance : ConcreteCategory LinOrd (· →o ·)`\n`+ instance : ConcreteCategory NonemptyFinLinOrd (· →o ·)`\n`+ instance : ConcreteCategory PartOrd (· →o ·)`\n`+ instance : ConcreteCategory Preord (· →o ·)`\n`+ instance : ConcreteCategory SemilatInfCat (InfTopHom · ·)`\n`+ instance : ConcreteCategory SemilatSupCat (SupBotHom · ·)`\n`+ instance : ConcreteCategory SimplexCategory (fun i j => Fin (i.len + 1) →o Fin (j.len + 1))`\n`+ instance : LargeCategory NonemptyFinLinOrd`\n`+ toType_apply`\n`++ concreteCategory`\n`+++++++++++ coe_comp`\n`+++++++++++ coe_id`\n`+++++++++++ forget_map`\n`+++++++++++ hom_inv_apply`\n`+++++++++++ inv_hom_apply`\n`+++++++++++ ofHom_apply`\n`+++++++++++ ofHom_comp`\n`+++++++++++ ofHom_id`\n`++++++++++++ Hom.hom`\n`++++++++++++ ext`\n`+++++++++++++ hom_ofHom`\n`+++++++++++++ ofHom_hom`\n`++++++++++++++ Hom.Simps.hom`\n`++++++++++++++ comp_apply`\n`++++++++++++++ hom_comp`\n`++++++++++++++ hom_ext`\n`++++++++++++++ hom_id`\n`++++++++++++++ id_apply`\n`++++++++++++++ ofHom`\n`+++++++++++++++++----------------- of`\n`+++++++++------+----- coe_of`\n`- Fin.nonemptyFiniteLinearOrder`\n`- NonemptyFiniteLinearOrder`\n`- PUnit.nonemptyFiniteLinearOrder`\n`- ULift.nonemptyFiniteLinearOrder`\n`- forget_map_apply`\n`- instBooleanAlgebra`\n`- instBoundedLatticeHomClass`\n`- instance (X : BddLat) : Lattice X`\n`- instance (X : BddOrd) : PartialOrder X`\n`- instance (X : DistLat) : DistribLattice X`\n`- instance (X : FinBoolAlg) : BooleanAlgebra X`\n`- instance (X : Frm) : Frame X`\n`- instance (X : HeytAlg) : HeytingAlgebra X`\n`- instance (X : Lat) : Lattice X`\n`- instance (priority := 100) NonemptyFiniteLinearOrder.toBoundedOrder (α : Type*)`\n`- instance (x : SimplexCategory) (n : ℕ) : OfNat (HasForget.forget.obj x) n`\n`- instance (x : SimplexCategory) : CoeFun x.toTopObj fun _ => x → ℝ≥0`\n`- instance (x : SimplexCategory) : Fintype (HasForget.forget.obj x)`\n`- instance (α : LinOrd) : LinearOrder α`\n`- instance (α : NonemptyFinLinOrd) : NonemptyFiniteLinearOrder α`\n`- instance (α : PartOrd) : PartialOrder α`\n`- instance (α : Preord) : Preorder α`\n`- instance (α : Type*) [NonemptyFiniteLinearOrder α] : NonemptyFiniteLinearOrder αᵒᵈ`\n`- instance : BundledHom @LatticeHom`\n`- instance : BundledHom @OrderHom`\n`- instance : BundledHom.ParentProjection @DistribLattice.toLattice`\n`- instance : BundledHom.ParentProjection @LinearOrder.toPartialOrder`\n`- instance : BundledHom.ParentProjection @NonemptyFiniteLinearOrder.toLinearOrder`\n`- instance : BundledHom.ParentProjection @PartialOrder.toPreorder`\n`- instance : CoeSort BoolAlg Type*`\n`- instance : CoeSort DistLat Type*`\n`- instance : CoeSort Frm Type*`\n`- instance : CoeSort HeytAlg Type*`\n`- instance : CoeSort Lat Type*`\n`- instance : CoeSort LinOrd Type*`\n`- instance : CoeSort NonemptyFinLinOrd Type*`\n`- instance : CoeSort PartOrd Type*`\n`- instance : CoeSort Preord Type*`\n`- instance : HasForget BddDistLat`\n`- instance : HasForget BddLat`\n`- instance : HasForget BoolAlg`\n`- instance : HasForget DistLat`\n`- instance : HasForget Frm := by`\n`- instance : HasForget HeytAlg := by`\n`- instance : HasForget Lat`\n`- instance : HasForget LinOrd`\n`- instance : HasForget NonemptyFinLinOrd`\n`- instance : HasForget PartOrd`\n`- instance : HasForget Preord`\n`- instance : HasForget SemilatInfCat`\n`- instance : HasForget SemilatSupCat`\n`- instance : HasForget.{0} SimplexCategory`\n`- instance : Inhabited DistLat`\n`- instance : Inhabited Lat`\n`- instance : Inhabited PartOrd`\n`- instance : LargeCategory.{u} BddDistLat`\n`- instance : LargeCategory.{u} BoolAlg`\n`- instance : LargeCategory.{u} Lat`\n`- instance {A B : NonemptyFinLinOrd.{u}} : FunLike (A ⟶ B) A B`\n`- instance {A B : NonemptyFinLinOrd.{u}} : OrderHomClass (A ⟶ B) A B`\n`- instance {X Y : HeytAlg.{u}} : FunLike (X ⟶ Y) ↑X ↑Y`\n`- instance {X Y : HeytAlg.{u}} : HeytingHomClass (X ⟶ Y) ↑X ↑Y`\n`-++++++++++++ Hom`\n`-+-+ hasForgetToBddDistLat`\n`-- bundledHom`\n`-- largeCategory`\n`---- hasForget`\n`----- instFunLike`\n<details>\n  <summary>You can run this locally as follows</summary>\n\n\n```bash\n## summary with just the declaration names:\n./scripts/declarations_diff.sh <optional_commit>\n\n## more verbose report:\n./scripts/declarations_diff.sh long <optional_commit>\n```\n</details>\n\nThe doc-module for `script/declarations_diff.sh` contains some details about this script.\n\n</details>\n\n---\n\n<details><summary>Decrease in tech debt: (relative, absolute) = (28.00, 0.01)</summary>\n\n|Current number|Change|Type|\n|-:|:-:|:-|\n|4030|-28|porting notes|\n\nCurrent commit [603727a8ca](https://github.com/leanprover-community/mathlib4/commit/603727a8ca9df60c47afe37a31c1776413596f08)\nReference commit [e05e225065](https://github.com/leanprover-community/mathlib4/commit/e05e225065104b31833e1dad5cb06b0862b2fa6d)\n\nYou can run this locally as\n```\n./scripts/technical-debt-metrics.sh pr_summary\n```\n* The `relative` value is the weighted *sum* of the differences with weight given by the *inverse* of the current value of the statistic.\n* The `absolute` value is the `relative` value divided by the total sum of the inverses of the current values (i.e. the weighted *average* of the differences).\n</details>\n",
              "createdAt": "2025-02-04T10:07:15Z",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c-Mc6",
              "body": "!bench",
              "createdAt": "2025-02-04T10:53:53Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c-dNK",
              "body": "Here are the [benchmark results](https://speed.lean-lang.org/mathlib4/run-detail/c0168192-ddcb-47fa-8ff1-c64be878ba76) for commit e187402aad26317e9f6997ec6aeff6f1c6a1649b.\nThere were [significant changes](https://speed.lean-lang.org/mathlib4/compare/b87280e6-8612-4e00-9533-e98d82c55c29/to/c0168192-ddcb-47fa-8ff1-c64be878ba76) against commit 2dd5bb2d33e82377b2cc4e347e2317a4ec0603bc:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n- ~Mathlib.AlgebraicTopology.SimplicialSet.Nerve   instructions   137.4%\n- ~Mathlib.Order.Category.DistLat                  instructions   270.8%\n- ~Mathlib.Order.Category.Lat                      instructions   172.3%\n- ~Mathlib.Order.Category.LinOrd                   instructions    77.8%\n- ~Mathlib.Order.Category.NonemptyFinLinOrd        instructions    96.7%\n```",
              "createdAt": "2025-02-04T11:23:08Z",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c-df6",
              "body": "|File|Instructions|%|\n|-|-:|:-:|\n|`build`|+144.114⬝10⁹|(+0.09%)|\n|`lint`|-22.227⬝10⁹|(-0.29%)|\n|`Mathlib.Order.Category.NonemptyFinLinOrd`|+30.73⬝10⁹|(+96.73%)|\n|`Mathlib.Order.Category.DistLat`|+26.274⬝10⁹|(+270.77%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.Nerve`|+25.669⬝10⁹|(+137.44%)|\n|`Mathlib.Order.Category.Lat`|+21.163⬝10⁹|(+172.25%)|\n|`Mathlib.Order.Category.LinOrd`|+10.848⬝10⁹|(+77.77%)|\n|`Mathlib.Order.Category.PartOrd`|+9.470⬝10⁹|(+78.00%)|\n|`Mathlib.Order.Category.BddOrd`|+6.193⬝10⁹|(+36.63%)|\n|`Mathlib.Order.Category.Frm`|+5.768⬝10⁹|(+121.26%)|\n|`Mathlib.Order.Category.Preord`|+4.626⬝10⁹|(+45.86%)|\n|`Mathlib.Order.Category.FinPartOrd`|+3.959⬝10⁹|(+28.83%)|\n|`Mathlib.Topology.Order.Category.AlexDisc`|+2.322⬝10⁹|(+9.27%)|\n<details><summary>3 files, Instructions +1.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.AlgebraicTopology.SimplexCategory`|+1.561⬝10⁹|(+2.98%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat`|+1.456⬝10⁹|(+2.89%)|\n|`Mathlib.Topology.Order.Category.FrameAdjunction`|+1.300⬝10⁹|(+5.07%)|\n</details>\n\n<details><summary>2 files, Instructions -2.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.FinBoolAlg`|-1.36⬝10⁹|(-2.88%)|\n|`Mathlib.Order.Category.BddLat`|-1.340⬝10⁹|(-4.30%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.BddDistLat`|-2.426⬝10⁹|(-12.52%)|\n|`Mathlib.Order.Category.FinBddDistLat`|-3.452⬝10⁹|(-13.57%)|\n[CI run](https://github.com/leanprover-community/mathlib4/actions/runs/13134362637)",
              "createdAt": "2025-02-04T11:23:32Z",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c-luw",
              "body": "Most of those slowdowns are in files that grew quite a bit. Looks like `AlgebraicTopology.SimplicialSet.Nerve` got slower due to the `aesop` calls in `nerve` being slow. They can be replaced with `rfl` and become fast, but I think I'll try and figure out if I can make `aesop` faster.",
              "createdAt": "2025-02-04T11:39:00Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c_HoH",
              "body": "> Most of those slowdowns are in files that grew quite a bit. Looks like `AlgebraicTopology.SimplicialSet.Nerve` got slower due to the `aesop` calls in `nerve` being slow. They can be replaced with `rfl` and become fast, but I think I'll try and figure out if I can make `aesop` faster.\r\n\r\nAdding a `Hom` structure for `SimplexCategory` did not seem to help, and I still don't know how to figure out where `simp` spends all its time. I'll just do the proofs by hand then.",
              "createdAt": "2025-02-04T12:40:26Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c_LIv",
              "body": "I've been looking at `BoolAlg` and come to the conclusion that `Hom` structures for `BddLat` and `BddDistLat` would be helpful. One moment please...",
              "createdAt": "2025-02-04T12:46:52Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c_iuS",
              "body": "Oh, interesting. Looking at a timeout in `FinBddDistLat` suggests that I might actually be going down the wrong way with bundling instances. Namely, previously we implemented `NonemptyFinLinOrd` as a class `NonemptyFiniteLinearOrder` plus a structure bundling a type `X` with an instance `NonemptyFiniteLinearOrder X`. But now I'm getting slow equality checks on `(dual.obj (dual.obj X)).carrier = X.carrierᵒᵈᵒᵈ`. Even though these should be exactly the same thing, it ends up checking that each order class on `dual.obj X` is the same as `Xᵒᵈ`...",
              "createdAt": "2025-02-04T13:22:44Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c_kLa",
              "body": "(by the way, this is a refactor PR, not a feat PR, right?)",
              "createdAt": "2025-02-04T13:24:08Z",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6c_4QO",
              "body": "> Oh, interesting. Looking at a timeout in `FinBddDistLat` suggests that I might actually be going down the wrong way with bundling instances. Namely, previously we implemented `NonemptyFinLinOrd` as a class `NonemptyFiniteLinearOrder` plus a structure bundling a type `X` with an instance `NonemptyFiniteLinearOrder X`. But now I'm getting slow equality checks on `(dual.obj (dual.obj X)).carrier = X.carrierᵒᵈᵒᵈ`. Even though these should be exactly the same thing, it ends up checking that each order class on `dual.obj X` is the same as `Xᵒᵈ`...\r\n\r\nNope, changing this doesn't seem to help much...",
              "createdAt": "2025-02-04T13:40:02Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dALjQ",
              "body": "Huh, if I turn `@[simps]` on `dual` into `@[simps map]`, it looks like aesop gets 2x faster for quite a few of the categories. (In general I think we should be more careful with `@[simps]` lemmas on `Functor.obj`s.)",
              "createdAt": "2025-02-04T14:05:05Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dAY4m",
              "body": "In the process of investigation I ended up adding `Hom` structures for most of the order categories anyway. Seems like a shame to waste that effort, so now they're part of the PR. Should I just include `CompleteLattice` and `ωCPO` to be complete? :)",
              "createdAt": "2025-02-04T14:26:09Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dAp4x",
              "body": "!bench",
              "createdAt": "2025-02-04T14:44:43Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dA-7w",
              "body": "Here are the [benchmark results](https://speed.lean-lang.org/mathlib4/run-detail/e07673e5-c875-4ca6-a84e-0ee1cf49094b) for commit 98ccd36fa08cc971aae660e52030a41954d81ea9.\nThere were [significant changes](https://speed.lean-lang.org/mathlib4/compare/b87280e6-8612-4e00-9533-e98d82c55c29/to/e07673e5-c875-4ca6-a84e-0ee1cf49094b) against commit 2dd5bb2d33e82377b2cc4e347e2317a4ec0603bc:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n+ ~Mathlib.AlgebraicTopology.SimplicialSet.Nerve   instructions   -62.8%\n- ~Mathlib.Order.Category.BddDistLat               instructions    52.6%\n- ~Mathlib.Order.Category.BoolAlg                  instructions    64.0%\n- ~Mathlib.Order.Category.DistLat                  instructions   268.7%\n- ~Mathlib.Order.Category.NonemptyFinLinOrd        instructions    86.0%\n```",
              "createdAt": "2025-02-04T15:15:50Z",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dA_N6",
              "body": "|File|Instructions|%|\n|-|-:|:-:|\n|`build`|+137.918⬝10⁹|(+0.09%)|\n|`lint`|-19.659⬝10⁹|(-0.25%)|\n<details><summary>2 files, Instructions +26.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.NonemptyFinLinOrd`|+26.734⬝10⁹|(+85.99%)|\n|`Mathlib.Order.Category.DistLat`|+26.71⬝10⁹|(+268.67%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.BoolAlg`|+17.60⬝10⁹|(+64.02%)|\n|`Mathlib.Order.Category.BddDistLat`|+10.192⬝10⁹|(+52.62%)|\n|`Mathlib.Order.Category.PartOrd`|+8.271⬝10⁹|(+68.12%)|\n<details><summary>4 files, Instructions +7.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.LinOrd`|+7.928⬝10⁹|(+56.83%)|\n|`Mathlib.Order.Category.BddLat`|+7.796⬝10⁹|(+25.02%)|\n|`Mathlib.Order.Category.FinBddDistLat`|+7.426⬝10⁹|(+29.21%)|\n|`Mathlib.Order.Category.FinBoolAlg`|+7.146⬝10⁹|(+19.89%)|\n</details>\n\n<details><summary>2 files, Instructions +5.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Frm`|+5.768⬝10⁹|(+121.26%)|\n|`Mathlib.Order.Category.Lat`|+5.699⬝10⁹|(+46.38%)|\n</details>\n\n<details><summary>3 files, Instructions +3.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Preord`|+3.810⬝10⁹|(+37.77%)|\n|`Mathlib.Order.Category.HeytAlg`|+3.807⬝10⁹|(+55.34%)|\n|`Mathlib.Order.Category.BddOrd`|+3.549⬝10⁹|(+20.99%)|\n</details>\n\n<details><summary>2 files, Instructions +2.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.FinPartOrd`|+2.401⬝10⁹|(+17.48%)|\n|`Mathlib.Topology.Order.Category.AlexDisc`|+2.321⬝10⁹|(+9.27%)|\n</details>\n\n<details><summary>3 files, Instructions +1.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat`|+1.576⬝10⁹|(+3.13%)|\n|`Mathlib.AlgebraicTopology.SimplexCategory`|+1.553⬝10⁹|(+2.97%)|\n|`Mathlib.Topology.Order.Category.FrameAdjunction`|+1.303⬝10⁹|(+5.08%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Algebra.Category.BoolRing`|-1.493⬝10⁹|(-6.44%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.Nerve`|-11.726⬝10⁹|(-62.78%)|\n[CI run](https://github.com/leanprover-community/mathlib4/actions/runs/13138677211)",
              "createdAt": "2025-02-04T15:16:16Z",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dBQYg",
              "body": "The extra slowdown in `DistLat` was because I forgot a `@[simps map]` there. Otherwise it seems to be just files getting bigger and therefore slower. (Assuming I am debugging the profiler trace / `simp` trace correctly...)",
              "createdAt": "2025-02-04T15:40:59Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dEw8d",
              "body": "!bench",
              "createdAt": "2025-02-04T23:12:57Z",
              "author": {
                "login": "kim-em"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dE7AN",
              "body": "Here are the [benchmark results](https://speed.lean-lang.org/mathlib4/run-detail/2a791737-2317-424e-b449-f68c955790f2) for commit 8711c270631e8621ee06104879f6b120f2f1b867.\nThere were [significant changes](https://speed.lean-lang.org/mathlib4/compare/b87280e6-8612-4e00-9533-e98d82c55c29/to/2a791737-2317-424e-b449-f68c955790f2) against commit 2dd5bb2d33e82377b2cc4e347e2317a4ec0603bc:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n+ ~Mathlib.AlgebraicTopology.SimplicialSet.Nerve   instructions   -62.8%\n- ~Mathlib.Order.Category.BddDistLat               instructions    52.4%\n- ~Mathlib.Order.Category.BoolAlg                  instructions    64.0%\n- ~Mathlib.Order.Category.NonemptyFinLinOrd        instructions    86.0%\n```",
              "createdAt": "2025-02-04T23:42:22Z",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dE7Sn",
              "body": "|File|Instructions|%|\n|-|-:|:-:|\n|`build`|+117.330⬝10⁹|(+0.07%)|\n|`lint`|-19.472⬝10⁹|(-0.25%)|\n|`Mathlib.Order.Category.NonemptyFinLinOrd`|+26.736⬝10⁹|(+85.99%)|\n|`Mathlib.Order.Category.BoolAlg`|+17.61⬝10⁹|(+64.03%)|\n|`Mathlib.Order.Category.BddDistLat`|+10.153⬝10⁹|(+52.42%)|\n|`Mathlib.Order.Category.PartOrd`|+8.270⬝10⁹|(+68.11%)|\n<details><summary>4 files, Instructions +7.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.LinOrd`|+7.929⬝10⁹|(+56.84%)|\n|`Mathlib.Order.Category.BddLat`|+7.794⬝10⁹|(+25.02%)|\n|`Mathlib.Order.Category.FinBddDistLat`|+7.393⬝10⁹|(+29.08%)|\n|`Mathlib.Order.Category.FinBoolAlg`|+7.143⬝10⁹|(+19.88%)|\n</details>\n\n<details><summary>3 files, Instructions +5.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Frm`|+5.768⬝10⁹|(+121.26%)|\n|`Mathlib.Order.Category.Lat`|+5.698⬝10⁹|(+46.38%)|\n|`Mathlib.Order.Category.DistLat`|+5.600⬝10⁹|(+57.72%)|\n</details>\n\n<details><summary>3 files, Instructions +3.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Preord`|+3.810⬝10⁹|(+37.77%)|\n|`Mathlib.Order.Category.HeytAlg`|+3.806⬝10⁹|(+55.33%)|\n|`Mathlib.Order.Category.BddOrd`|+3.550⬝10⁹|(+20.99%)|\n</details>\n\n<details><summary>2 files, Instructions +2.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.FinPartOrd`|+2.401⬝10⁹|(+17.48%)|\n|`Mathlib.Topology.Order.Category.AlexDisc`|+2.323⬝10⁹|(+9.28%)|\n</details>\n\n<details><summary>3 files, Instructions +1.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat`|+1.578⬝10⁹|(+3.14%)|\n|`Mathlib.AlgebraicTopology.SimplexCategory`|+1.553⬝10⁹|(+2.97%)|\n|`Mathlib.Topology.Order.Category.FrameAdjunction`|+1.303⬝10⁹|(+5.08%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Algebra.Category.BoolRing`|-1.496⬝10⁹|(-6.46%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.Nerve`|-11.726⬝10⁹|(-62.78%)|\n[CI run](https://github.com/leanprover-community/mathlib4/actions/runs/13146995922)",
              "createdAt": "2025-02-04T23:42:45Z",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dFt38",
              "body": "> Huh, if I turn `@[simps]` on `dual` into `@[simps map]`, it looks like aesop gets 2x faster for quite a few of the categories. (In general I think we should be more careful with `@[simps]` lemmas on `Functor.obj`s.)\r\n\r\nInteresting... I often find `Functor.obj` lemmas very helpful in `dsimp`, but I can see why they might be harmful in general. Indeed this isn't so surprising because these lemmas are equalities on objects, which would be evil except for the case where they're definitional. I'd view removing the \"simp by rfl\" lemmas on concrete `Functor.obj` as unfortunate, since these are really nice pedagogically in the typical case. I wonder if there's some modification we can make to `aesop_cat` to get the best of both worlds here?",
              "createdAt": "2025-02-05T01:48:58Z",
              "author": {
                "login": "b-mehta"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dINB3",
              "body": "> Interesting... I often find `Functor.obj` lemmas very helpful in `dsimp`, but I can see why they might be harmful in general. Indeed this isn't so surprising because these lemmas are equalities on objects, which would be evil except for the case where they're definitional.\r\n\r\nTrue! Although `@[simps]` is supposed to generate only definitional equalities which are not evil :) From a more mechanical perspective, the issue seems to be that we apply these kind of `Functor.obj` lemmas to our terms, but in the `simp` lemmas themselves we still see quite a few `F.obj`. If the definitional equality isn't reducible, `simp` won't see through that and we can get stuck in a non-confluent corner.\r\n\r\n> I'd view removing the \"simp by rfl\" lemmas on concrete `Functor.obj` as unfortunate, since these are really nice pedagogically in the typical case. I wonder if there's some modification we can make to `aesop_cat` to get the best of both worlds here?\r\n\r\nOn the longer term, we could be using ematching instead of rewriting for our equalities, that would get rid of all of these confluence issues. For now, perhaps we can split the lemmas up into multiple simp sets: call `erase_aesop_rules` on the `Functor.obj` lemmas, but still allow them in full-on `simp`? (Have never tried removing lemmas from `aesop`, so unsure if that's the right way to go.)",
              "createdAt": "2025-02-05T09:21:20Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dIPOU",
              "body": "What about making a version of `simps` that only creates `dsimp` lemmas? Something like `dsimps`",
              "createdAt": "2025-02-05T09:25:17Z",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dIRhh",
              "body": "Not sure I understand. All lemmas created by `simps` are supposed to be `dsimp` lemmas already, no?",
              "createdAt": "2025-02-05T09:29:18Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dIUTs",
              "body": "I mean lemmas that would *only* be used by dsimp, and not by simp",
              "createdAt": "2025-02-05T09:33:58Z",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dIZ3a",
              "body": "Oh I see! I'm not sure that the current architecture of `simp` supports it, AFAICT `dsimp` and `simp` share the `@[simp]` attribute and filter on `SimpTheorem.rfl` when they are called. So there isn't an extra `simp` set that `dsimp` can use but `simp` doesn't.",
              "createdAt": "2025-02-05T09:43:49Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dKg-d",
              "body": "(Is there something I should do for this PR, by the way? The benchmark results appear to be caused by files getting longer, which we can't do too much about...)",
              "createdAt": "2025-02-05T12:53:54Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6duAyi",
              "body": "bors merge",
              "createdAt": "2025-02-09T06:00:05Z",
              "author": {
                "login": "kim-em"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6duDJj",
              "body": "Build failed (retrying...):\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/13222985298/job/36910322831)",
              "createdAt": "2025-02-09T06:38:26Z",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6duE-d",
              "body": "Build failed (retrying...):\n  * Build",
              "createdAt": "2025-02-09T07:09:37Z",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6duFD1",
              "body": "Build failed:\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/13223402595/job/36911208965)",
              "createdAt": "2025-02-09T07:10:55Z",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6duR3h",
              "body": "Looks like the build failure was caused by relying on the definition of the `HasForget` instance in `SimplexCategory`. I've upgraded the usage to `ConcreteCategory`.",
              "createdAt": "2025-02-09T09:57:09Z",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dybTN",
              "body": "bors merge",
              "createdAt": "2025-02-10T08:21:40Z",
              "author": {
                "login": "PatrickMassot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6dywai",
              "body": "Pull request successfully merged into master.\n\nBuild succeeded:\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/13236869689/job/36943436227)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/13236869689/job/36943435949)",
              "createdAt": "2025-02-10T08:57:24Z",
              "author": {
                "login": "mathlib-bors"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "30f04c6592c9a0c35b9c61d760c764a3388d850b",
                "additions": 1020,
                "deletions": 485,
                "committedDate": "2025-02-06T10:16:06Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e719489de04f4bf3cba463db53168f3972013efc",
                "additions": 3,
                "deletions": 1,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ee68c8a39acea2bee4966b7c05ed3de57cf7028d",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne Baanen",
                  "email": "Vierkantor@users.noreply.github.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "fae662e272b739df924e6b7a2679347db840952f",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne Baanen",
                  "email": "Vierkantor@users.noreply.github.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "d56044b6bb6f31353d142205149179f275950623",
                "additions": 558,
                "deletions": 176,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "0e5cc25b587d47acc17318e8b44717b5b022f895",
                "additions": 12,
                "deletions": 12,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ab298661cdc3ea4504ead620e93ff959723bc607",
                "additions": 3,
                "deletions": 0,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "941f61ecae792cb6a533b77100d8f98c3dd90fcb",
                "additions": 0,
                "deletions": 1,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "787e494013df56b9c79c40cb6ba493ac3147a7a0",
                "additions": 1,
                "deletions": 0,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "bb34e9d163cd75c18db4d776f69b891ff8a4258f",
                "additions": 1,
                "deletions": 2,
                "committedDate": "2025-02-06T10:16:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e0ddd103f1c0a83a94c20ce024bdff6140d4cbc5",
                "additions": 2,
                "deletions": 7,
                "committedDate": "2025-02-06T10:24:55Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "8e086bfbe863bac9d552bfa5c60dd6f23c34f2a6",
                "additions": 44,
                "deletions": 44,
                "committedDate": "2025-02-06T10:46:08Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": {
                  "contexts": {
                    "nodes": [
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImAS8CQ",
                        "name": "set_pr_emoji",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13222925496/job/36910185481"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_uNA",
                        "name": "Lint style (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177078919/job/36778798644"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkDC5gg",
                        "name": "set_pr_emoji",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177095625/job/36778850690"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkDBRGg",
                        "name": "Add ready-to-merge or delegated label",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177087477/job/36778823962"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_vWQ",
                        "name": "label-and-report-new-contributor",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177079375/job/36778798937"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkDBRLA",
                        "name": "Ping maintainers on Zulip",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177087478/job/36778823980"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_vnQ",
                        "name": "post-or-update-summary-comment",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177079384/job/36778799005"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkDBRaQ",
                        "name": "Fix style issues from lint",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177087483/job/36778824041"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_seA",
                        "name": "Lint style",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177078915/job/36778798200"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_vng",
                        "name": "Lint style",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177079381/job/36778799006"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_sXA",
                        "name": "Build (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177078919/job/36778798172"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_tyw",
                        "name": "Build",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177078915/job/36778798539"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_xLA",
                        "name": "Check all files imported",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177079381/job/36778799404"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkC_wgQ",
                        "name": "Post-CI job (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177078919/job/36778799233"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkDgjbg",
                        "name": "Post-CI job",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13177078915/job/36779336558"
                      },
                      {
                        "__typename": "StatusContext",
                        "id": "SC_kwDOFcwZ1c8AAAAH8_kN8Q",
                        "context": "bors",
                        "state": "FAILURE",
                        "targetUrl": "https://mathlib-bors-ca18eefec4cb.herokuapp.com/batches/9202",
                        "description": "Build failed"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkDAOwQ",
                        "name": "New Contributor Check",
                        "conclusion": "NEUTRAL",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/runs/36778806977"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAIkDCF1Q",
                        "name": "Summary",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://dashboard.mergify.com/event-logs?pullRequestNumber=21409&login=leanprover-community&repository=mathlib4"
                      }
                    ]
                  }
                }
              }
            },
            {
              "commit": {
                "oid": "6ce4c2b7bb2e716021eeb3615e268f39b8fd708c",
                "additions": 6744,
                "deletions": 3306,
                "committedDate": "2025-02-09T09:44:25Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "603727a8ca9df60c47afe37a31c1776413596f08",
                "additions": 15,
                "deletions": 15,
                "committedDate": "2025-02-09T09:54:04Z",
                "author": {
                  "name": "Anne C.A. Baanen",
                  "email": "vierkantor@vierkantor.com"
                },
                "statusCheckRollup": {
                  "contexts": {
                    "nodes": [
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrW0Q",
                        "name": "Lint style (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541332/job/36913731281"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrX1w",
                        "name": "label-and-report-new-contributor",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541492/job/36913731543"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrX1Q",
                        "name": "post-or-update-summary-comment",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541491/job/36913731541"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrWtQ",
                        "name": "Lint style",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541334/job/36913731253"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrYFw",
                        "name": "Lint style",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541490/job/36913731607"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrXFg",
                        "name": "Build (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541332/job/36913731350"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrW5g",
                        "name": "Build",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541334/job/36913731302"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrXwQ",
                        "name": "Check all files imported",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541490/job/36913731521"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrXTQ",
                        "name": "Post-CI job (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541332/job/36913731405"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImD2dLA",
                        "name": "Post-CI job",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541334/job/36913913132"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrfcw",
                        "name": "New Contributor Check",
                        "conclusion": "NEUTRAL",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/runs/36913733491"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAImDrxHg",
                        "name": "Summary",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://dashboard.mergify.com/event-logs?pullRequestNumber=21409&login=leanprover-community&repository=mathlib4"
                      },
                      {
                        "__typename": "StatusContext",
                        "id": "SC_kwDOFcwZ1c8AAAAH9IQS5Q",
                        "context": "bors",
                        "state": "SUCCESS",
                        "targetUrl": "https://mathlib-bors-ca18eefec4cb.herokuapp.com/batches/9225",
                        "description": "Build succeeded"
                      }
                    ]
                  }
                }
              }
            }
          ]
        },
        "createdAt": "2025-02-04T10:06:19Z",
        "deletions": 703,
        "files": {
          "nodes": [
            {
              "path": "Mathlib/Algebra/Category/BoolRing.lean",
              "additions": 5,
              "deletions": 7
            },
            {
              "path": "Mathlib/AlgebraicTopology/SimplexCategory.lean",
              "additions": 18,
              "deletions": 18
            },
            {
              "path": "Mathlib/AlgebraicTopology/SimplicialSet/Nerve.lean",
              "additions": 3,
              "deletions": 0
            },
            {
              "path": "Mathlib/AlgebraicTopology/TopologicalSimplex.lean",
              "additions": 14,
              "deletions": 22
            },
            {
              "path": "Mathlib/Order/Category/BddDistLat.lean",
              "additions": 121,
              "deletions": 28
            },
            {
              "path": "Mathlib/Order/Category/BddLat.lean",
              "additions": 84,
              "deletions": 58
            },
            {
              "path": "Mathlib/Order/Category/BddOrd.lean",
              "additions": 119,
              "deletions": 38
            },
            {
              "path": "Mathlib/Order/Category/BoolAlg.lean",
              "additions": 125,
              "deletions": 34
            },
            {
              "path": "Mathlib/Order/Category/CompleteLat.lean",
              "additions": 4,
              "deletions": 5
            },
            {
              "path": "Mathlib/Order/Category/DistLat.lean",
              "additions": 117,
              "deletions": 31
            },
            {
              "path": "Mathlib/Order/Category/FinBddDistLat.lean",
              "additions": 130,
              "deletions": 37
            },
            {
              "path": "Mathlib/Order/Category/FinBoolAlg.lean",
              "additions": 22,
              "deletions": 53
            },
            {
              "path": "Mathlib/Order/Category/FinPartOrd.lean",
              "additions": 51,
              "deletions": 23
            },
            {
              "path": "Mathlib/Order/Category/Frm.lean",
              "additions": 114,
              "deletions": 39
            },
            {
              "path": "Mathlib/Order/Category/HeytAlg.lean",
              "additions": 115,
              "deletions": 35
            },
            {
              "path": "Mathlib/Order/Category/Lat.lean",
              "additions": 114,
              "deletions": 36
            },
            {
              "path": "Mathlib/Order/Category/LinOrd.lean",
              "additions": 115,
              "deletions": 30
            },
            {
              "path": "Mathlib/Order/Category/NonemptyFinLinOrd.lean",
              "additions": 75,
              "deletions": 79
            },
            {
              "path": "Mathlib/Order/Category/PartOrd.lean",
              "additions": 130,
              "deletions": 49
            },
            {
              "path": "Mathlib/Order/Category/Preord.lean",
              "additions": 116,
              "deletions": 33
            },
            {
              "path": "Mathlib/Order/Category/Semilat.lean",
              "additions": 15,
              "deletions": 35
            },
            {
              "path": "Mathlib/Topology/Category/CompHaus/Frm.lean",
              "additions": 3,
              "deletions": 3
            },
            {
              "path": "Mathlib/Topology/Category/Locale.lean",
              "additions": 2,
              "deletions": 1
            },
            {
              "path": "Mathlib/Topology/Order/Category/AlexDisc.lean",
              "additions": 1,
              "deletions": 1
            },
            {
              "path": "Mathlib/Topology/Order/Category/FrameAdjunction.lean",
              "additions": 4,
              "deletions": 6
            },
            {
              "path": "Mathlib/Topology/Specialization.lean",
              "additions": 2,
              "deletions": 2
            }
          ]
        },
        "headRefName": "concreteify-PartOrd",
        "headRefOid": "603727a8ca9df60c47afe37a31c1776413596f08",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c6J9zsX",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": [
            {
              "id": "LA_kwDOFcwZ1c8AAAABHuWjJg",
              "color": "06e039",
              "name": "ready-to-merge"
            },
            {
              "id": "LA_kwDOFcwZ1c8AAAABViJTYQ",
              "color": "33dbec",
              "name": "t-category-theory"
            },
            {
              "id": "LA_kwDOFcwZ1c8AAAABViJlpQ",
              "color": "33DBEC",
              "name": "t-order"
            }
          ]
        },
        "latestReviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c6awUsi",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "YaelDillies"
              },
              "submittedAt": "2025-02-05T16:34:31Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6aiS7o",
              "body": "",
              "state": "APPROVED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2025-02-04T12:32:30Z"
            }
          ]
        },
        "maintainerCanModify": false,
        "mergeCommit": null,
        "mergeStateStatus": "UNKNOWN",
        "mergeable": "UNKNOWN",
        "mergedAt": null,
        "mergedBy": null,
        "milestone": null,
        "number": 21409,
        "potentialMergeCommit": null,
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": "APPROVED",
        "reviewRequests": {
          "nodes": []
        },
        "reviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c6ahbje",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "YaelDillies"
              },
              "submittedAt": "2025-02-04T11:58:14Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6aiVVj",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "Vierkantor"
              },
              "submittedAt": "2025-02-04T12:32:15Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6aiS7o",
              "body": "",
              "state": "APPROVED",
              "author": {
                "login": "mattrobball"
              },
              "submittedAt": "2025-02-04T12:32:30Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6aiWrN",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "Vierkantor"
              },
              "submittedAt": "2025-02-04T12:34:27Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6aiXM3",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "Vierkantor"
              },
              "submittedAt": "2025-02-04T12:35:26Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6aiayM",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "Vierkantor"
              },
              "submittedAt": "2025-02-04T12:41:35Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6aicsN",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "Vierkantor"
              },
              "submittedAt": "2025-02-04T12:44:58Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6awHgD",
              "body": "I only have style comments.",
              "state": "APPROVED",
              "author": {
                "login": "YaelDillies"
              },
              "submittedAt": "2025-02-05T16:25:25Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6awUsi",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "YaelDillies"
              },
              "submittedAt": "2025-02-05T16:34:31Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6a3kI_",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "Vierkantor"
              },
              "submittedAt": "2025-02-06T10:25:29Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c6a3w0X",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "Vierkantor"
              },
              "submittedAt": "2025-02-06T10:46:48Z"
            }
          ]
        },
        "reviewThreads": {
          "nodes": [
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsH8p",
                    "body": "Does this work? If not, can it be made to?\r\n```suggestion\r\n  map f := .ofHom f.toOrderHom\r\n```",
                    "createdAt": "2025-02-04T10:54:26Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5zspgH",
                    "body": "It would not work, since the expected type is `LinOrd.Hom (NonemptyFinLinOrd.toLinOrd _) (NonemptyFinLinOrd.toLinOrd _)`, not `NonemptyFinLinOrd`.",
                    "createdAt": "2025-02-04T12:34:27Z",
                    "author": {
                      "login": "Vierkantor"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsp0p",
                    "body": "We could make it work if we add a `NonemptyFinLinOrd.Hom` structure. But I don't expect the extra boilerplate is worth it. Usually the relevant category's namespace is open anyway, so we can just write `ofHom`.",
                    "createdAt": "2025-02-04T12:35:25Z",
                    "author": {
                      "login": "Vierkantor"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsdFj",
                    "body": "Is this meant to be a docstring?",
                    "createdAt": "2025-02-04T11:57:09Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsoxw",
                    "body": "It's more of a comment explaining why this isn't marked as `@[simp]`. But we can docstringify all of these comments.",
                    "createdAt": "2025-02-04T12:32:15Z",
                    "author": {
                      "login": "Vierkantor"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5z1E8x",
                    "body": "I'm just surprised you're using single-line multi-line comments",
                    "createdAt": "2025-02-05T16:34:30Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsdLC",
                    "body": "```suggestion\r\n  carrier : Type*\r\n```",
                    "createdAt": "2025-02-04T11:57:24Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsdWt",
                    "body": "```suggestion\r\ninstance : CoeSort DistLat.{u} (Type u) :=\r\n```\r\nmight be clearer?",
                    "createdAt": "2025-02-04T11:57:56Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsnah",
                    "body": "Might as well clean this up too?",
                    "createdAt": "2025-02-04T12:28:31Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsr46",
                    "body": "You mean:\r\n```suggestion\r\n  ⟨fun h => by\r\n```",
                    "createdAt": "2025-02-04T12:41:35Z",
                    "author": {
                      "login": "Vierkantor"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsoJr",
                    "body": "Don't you feel like there should be automation for this now?",
                    "createdAt": "2025-02-04T12:30:41Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5zstED",
                    "body": "Mhm, it would be helpful although I don't quite know what form that would take. It's hard to state this inside the type theory itself, since for each base morphism (that is `FrameHom`, not `Frm.Hom`) the type of `comp` can take a different shape. Maybe a metaprogram generating all the boilerplate?",
                    "createdAt": "2025-02-04T12:44:58Z",
                    "author": {
                      "login": "Vierkantor"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5zsofa",
                    "body": "Similarly automation here would help",
                    "createdAt": "2025-02-04T12:31:26Z",
                    "author": {
                      "login": "mattrobball"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5z086j",
                    "body": "There are plenty of potential uses of anonymous dot notation. Would you like to act on them?\r\n```suggestion\r\n  forget₂.obj X := .of (AsBoolAlg X)\r\n```",
                    "createdAt": "2025-02-05T16:15:01Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5z5tLF",
                    "body": "I went through the diff and turned every `FooCat.of` into `.of` where it worked.",
                    "createdAt": "2025-02-06T10:46:48Z",
                    "author": {
                      "login": "Vierkantor"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5z09VT",
                    "body": "Does this work?\r\n```suggestion\r\n    simp [Finset.sum_filter, CategoryTheory.id_apply]\r\n```",
                    "createdAt": "2025-02-05T16:16:06Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5z5lj-",
                    "body": "In fact, the `ext` above can also be cleaned up, thanks for making me notice :)",
                    "createdAt": "2025-02-06T10:25:29Z",
                    "author": {
                      "login": "Vierkantor"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5z0-z-",
                    "body": "```suggestion\r\n    ofHom f.hom = f := rfl\r\n```\r\nor does this not work?",
                    "createdAt": "2025-02-05T16:19:43Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5z0-68",
                    "body": "```suggestion\r\n    ofHom f x = f x := rfl\r\n```",
                    "createdAt": "2025-02-05T16:19:59Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5z0_zz",
                    "body": "Do you want to use `where` here?",
                    "createdAt": "2025-02-05T16:22:06Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  }
                ]
              }
            }
          ]
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "MDQ6VXNlcjIxMTY1NzA=",
              "login": "Vierkantor"
            },
            {
              "id": "MDQ6VXNlcjg1NjY4Mzk0",
              "login": "leanprover-bot"
            },
            {
              "id": "MDQ6VXNlcjE0MDkwNTkz",
              "login": "YaelDillies"
            },
            {
              "id": "MDQ6VXNlcjQ3Nzk1Ng==",
              "login": "kim-em"
            },
            {
              "id": "MDQ6VXNlcjI5OTU5MjI2",
              "login": "b-mehta"
            },
            {
              "id": "MDQ6VXNlcjE0MDYwODgz",
              "login": "PatrickMassot"
            },
            {
              "id": "U_kgDOBfZl7g",
              "login": "mattrobball"
            },
            {
              "id": "U_kgDOBcsTTQ",
              "login": "leanprover-community-bot-assistant"
            },
            {
              "id": "U_kgDOB75MNQ",
              "login": "leanprover-community-mathlib4-bot"
            }
          ]
        },
        "state": "CLOSED",
        "statusCheckRollup": {
          "contexts": {
            "nodes": [
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrW0Q",
                "name": "Lint style (fork)",
                "conclusion": "SKIPPED",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541332/job/36913731281"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrX1w",
                "name": "label-and-report-new-contributor",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541492/job/36913731543"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrX1Q",
                "name": "post-or-update-summary-comment",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541491/job/36913731541"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrWtQ",
                "name": "Lint style",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541334/job/36913731253"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrYFw",
                "name": "Lint style",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541490/job/36913731607"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrXFg",
                "name": "Build (fork)",
                "conclusion": "SKIPPED",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541332/job/36913731350"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrW5g",
                "name": "Build",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541334/job/36913731302"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrXwQ",
                "name": "Check all files imported",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541490/job/36913731521"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrXTQ",
                "name": "Post-CI job (fork)",
                "conclusion": "SKIPPED",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541332/job/36913731405"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImD2dLA",
                "name": "Post-CI job",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/13224541334/job/36913913132"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrfcw",
                "name": "New Contributor Check",
                "conclusion": "NEUTRAL",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/runs/36913733491"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAImDrxHg",
                "name": "Summary",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://dashboard.mergify.com/event-logs?pullRequestNumber=21409&login=leanprover-community&repository=mathlib4"
              },
              {
                "__typename": "StatusContext",
                "id": "SC_kwDOFcwZ1c8AAAAH9IQS5Q",
                "context": "bors",
                "state": "SUCCESS",
                "targetUrl": "https://mathlib-bors-ca18eefec4cb.herokuapp.com/batches/9225",
                "description": "Build succeeded"
              }
            ]
          }
        },
        "title": "[Merged by Bors] - refactor(Order/Category): concrete category refactor for basic orders",
        "updatedAt": "2025-02-10T08:57:27Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/21409",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPEJDnh",
              "createdAt": "2025-02-04T10:06:20Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPEJDno",
              "createdAt": "2025-02-04T10:06:20Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABViJTYQ",
                "name": "t-category-theory"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPEJDn0",
              "createdAt": "2025-02-04T10:06:20Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABViJlpQ",
                "name": "t-order"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPEJDn-",
              "createdAt": "2025-02-04T10:06:20Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABw0w9Mg",
                "name": "awaiting-bench"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c9v0i",
              "createdAt": "2025-02-04T10:07:15Z",
              "body": "### PR summary [603727a8ca](https://github.com/leanprover-community/mathlib4/pull/21409/commits/603727a8ca9df60c47afe37a31c1776413596f08)\n\n<details><summary>\n\n#### Import changes for modified files\n\n</summary>\n\nDependency changes\n\n| File | Base Count | Head Count | Change |\n| --- | --- | --- | --- |\n| Mathlib.Order.Category.Preord | 406 | 405 | -1 (-0.25%) |\n| Mathlib.Order.Category.PartOrd | 411 | 410 | -1 (-0.24%) |\n| Mathlib.Order.Category.Lat | 414 | 413 | -1 (-0.24%) |\n| Mathlib.Order.Category.Semilat | 414 | 413 | -1 (-0.24%) |\n| Mathlib.Order.Category.BddOrd | 415 | 414 | -1 (-0.24%) |\n| Mathlib.Order.Category.DistLat | 415 | 414 | -1 (-0.24%) |\n| Mathlib.Order.Category.LinOrd | 415 | 414 | -1 (-0.24%) |\n| Mathlib.Order.Category.Frm | 418 | 417 | -1 (-0.24%) |\n| Mathlib.Order.Category.BddLat | 423 | 422 | -1 (-0.24%) |\n| Mathlib.Order.Category.BddDistLat | 425 | 424 | -1 (-0.24%) |\n| Mathlib.Order.Category.HeytAlg | 427 | 426 | -1 (-0.23%) |\n| Mathlib.Order.Category.BoolAlg | 431 | 430 | -1 (-0.23%) |\n| Mathlib.Order.Category.FinPartOrd | 544 | 543 | -1 (-0.18%) |\n| Mathlib.Order.Category.FinBddDistLat | 588 | 587 | -1 (-0.17%) |\n| Mathlib.Order.Category.FinBoolAlg | 601 | 600 | -1 (-0.17%) |\n| Mathlib.Algebra.Category.BoolRing | 635 | 634 | -1 (-0.16%) |\n| Mathlib.Order.Category.NonemptyFinLinOrd | 643 | 642 | -1 (-0.16%) |\n| Mathlib.Topology.Specialization | 774 | 773 | -1 (-0.13%) |\n| Mathlib.Topology.Order.Category.AlexDisc | 775 | 774 | -1 (-0.13%) |\n| Mathlib.AlgebraicTopology.SimplexCategory | 822 | 821 | -1 (-0.12%) |\n| Mathlib.AlgebraicTopology.SimplicialSet.Nerve | 843 | 842 | -1 (-0.12%) |\n| Mathlib.AlgebraicTopology.TopologicalSimplex | 1257 | 1256 | -1 (-0.08%) |\n| Mathlib.Topology.Category.CompHaus.Frm | 1504 | 1503 | -1 (-0.07%) |\n| Mathlib.Topology.Category.Locale | 1505 | 1504 | -1 (-0.07%) |\n| Mathlib.Topology.Order.Category.FrameAdjunction | 1506 | 1505 | -1 (-0.07%) |\n\n\n<details><summary>Import changes for all files</summary>\n\n|Files|Import difference|\n|-|-|\n|<details><summary>72 files</summary> `Mathlib.Algebra.Category.BoolRing` `Mathlib.AlgebraicTopology.AlternatingFaceMapComplex` `Mathlib.AlgebraicTopology.CechNerve` `Mathlib.AlgebraicTopology.DoldKan.Decomposition` `Mathlib.AlgebraicTopology.DoldKan.Degeneracies` `Mathlib.AlgebraicTopology.DoldKan.EquivalenceAdditive` `Mathlib.AlgebraicTopology.DoldKan.EquivalencePseudoabelian` `Mathlib.AlgebraicTopology.DoldKan.Equivalence` `Mathlib.AlgebraicTopology.DoldKan.Faces` `Mathlib.AlgebraicTopology.DoldKan.FunctorGamma` `Mathlib.AlgebraicTopology.DoldKan.FunctorN` `Mathlib.AlgebraicTopology.DoldKan.GammaCompN` `Mathlib.AlgebraicTopology.DoldKan.Homotopies` `Mathlib.AlgebraicTopology.DoldKan.HomotopyEquivalence` `Mathlib.AlgebraicTopology.DoldKan.NCompGamma` `Mathlib.AlgebraicTopology.DoldKan.NReflectsIso` `Mathlib.AlgebraicTopology.DoldKan.Normalized` `Mathlib.AlgebraicTopology.DoldKan.Notations` `Mathlib.AlgebraicTopology.DoldKan.PInfty` `Mathlib.AlgebraicTopology.DoldKan.Projections` `Mathlib.AlgebraicTopology.DoldKan.SplitSimplicialObject` `Mathlib.AlgebraicTopology.ExtraDegeneracy` `Mathlib.AlgebraicTopology.MooreComplex` `Mathlib.AlgebraicTopology.Quasicategory.Basic` `Mathlib.AlgebraicTopology.Quasicategory.Nerve` `Mathlib.AlgebraicTopology.Quasicategory.StrictSegal` `Mathlib.AlgebraicTopology.SimplexCategory` `Mathlib.AlgebraicTopology.SimplicialCategory.Basic` `Mathlib.AlgebraicTopology.SimplicialCategory.SimplicialObject` `Mathlib.AlgebraicTopology.SimplicialNerve` `Mathlib.AlgebraicTopology.SimplicialObject.Basic` `Mathlib.AlgebraicTopology.SimplicialObject.Coskeletal` `Mathlib.AlgebraicTopology.SimplicialObject.Split` `Mathlib.AlgebraicTopology.SimplicialSet.Basic` `Mathlib.AlgebraicTopology.SimplicialSet.Boundary` `Mathlib.AlgebraicTopology.SimplicialSet.Coskeletal` `Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat` `Mathlib.AlgebraicTopology.SimplicialSet.Horn` `Mathlib.AlgebraicTopology.SimplicialSet.KanComplex` `Mathlib.AlgebraicTopology.SimplicialSet.Monoidal` `Mathlib.AlgebraicTopology.SimplicialSet.Nerve` `Mathlib.AlgebraicTopology.SimplicialSet.Path` `Mathlib.AlgebraicTopology.SimplicialSet.StdSimplex` `Mathlib.AlgebraicTopology.SimplicialSet.StrictSegal` `Mathlib.AlgebraicTopology.SingularSet` `Mathlib.AlgebraicTopology.TopologicalSimplex` `Mathlib.CategoryTheory.Idempotents.SimplicialObject` `Mathlib.Order.Category.BddDistLat` `Mathlib.Order.Category.BddLat` `Mathlib.Order.Category.BddOrd` `Mathlib.Order.Category.BoolAlg` `Mathlib.Order.Category.DistLat` `Mathlib.Order.Category.FinBddDistLat` `Mathlib.Order.Category.FinBoolAlg` `Mathlib.Order.Category.FinPartOrd` `Mathlib.Order.Category.Frm` `Mathlib.Order.Category.HeytAlg` `Mathlib.Order.Category.Lat` `Mathlib.Order.Category.LinOrd` `Mathlib.Order.Category.NonemptyFinLinOrd` `Mathlib.Order.Category.PartOrd` `Mathlib.Order.Category.Preord` `Mathlib.Order.Category.Semilat` `Mathlib.RepresentationTheory.GroupCohomology.Basic` `Mathlib.RepresentationTheory.GroupCohomology.Hilbert90` `Mathlib.RepresentationTheory.GroupCohomology.LowDegree` `Mathlib.RepresentationTheory.GroupCohomology.Resolution` `Mathlib.Topology.Category.CompHaus.Frm` `Mathlib.Topology.Category.Locale` `Mathlib.Topology.Order.Category.AlexDisc` `Mathlib.Topology.Order.Category.FrameAdjunction` `Mathlib.Topology.Specialization`</details>|-1|\n\n</details>\n\n</details>\n\n---\n\n<details><summary>\n\n#### Declarations diff\n\n</summary>\n\n`+ instance (X : NonemptyFinLinOrd) : BoundedOrder X`\n`+ instance (x : SimplexCategory) (n : ℕ) : OfNat (ToType x) n`\n`+ instance (x : SimplexCategory) : CoeFun x.toTopObj fun _ => ToType x → ℝ≥0`\n`+ instance (x : SimplexCategory) : Fintype (ToType x)`\n`+ instance : Category BddDistLat.{u}`\n`+ instance : Category BddOrd.{u}`\n`+ instance : Category BoolAlg.{u}`\n`+ instance : Category DistLat.{u}`\n`+ instance : Category FinBddDistLat.{u}`\n`+ instance : Category Frm.{u}`\n`+ instance : Category HeytAlg.{u}`\n`+ instance : Category Lat.{u}`\n`+ instance : Category LinOrd.{u}`\n`+ instance : Category PartOrd.{u}`\n`+ instance : Category Preord.{u}`\n`+ instance : CoeSort BoolAlg (Type _)`\n`+ instance : CoeSort DistLat.{u} (Type u)`\n`+ instance : CoeSort Frm (Type _)`\n`+ instance : CoeSort HeytAlg (Type _)`\n`+ instance : CoeSort Lat (Type _)`\n`+ instance : CoeSort LinOrd (Type _)`\n`+ instance : CoeSort NonemptyFinLinOrd (Type _)`\n`+ instance : CoeSort PartOrd (Type _)`\n`+ instance : CoeSort Preord (Type u)`\n`+ instance : ConcreteCategory BddDistLat (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory BddLat (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory BddOrd (BoundedOrderHom · ·)`\n`+ instance : ConcreteCategory BoolAlg (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory DistLat (LatticeHom · ·)`\n`+ instance : ConcreteCategory FinBddDistLat (BoundedLatticeHom · ·)`\n`+ instance : ConcreteCategory Frm (FrameHom · ·)`\n`+ instance : ConcreteCategory HeytAlg (HeytingHom · ·)`\n`+ instance : ConcreteCategory Lat (LatticeHom · ·)`\n`+ instance : ConcreteCategory LinOrd (· →o ·)`\n`+ instance : ConcreteCategory NonemptyFinLinOrd (· →o ·)`\n`+ instance : ConcreteCategory PartOrd (· →o ·)`\n`+ instance : ConcreteCategory Preord (· →o ·)`\n`+ instance : ConcreteCategory SemilatInfCat (InfTopHom · ·)`\n`+ instance : ConcreteCategory SemilatSupCat (SupBotHom · ·)`\n`+ instance : ConcreteCategory SimplexCategory (fun i j => Fin (i.len + 1) →o Fin (j.len + 1))`\n`+ instance : LargeCategory NonemptyFinLinOrd`\n`+ toType_apply`\n`++ concreteCategory`\n`+++++++++++ coe_comp`\n`+++++++++++ coe_id`\n`+++++++++++ forget_map`\n`+++++++++++ hom_inv_apply`\n`+++++++++++ inv_hom_apply`\n`+++++++++++ ofHom_apply`\n`+++++++++++ ofHom_comp`\n`+++++++++++ ofHom_id`\n`++++++++++++ Hom.hom`\n`++++++++++++ ext`\n`+++++++++++++ hom_ofHom`\n`+++++++++++++ ofHom_hom`\n`++++++++++++++ Hom.Simps.hom`\n`++++++++++++++ comp_apply`\n`++++++++++++++ hom_comp`\n`++++++++++++++ hom_ext`\n`++++++++++++++ hom_id`\n`++++++++++++++ id_apply`\n`++++++++++++++ ofHom`\n`+++++++++++++++++----------------- of`\n`+++++++++------+----- coe_of`\n`- Fin.nonemptyFiniteLinearOrder`\n`- NonemptyFiniteLinearOrder`\n`- PUnit.nonemptyFiniteLinearOrder`\n`- ULift.nonemptyFiniteLinearOrder`\n`- forget_map_apply`\n`- instBooleanAlgebra`\n`- instBoundedLatticeHomClass`\n`- instance (X : BddLat) : Lattice X`\n`- instance (X : BddOrd) : PartialOrder X`\n`- instance (X : DistLat) : DistribLattice X`\n`- instance (X : FinBoolAlg) : BooleanAlgebra X`\n`- instance (X : Frm) : Frame X`\n`- instance (X : HeytAlg) : HeytingAlgebra X`\n`- instance (X : Lat) : Lattice X`\n`- instance (priority := 100) NonemptyFiniteLinearOrder.toBoundedOrder (α : Type*)`\n`- instance (x : SimplexCategory) (n : ℕ) : OfNat (HasForget.forget.obj x) n`\n`- instance (x : SimplexCategory) : CoeFun x.toTopObj fun _ => x → ℝ≥0`\n`- instance (x : SimplexCategory) : Fintype (HasForget.forget.obj x)`\n`- instance (α : LinOrd) : LinearOrder α`\n`- instance (α : NonemptyFinLinOrd) : NonemptyFiniteLinearOrder α`\n`- instance (α : PartOrd) : PartialOrder α`\n`- instance (α : Preord) : Preorder α`\n`- instance (α : Type*) [NonemptyFiniteLinearOrder α] : NonemptyFiniteLinearOrder αᵒᵈ`\n`- instance : BundledHom @LatticeHom`\n`- instance : BundledHom @OrderHom`\n`- instance : BundledHom.ParentProjection @DistribLattice.toLattice`\n`- instance : BundledHom.ParentProjection @LinearOrder.toPartialOrder`\n`- instance : BundledHom.ParentProjection @NonemptyFiniteLinearOrder.toLinearOrder`\n`- instance : BundledHom.ParentProjection @PartialOrder.toPreorder`\n`- instance : CoeSort BoolAlg Type*`\n`- instance : CoeSort DistLat Type*`\n`- instance : CoeSort Frm Type*`\n`- instance : CoeSort HeytAlg Type*`\n`- instance : CoeSort Lat Type*`\n`- instance : CoeSort LinOrd Type*`\n`- instance : CoeSort NonemptyFinLinOrd Type*`\n`- instance : CoeSort PartOrd Type*`\n`- instance : CoeSort Preord Type*`\n`- instance : HasForget BddDistLat`\n`- instance : HasForget BddLat`\n`- instance : HasForget BoolAlg`\n`- instance : HasForget DistLat`\n`- instance : HasForget Frm := by`\n`- instance : HasForget HeytAlg := by`\n`- instance : HasForget Lat`\n`- instance : HasForget LinOrd`\n`- instance : HasForget NonemptyFinLinOrd`\n`- instance : HasForget PartOrd`\n`- instance : HasForget Preord`\n`- instance : HasForget SemilatInfCat`\n`- instance : HasForget SemilatSupCat`\n`- instance : HasForget.{0} SimplexCategory`\n`- instance : Inhabited DistLat`\n`- instance : Inhabited Lat`\n`- instance : Inhabited PartOrd`\n`- instance : LargeCategory.{u} BddDistLat`\n`- instance : LargeCategory.{u} BoolAlg`\n`- instance : LargeCategory.{u} Lat`\n`- instance {A B : NonemptyFinLinOrd.{u}} : FunLike (A ⟶ B) A B`\n`- instance {A B : NonemptyFinLinOrd.{u}} : OrderHomClass (A ⟶ B) A B`\n`- instance {X Y : HeytAlg.{u}} : FunLike (X ⟶ Y) ↑X ↑Y`\n`- instance {X Y : HeytAlg.{u}} : HeytingHomClass (X ⟶ Y) ↑X ↑Y`\n`-++++++++++++ Hom`\n`-+-+ hasForgetToBddDistLat`\n`-- bundledHom`\n`-- largeCategory`\n`---- hasForget`\n`----- instFunLike`\n<details>\n  <summary>You can run this locally as follows</summary>\n\n\n```bash\n## summary with just the declaration names:\n./scripts/declarations_diff.sh <optional_commit>\n\n## more verbose report:\n./scripts/declarations_diff.sh long <optional_commit>\n```\n</details>\n\nThe doc-module for `script/declarations_diff.sh` contains some details about this script.\n\n</details>\n\n---\n\n<details><summary>Decrease in tech debt: (relative, absolute) = (28.00, 0.01)</summary>\n\n|Current number|Change|Type|\n|-:|:-:|:-|\n|4030|-28|porting notes|\n\nCurrent commit [603727a8ca](https://github.com/leanprover-community/mathlib4/commit/603727a8ca9df60c47afe37a31c1776413596f08)\nReference commit [e05e225065](https://github.com/leanprover-community/mathlib4/commit/e05e225065104b31833e1dad5cb06b0862b2fa6d)\n\nYou can run this locally as\n```\n./scripts/technical-debt-metrics.sh pr_summary\n```\n* The `relative` value is the weighted *sum* of the differences with weight given by the *inverse* of the current value of the statistic.\n* The `absolute` value is the `relative` value divided by the total sum of the inverses of the current values (i.e. the weighted *average* of the differences).\n</details>\n",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c53tH45",
              "createdAt": "2025-02-04T10:24:12Z",
              "source": {
                "id": "PR_kwDOFcwZ1c6J988_",
                "title": "feat(Order/Category): `ConcreteCategory` instance for `CompleteLat`",
                "url": "https://github.com/leanprover-community/mathlib4/pull/21410"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c6oqYuFzwAAAAPEKZ0L",
              "createdAt": "2025-02-04T10:31:11Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c-Mc6",
              "createdAt": "2025-02-04T10:53:53Z",
              "body": "!bench",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c-dNK",
              "createdAt": "2025-02-04T11:23:08Z",
              "body": "Here are the [benchmark results](https://speed.lean-lang.org/mathlib4/run-detail/c0168192-ddcb-47fa-8ff1-c64be878ba76) for commit e187402aad26317e9f6997ec6aeff6f1c6a1649b.\nThere were [significant changes](https://speed.lean-lang.org/mathlib4/compare/b87280e6-8612-4e00-9533-e98d82c55c29/to/c0168192-ddcb-47fa-8ff1-c64be878ba76) against commit 2dd5bb2d33e82377b2cc4e347e2317a4ec0603bc:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n- ~Mathlib.AlgebraicTopology.SimplicialSet.Nerve   instructions   137.4%\n- ~Mathlib.Order.Category.DistLat                  instructions   270.8%\n- ~Mathlib.Order.Category.Lat                      instructions   172.3%\n- ~Mathlib.Order.Category.LinOrd                   instructions    77.8%\n- ~Mathlib.Order.Category.NonemptyFinLinOrd        instructions    96.7%\n```",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c-df6",
              "createdAt": "2025-02-04T11:23:32Z",
              "body": "|File|Instructions|%|\n|-|-:|:-:|\n|`build`|+144.114⬝10⁹|(+0.09%)|\n|`lint`|-22.227⬝10⁹|(-0.29%)|\n|`Mathlib.Order.Category.NonemptyFinLinOrd`|+30.73⬝10⁹|(+96.73%)|\n|`Mathlib.Order.Category.DistLat`|+26.274⬝10⁹|(+270.77%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.Nerve`|+25.669⬝10⁹|(+137.44%)|\n|`Mathlib.Order.Category.Lat`|+21.163⬝10⁹|(+172.25%)|\n|`Mathlib.Order.Category.LinOrd`|+10.848⬝10⁹|(+77.77%)|\n|`Mathlib.Order.Category.PartOrd`|+9.470⬝10⁹|(+78.00%)|\n|`Mathlib.Order.Category.BddOrd`|+6.193⬝10⁹|(+36.63%)|\n|`Mathlib.Order.Category.Frm`|+5.768⬝10⁹|(+121.26%)|\n|`Mathlib.Order.Category.Preord`|+4.626⬝10⁹|(+45.86%)|\n|`Mathlib.Order.Category.FinPartOrd`|+3.959⬝10⁹|(+28.83%)|\n|`Mathlib.Topology.Order.Category.AlexDisc`|+2.322⬝10⁹|(+9.27%)|\n<details><summary>3 files, Instructions +1.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.AlgebraicTopology.SimplexCategory`|+1.561⬝10⁹|(+2.98%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat`|+1.456⬝10⁹|(+2.89%)|\n|`Mathlib.Topology.Order.Category.FrameAdjunction`|+1.300⬝10⁹|(+5.07%)|\n</details>\n\n<details><summary>2 files, Instructions -2.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.FinBoolAlg`|-1.36⬝10⁹|(-2.88%)|\n|`Mathlib.Order.Category.BddLat`|-1.340⬝10⁹|(-4.30%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.BddDistLat`|-2.426⬝10⁹|(-12.52%)|\n|`Mathlib.Order.Category.FinBddDistLat`|-3.452⬝10⁹|(-13.57%)|\n[CI run](https://github.com/leanprover-community/mathlib4/actions/runs/13134362637)",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c-luw",
              "createdAt": "2025-02-04T11:39:00Z",
              "body": "Most of those slowdowns are in files that grew quite a bit. Looks like `AlgebraicTopology.SimplicialSet.Nerve` got slower due to the `aesop` calls in `nerve` being slow. They can be replaced with `rfl` and become fast, but I think I'll try and figure out if I can make `aesop` faster.",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c6ahbje",
              "createdAt": "2025-02-04T10:54:26Z",
              "body": "",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c6aiS7o",
              "createdAt": "2025-02-04T12:28:31Z",
              "body": "",
              "author": {
                "login": "mattrobball"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c_HoH",
              "createdAt": "2025-02-04T12:40:26Z",
              "body": "> Most of those slowdowns are in files that grew quite a bit. Looks like `AlgebraicTopology.SimplicialSet.Nerve` got slower due to the `aesop` calls in `nerve` being slow. They can be replaced with `rfl` and become fast, but I think I'll try and figure out if I can make `aesop` faster.\r\n\r\nAdding a `Hom` structure for `SimplexCategory` did not seem to help, and I still don't know how to figure out where `simp` spends all its time. I'll just do the proofs by hand then.",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c_LIv",
              "createdAt": "2025-02-04T12:46:52Z",
              "body": "I've been looking at `BoolAlg` and come to the conclusion that `Hom` structures for `BddLat` and `BddDistLat` would be helpful. One moment please...",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPETXri",
              "createdAt": "2025-02-04T12:46:59Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c_iuS",
              "createdAt": "2025-02-04T13:22:44Z",
              "body": "Oh, interesting. Looking at a timeout in `FinBddDistLat` suggests that I might actually be going down the wrong way with bundling instances. Namely, previously we implemented `NonemptyFinLinOrd` as a class `NonemptyFiniteLinearOrder` plus a structure bundling a type `X` with an instance `NonemptyFiniteLinearOrder X`. But now I'm getting slow equality checks on `(dual.obj (dual.obj X)).carrier = X.carrierᵒᵈᵒᵈ`. Even though these should be exactly the same thing, it ends up checking that each order class on `dual.obj X` is the same as `Xᵒᵈ`...",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c_kLa",
              "createdAt": "2025-02-04T13:24:08Z",
              "body": "(by the way, this is a refactor PR, not a feat PR, right?)",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6c_4QO",
              "createdAt": "2025-02-04T13:40:02Z",
              "body": "> Oh, interesting. Looking at a timeout in `FinBddDistLat` suggests that I might actually be going down the wrong way with bundling instances. Namely, previously we implemented `NonemptyFinLinOrd` as a class `NonemptyFiniteLinearOrder` plus a structure bundling a type `X` with an instance `NonemptyFiniteLinearOrder X`. But now I'm getting slow equality checks on `(dual.obj (dual.obj X)).carrier = X.carrierᵒᵈᵒᵈ`. Even though these should be exactly the same thing, it ends up checking that each order class on `dual.obj X` is the same as `Xᵒᵈ`...\r\n\r\nNope, changing this doesn't seem to help much...",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dALjQ",
              "createdAt": "2025-02-04T14:05:05Z",
              "body": "Huh, if I turn `@[simps]` on `dual` into `@[simps map]`, it looks like aesop gets 2x faster for quite a few of the categories. (In general I think we should be more careful with `@[simps]` lemmas on `Functor.obj`s.)",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c6oqYuFzwAAAAPEY9Iu",
              "createdAt": "2025-02-04T14:22:59Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dAY4m",
              "createdAt": "2025-02-04T14:26:09Z",
              "body": "In the process of investigation I ended up adding `Hom` structures for most of the order categories anyway. Seems like a shame to waste that effort, so now they're part of the PR. Should I just include `CompleteLattice` and `ωCPO` to be complete? :)",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dAp4x",
              "createdAt": "2025-02-04T14:44:43Z",
              "body": "!bench",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dA-7w",
              "createdAt": "2025-02-04T15:15:50Z",
              "body": "Here are the [benchmark results](https://speed.lean-lang.org/mathlib4/run-detail/e07673e5-c875-4ca6-a84e-0ee1cf49094b) for commit 98ccd36fa08cc971aae660e52030a41954d81ea9.\nThere were [significant changes](https://speed.lean-lang.org/mathlib4/compare/b87280e6-8612-4e00-9533-e98d82c55c29/to/e07673e5-c875-4ca6-a84e-0ee1cf49094b) against commit 2dd5bb2d33e82377b2cc4e347e2317a4ec0603bc:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n+ ~Mathlib.AlgebraicTopology.SimplicialSet.Nerve   instructions   -62.8%\n- ~Mathlib.Order.Category.BddDistLat               instructions    52.6%\n- ~Mathlib.Order.Category.BoolAlg                  instructions    64.0%\n- ~Mathlib.Order.Category.DistLat                  instructions   268.7%\n- ~Mathlib.Order.Category.NonemptyFinLinOrd        instructions    86.0%\n```",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dA_N6",
              "createdAt": "2025-02-04T15:16:16Z",
              "body": "|File|Instructions|%|\n|-|-:|:-:|\n|`build`|+137.918⬝10⁹|(+0.09%)|\n|`lint`|-19.659⬝10⁹|(-0.25%)|\n<details><summary>2 files, Instructions +26.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.NonemptyFinLinOrd`|+26.734⬝10⁹|(+85.99%)|\n|`Mathlib.Order.Category.DistLat`|+26.71⬝10⁹|(+268.67%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.BoolAlg`|+17.60⬝10⁹|(+64.02%)|\n|`Mathlib.Order.Category.BddDistLat`|+10.192⬝10⁹|(+52.62%)|\n|`Mathlib.Order.Category.PartOrd`|+8.271⬝10⁹|(+68.12%)|\n<details><summary>4 files, Instructions +7.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.LinOrd`|+7.928⬝10⁹|(+56.83%)|\n|`Mathlib.Order.Category.BddLat`|+7.796⬝10⁹|(+25.02%)|\n|`Mathlib.Order.Category.FinBddDistLat`|+7.426⬝10⁹|(+29.21%)|\n|`Mathlib.Order.Category.FinBoolAlg`|+7.146⬝10⁹|(+19.89%)|\n</details>\n\n<details><summary>2 files, Instructions +5.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Frm`|+5.768⬝10⁹|(+121.26%)|\n|`Mathlib.Order.Category.Lat`|+5.699⬝10⁹|(+46.38%)|\n</details>\n\n<details><summary>3 files, Instructions +3.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Preord`|+3.810⬝10⁹|(+37.77%)|\n|`Mathlib.Order.Category.HeytAlg`|+3.807⬝10⁹|(+55.34%)|\n|`Mathlib.Order.Category.BddOrd`|+3.549⬝10⁹|(+20.99%)|\n</details>\n\n<details><summary>2 files, Instructions +2.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.FinPartOrd`|+2.401⬝10⁹|(+17.48%)|\n|`Mathlib.Topology.Order.Category.AlexDisc`|+2.321⬝10⁹|(+9.27%)|\n</details>\n\n<details><summary>3 files, Instructions +1.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat`|+1.576⬝10⁹|(+3.13%)|\n|`Mathlib.AlgebraicTopology.SimplexCategory`|+1.553⬝10⁹|(+2.97%)|\n|`Mathlib.Topology.Order.Category.FrameAdjunction`|+1.303⬝10⁹|(+5.08%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Algebra.Category.BoolRing`|-1.493⬝10⁹|(-6.44%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.Nerve`|-11.726⬝10⁹|(-62.78%)|\n[CI run](https://github.com/leanprover-community/mathlib4/actions/runs/13138677211)",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c53x73m",
              "createdAt": "2025-02-04T15:28:23Z",
              "source": {
                "id": "PR_kwDOFcwZ1c6JiXCk",
                "title": "feat(ModelTheory/Bundled): first-order embeddings and equivalences from equalities",
                "url": "https://github.com/leanprover-community/mathlib4/pull/21270"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dBQYg",
              "createdAt": "2025-02-04T15:40:59Z",
              "body": "The extra slowdown in `DistLat` was because I forgot a `@[simps map]` there. Otherwise it seems to be just files getting bigger and therefore slower. (Assuming I am debugging the profiler trace / `simp` trace correctly...)",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c6oqYuFzwAAAAPEeKxI",
              "createdAt": "2025-02-04T15:41:28Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABw0w9Mg",
                "name": "awaiting-bench"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dEw8d",
              "createdAt": "2025-02-04T23:12:57Z",
              "body": "!bench",
              "author": {
                "login": "kim-em"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dE7AN",
              "createdAt": "2025-02-04T23:42:22Z",
              "body": "Here are the [benchmark results](https://speed.lean-lang.org/mathlib4/run-detail/2a791737-2317-424e-b449-f68c955790f2) for commit 8711c270631e8621ee06104879f6b120f2f1b867.\nThere were [significant changes](https://speed.lean-lang.org/mathlib4/compare/b87280e6-8612-4e00-9533-e98d82c55c29/to/2a791737-2317-424e-b449-f68c955790f2) against commit 2dd5bb2d33e82377b2cc4e347e2317a4ec0603bc:\n```diff\n  Benchmark                                        Metric         Change\n  ======================================================================\n+ ~Mathlib.AlgebraicTopology.SimplicialSet.Nerve   instructions   -62.8%\n- ~Mathlib.Order.Category.BddDistLat               instructions    52.4%\n- ~Mathlib.Order.Category.BoolAlg                  instructions    64.0%\n- ~Mathlib.Order.Category.NonemptyFinLinOrd        instructions    86.0%\n```",
              "author": {
                "login": "leanprover-bot"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dE7Sn",
              "createdAt": "2025-02-04T23:42:45Z",
              "body": "|File|Instructions|%|\n|-|-:|:-:|\n|`build`|+117.330⬝10⁹|(+0.07%)|\n|`lint`|-19.472⬝10⁹|(-0.25%)|\n|`Mathlib.Order.Category.NonemptyFinLinOrd`|+26.736⬝10⁹|(+85.99%)|\n|`Mathlib.Order.Category.BoolAlg`|+17.61⬝10⁹|(+64.03%)|\n|`Mathlib.Order.Category.BddDistLat`|+10.153⬝10⁹|(+52.42%)|\n|`Mathlib.Order.Category.PartOrd`|+8.270⬝10⁹|(+68.11%)|\n<details><summary>4 files, Instructions +7.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.LinOrd`|+7.929⬝10⁹|(+56.84%)|\n|`Mathlib.Order.Category.BddLat`|+7.794⬝10⁹|(+25.02%)|\n|`Mathlib.Order.Category.FinBddDistLat`|+7.393⬝10⁹|(+29.08%)|\n|`Mathlib.Order.Category.FinBoolAlg`|+7.143⬝10⁹|(+19.88%)|\n</details>\n\n<details><summary>3 files, Instructions +5.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Frm`|+5.768⬝10⁹|(+121.26%)|\n|`Mathlib.Order.Category.Lat`|+5.698⬝10⁹|(+46.38%)|\n|`Mathlib.Order.Category.DistLat`|+5.600⬝10⁹|(+57.72%)|\n</details>\n\n<details><summary>3 files, Instructions +3.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.Preord`|+3.810⬝10⁹|(+37.77%)|\n|`Mathlib.Order.Category.HeytAlg`|+3.806⬝10⁹|(+55.33%)|\n|`Mathlib.Order.Category.BddOrd`|+3.550⬝10⁹|(+20.99%)|\n</details>\n\n<details><summary>2 files, Instructions +2.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Order.Category.FinPartOrd`|+2.401⬝10⁹|(+17.48%)|\n|`Mathlib.Topology.Order.Category.AlexDisc`|+2.323⬝10⁹|(+9.28%)|\n</details>\n\n<details><summary>3 files, Instructions +1.0⬝10⁹</summary>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.AlgebraicTopology.SimplicialSet.HomotopyCat`|+1.578⬝10⁹|(+3.14%)|\n|`Mathlib.AlgebraicTopology.SimplexCategory`|+1.553⬝10⁹|(+2.97%)|\n|`Mathlib.Topology.Order.Category.FrameAdjunction`|+1.303⬝10⁹|(+5.08%)|\n</details>\n\n|File|Instructions|%|\n|-|-:|:-:|\n|`Mathlib.Algebra.Category.BoolRing`|-1.496⬝10⁹|(-6.46%)|\n|`Mathlib.AlgebraicTopology.SimplicialSet.Nerve`|-11.726⬝10⁹|(-62.78%)|\n[CI run](https://github.com/leanprover-community/mathlib4/actions/runs/13146995922)",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dFt38",
              "createdAt": "2025-02-05T01:48:58Z",
              "body": "> Huh, if I turn `@[simps]` on `dual` into `@[simps map]`, it looks like aesop gets 2x faster for quite a few of the categories. (In general I think we should be more careful with `@[simps]` lemmas on `Functor.obj`s.)\r\n\r\nInteresting... I often find `Functor.obj` lemmas very helpful in `dsimp`, but I can see why they might be harmful in general. Indeed this isn't so surprising because these lemmas are equalities on objects, which would be evil except for the case where they're definitional. I'd view removing the \"simp by rfl\" lemmas on concrete `Functor.obj` as unfortunate, since these are really nice pedagogically in the typical case. I wonder if there's some modification we can make to `aesop_cat` to get the best of both worlds here?",
              "author": {
                "login": "b-mehta"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dINB3",
              "createdAt": "2025-02-05T09:21:20Z",
              "body": "> Interesting... I often find `Functor.obj` lemmas very helpful in `dsimp`, but I can see why they might be harmful in general. Indeed this isn't so surprising because these lemmas are equalities on objects, which would be evil except for the case where they're definitional.\r\n\r\nTrue! Although `@[simps]` is supposed to generate only definitional equalities which are not evil :) From a more mechanical perspective, the issue seems to be that we apply these kind of `Functor.obj` lemmas to our terms, but in the `simp` lemmas themselves we still see quite a few `F.obj`. If the definitional equality isn't reducible, `simp` won't see through that and we can get stuck in a non-confluent corner.\r\n\r\n> I'd view removing the \"simp by rfl\" lemmas on concrete `Functor.obj` as unfortunate, since these are really nice pedagogically in the typical case. I wonder if there's some modification we can make to `aesop_cat` to get the best of both worlds here?\r\n\r\nOn the longer term, we could be using ematching instead of rewriting for our equalities, that would get rid of all of these confluence issues. For now, perhaps we can split the lemmas up into multiple simp sets: call `erase_aesop_rules` on the `Functor.obj` lemmas, but still allow them in full-on `simp`? (Have never tried removing lemmas from `aesop`, so unsure if that's the right way to go.)",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dIPOU",
              "createdAt": "2025-02-05T09:25:17Z",
              "body": "What about making a version of `simps` that only creates `dsimp` lemmas? Something like `dsimps`",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dIRhh",
              "createdAt": "2025-02-05T09:29:18Z",
              "body": "Not sure I understand. All lemmas created by `simps` are supposed to be `dsimp` lemmas already, no?",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dIUTs",
              "createdAt": "2025-02-05T09:33:58Z",
              "body": "I mean lemmas that would *only* be used by dsimp, and not by simp",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dIZ3a",
              "createdAt": "2025-02-05T09:43:49Z",
              "body": "Oh I see! I'm not sure that the current architecture of `simp` supports it, AFAICT `dsimp` and `simp` share the `@[simp]` attribute and filter on `SimpTheorem.rfl` when they are called. So there isn't an extra `simp` set that `dsimp` can use but `simp` doesn't.",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dKg-d",
              "createdAt": "2025-02-05T12:53:54Z",
              "body": "(Is there something I should do for this PR, by the way? The benchmark results appear to be caused by files getting longer, which we can't do too much about...)",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c6awHgD",
              "createdAt": "2025-02-05T16:15:01Z",
              "body": "I only have style comments.",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c54Jhed",
              "createdAt": "2025-02-05T18:13:59Z",
              "source": {
                "id": "PR_kwDOFcwZ1c6KLYks",
                "title": "refactor(Order/Category): `ConcreteCategory` instance for `\\omegaCPO`",
                "url": "https://github.com/leanprover-community/mathlib4/pull/21478"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPFiGkg",
              "createdAt": "2025-02-05T18:20:14Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPFipmC",
              "createdAt": "2025-02-05T18:31:35Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "30f04c6592c9a0c35b9c61d760c764a3388d850b"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e719489de04f4bf3cba463db53168f3972013efc"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ee68c8a39acea2bee4966b7c05ed3de57cf7028d"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "fae662e272b739df924e6b7a2679347db840952f"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "d56044b6bb6f31353d142205149179f275950623"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "0e5cc25b587d47acc17318e8b44717b5b022f895"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ab298661cdc3ea4504ead620e93ff959723bc607"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "941f61ecae792cb6a533b77100d8f98c3dd90fcb"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "787e494013df56b9c79c40cb6ba493ac3147a7a0"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "bb34e9d163cd75c18db4d776f69b891ff8a4258f"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e0ddd103f1c0a83a94c20ce024bdff6140d4cbc5"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "8e086bfbe863bac9d552bfa5c60dd6f23c34f2a6"
              }
            },
            {
              "__typename": "HeadRefForcePushedEvent",
              "id": "HRFPE_lADOFcwZ1c6oqYuFzwAAAAPGEYLU",
              "createdAt": "2025-02-06T10:46:22Z"
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c6oqYuFzwAAAAPGEaTF",
              "createdAt": "2025-02-06T10:47:01Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c6oqYuFzwAAAAPGEbGu",
              "createdAt": "2025-02-06T10:47:16Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6duAyi",
              "createdAt": "2025-02-09T06:00:05Z",
              "body": "bors merge",
              "author": {
                "login": "kim-em"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c6oqYuFzwAAAAPH0sd9",
              "createdAt": "2025-02-09T06:00:16Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABHuWjJg",
                "name": "ready-to-merge"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6duDJj",
              "createdAt": "2025-02-09T06:38:26Z",
              "body": "Build failed (retrying...):\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/13222985298/job/36910322831)",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6duE-d",
              "createdAt": "2025-02-09T07:09:37Z",
              "body": "Build failed (retrying...):\n  * Build",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6duFD1",
              "createdAt": "2025-02-09T07:10:55Z",
              "body": "Build failed:\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/13223402595/job/36911208965)",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "6ce4c2b7bb2e716021eeb3615e268f39b8fd708c"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "603727a8ca9df60c47afe37a31c1776413596f08"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6duR3h",
              "createdAt": "2025-02-09T09:57:09Z",
              "body": "Looks like the build failure was caused by relying on the definition of the `HasForget` instance in `SimplexCategory`. I've upgraded the usage to `ConcreteCategory`.",
              "author": {
                "login": "Vierkantor"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dybTN",
              "createdAt": "2025-02-10T08:21:40Z",
              "body": "bors merge",
              "author": {
                "login": "PatrickMassot"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6dywai",
              "createdAt": "2025-02-10T08:57:24Z",
              "body": "Pull request successfully merged into master.\n\nBuild succeeded:\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/13236869689/job/36943436227)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/13236869689/job/36943435949)",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "ClosedEvent",
              "id": "CE_lADOFcwZ1c6oqYuFzwAAAAPIM1v7",
              "createdAt": "2025-02-10T08:57:25Z"
            },
            {
              "__typename": "HeadRefDeletedEvent",
              "id": "HRDE_lADOFcwZ1c6oqYuFzwAAAAPIM15v",
              "createdAt": "2025-02-10T08:57:27Z"
            }
          ]
        }
      }
    }
  }
}
