{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 71,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "BoltonBailey"
        },
        "autoMergeRequest": null,
        "baseRefName": "master",
        "body": "A lemma about the vanishing polynomial.\r\n\r\nCo-authored-by: Pratyush Mishra <prat@upenn.edu>\r\n\r\n---\r\n<!-- The text above the `---` will become the commit message when your\r\nPR is merged. Please leave a blank newline before the `---`, otherwise\r\nGitHub will format the text above it as a title.\r\n\r\nTo indicate co-authors, include lines at the bottom of the commit message\r\n(that is, before the `---`) using the following format:\r\n\r\nCo-authored-by: Author Name <author@email.com>\r\n\r\nAny other comments you want to keep out of the PR commit should go\r\nbelow the `---`, and placed outside this HTML comment, or else they\r\nwill be invisible to reviewers.\r\n\r\nIf this PR depends on other PRs, please list them below this comment,\r\nusing the following format:\r\n- [ ] depends on: #abc [optional extra text]\r\n- [ ] depends on: #xyz [optional extra text]\r\n-->\r\n\r\n[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/from-referrer/)\r\n",
        "changedFiles": 2,
        "closed": true,
        "closedAt": "2023-08-21T02:29:45Z",
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c5kc23E",
              "body": ":v: BoltonBailey can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "createdAt": "2023-08-20T13:29:57Z",
              "author": {
                "login": "bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5kdjju",
              "body": "bors r+",
              "createdAt": "2023-08-21T01:03:43Z",
              "author": {
                "login": "BoltonBailey"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5kdw4c",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/5920903928/job/16052772824)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/5920903928/job/16052772706)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/5920903928/job/16052772934)",
              "createdAt": "2023-08-21T02:29:44Z",
              "author": {
                "login": "bors"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "64a450c27edc60c0a8fd1d366788862615110f96",
                "additions": 92,
                "deletions": 0,
                "committedDate": "2023-08-10T16:22:08Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "d74c44db9290e222ac17587ed24124179be56622",
                "additions": 13,
                "deletions": 2,
                "committedDate": "2023-08-10T17:10:04Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "f7b93a6c6c9ac4283a32fdfaba10085a5fa2046b",
                "additions": 14,
                "deletions": 18,
                "committedDate": "2023-08-10T17:18:51Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ff6ee5d48e06931ee78c6db44c70df9174e25fc7",
                "additions": 4,
                "deletions": 6,
                "committedDate": "2023-08-10T17:20:52Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "708148bee704ffec15ed4a011162d090d5a30a9e",
                "additions": 21,
                "deletions": 28,
                "committedDate": "2023-08-10T17:22:53Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e402c69f81c46a51b10d4dbe5b4dd64617bbeaa6",
                "additions": 2,
                "deletions": 1,
                "committedDate": "2023-08-10T17:25:03Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ce3bb613939d88e3fb97735a8aef0e858d913959",
                "additions": 0,
                "deletions": 3,
                "committedDate": "2023-08-11T16:29:08Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "c1cb6505fb481823139172a10bd81adb78037c8c",
                "additions": 8,
                "deletions": 15,
                "committedDate": "2023-08-12T16:35:14Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "facbd12306c37629ae3c9c0bf9d3e9021241271f",
                "additions": 2,
                "deletions": 3,
                "committedDate": "2023-08-18T01:19:43Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "a837dcac551d90091c59ad50bac88a8f49ccb16c",
                "additions": 4,
                "deletions": 5,
                "committedDate": "2023-08-18T01:19:50Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "8f16e6c38eb356c4c19e9e49366e05b6350db168",
                "additions": 6,
                "deletions": 6,
                "committedDate": "2023-08-18T01:20:17Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "e9ec0ce761ad691ed16389ec68981088497e0e39",
                "additions": 7,
                "deletions": 3,
                "committedDate": "2023-08-18T05:49:43Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "205a639a726dbeed372f7607897b66adba6ad906",
                "additions": 8,
                "deletions": 10,
                "committedDate": "2023-08-19T16:57:05Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "29bd344b82dfd4dec005f46ece4af3accabee74d",
                "additions": 3,
                "deletions": 5,
                "committedDate": "2023-08-19T16:57:24Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "2d3737967b9590a6d624639fdf84a2947b489bca",
                "additions": 9,
                "deletions": 6,
                "committedDate": "2023-08-19T17:36:05Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "aa1d05ff515d431f9b77f28412cef32ffca415a1",
                "additions": 10,
                "deletions": 12,
                "committedDate": "2023-08-19T17:44:56Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "233472b3cb09e0b05bc816512c7b59ff942b26e0",
                "additions": 1,
                "deletions": 0,
                "committedDate": "2023-08-19T17:46:11Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "3804533abdae6d5fed53883fa37f956cc3640f4f",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-08-19T17:55:30Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "85a83e35884ea4067c7e4ab77d1c1b316a00c359",
                "additions": 12,
                "deletions": 22,
                "committedDate": "2023-08-20T22:25:10Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "a4e34b69cce7eb5851785e5b5d85fcba0e2128a8",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-08-20T22:25:34Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "4e8a22d186074cce1692d1b8239611d20c98d01a",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-08-20T22:30:17Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "b08efee97b93b0e3393dba0110b5b8386f329b3b",
                "additions": 13,
                "deletions": 23,
                "committedDate": "2023-08-20T22:30:43Z",
                "author": {
                  "name": "Bolton Bailey",
                  "email": "bolton.bailey@gmail.com"
                },
                "statusCheckRollup": null
              }
            }
          ]
        },
        "createdAt": "2023-08-10T16:23:17Z",
        "deletions": 0,
        "files": {
          "nodes": [
            {
              "path": "Mathlib/Data/Polynomial/Degree/Definitions.lean",
              "additions": 24,
              "deletions": 0
            },
            {
              "path": "Mathlib/LinearAlgebra/Lagrange.lean",
              "additions": 47,
              "deletions": 0
            }
          ]
        },
        "headRefName": "BoltonBailey/vanishing-polynomial",
        "headRefOid": "b08efee97b93b0e3393dba0110b5b8386f329b3b",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c5XqCXB",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": [
            {
              "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
              "color": "bfd4f2",
              "name": "delegated"
            },
            {
              "id": "LA_kwDOFcwZ1c8AAAABViJjTQ",
              "color": "33DBEC",
              "name": "t-algebra"
            }
          ]
        },
        "latestReviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5ej7SS",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-21T08:24:58Z"
            }
          ]
        },
        "maintainerCanModify": false,
        "mergeCommit": null,
        "mergeStateStatus": "UNKNOWN",
        "mergeable": "UNKNOWN",
        "mergedAt": null,
        "mergedBy": null,
        "milestone": null,
        "number": 6495,
        "potentialMergeCommit": null,
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": "APPROVED",
        "reviewRequests": {
          "nodes": []
        },
        "reviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5eUwWb",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-17T12:39:49Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5egtH1",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-19T12:13:14Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehBMH",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:03:06Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehBPE",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:05:21Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehBTI",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:08:52Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehBao",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:14:44Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehBee",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:17:53Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehBhm",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:20:10Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehB7G",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:41:38Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehB9t",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-19T18:43:49Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehB_U",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-19T18:45:06Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ehtZL",
              "body": "Thanks, this is a useful result!\r\n\r\nbors d+",
              "state": "APPROVED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-20T13:29:56Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5eh_i1",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-20T22:27:09Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5ej7SS",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-21T08:24:58Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5eknn9",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "BoltonBailey"
              },
              "submittedAt": "2023-08-21T10:05:35Z"
            }
          ]
        },
        "reviewThreads": {
          "nodes": [
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5NUNzZ",
                    "body": "```suggestion\r\ntheorem leadingCoeff_add_of_degree_lt' (h : degree q < degree p) :\r\n    leadingCoeff (p + q) = leadingCoeff p := by\r\n  rw [add_comm]\r\n  exact leadingCoeff_add_of_degree_lt h\r\n```",
                    "createdAt": "2023-08-17T12:25:09Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5NUOp5",
                    "body": "```suggestion\r\ntheorem leadingCoeff_sub_of_degree_lt (h : Polynomial.degree q < Polynomial.degree p) :\r\n    (p - q).leadingCoeff = p.leadingCoeff := by\r\n  rw [sub_eq_add_neg]\r\n  rw [← q.degree_neg] at h\r\n  exact leadingCoeff_add_of_degree_lt' h\r\n```\r\nAlso if we're going to have both the left and right version of `leadingCoeff_add_of_degree_lt` then we should do the same for the `sub` version.",
                    "createdAt": "2023-08-17T12:28:13Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5NUSfG",
                    "body": "Spawning subgoals by rewriting with missing hypotheses makes proofs harder to follow. It's better to avoid this.\r\n```suggestion\r\ntheorem leadingCoeff_sub_of_degree_eq (h : degree p = degree q)\r\n    (hlc : leadingCoeff p ≠ leadingCoeff q) :\r\n    leadingCoeff (p - q) = leadingCoeff p - leadingCoeff q := by\r\n  replace h : degree p = degree (-q) := by rwa [q.degree_neg]\r\n  replace hlc : leadingCoeff p + leadingCoeff (-q) ≠ 0 := by\r\n    rwa [← sub_ne_zero, sub_eq_add_neg, ← q.leadingCoeff_neg] at hlc\r\n  rw [sub_eq_add_neg, leadingCoeff_add_of_degree_eq h hlc, leadingCoeff_neg, sub_eq_add_neg] \r\n```",
                    "createdAt": "2023-08-17T12:39:28Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Nb9rb",
                    "body": "I think we can cheat a bit on the lemma name; more importantly I think very long names for hypotheses harm readability:\r\n```suggestion\r\ntheorem eq_of_degree_le_of_eval_finset_eq\r\n    (h_deg_le : f.degree ≤ s.card)\r\n    (h_deg_eq : f.degree = g.degree)\r\n    (hlc : f.leadingCoeff = g.leadingCoeff)\r\n    (h_eval : ∀ x ∈ s, f.eval x = g.eval x) :\r\n    f = g := by\r\n  rcases eq_or_ne f 0 with rfl | hf\r\n  · rwa [degree_zero, eq_comm, degree_eq_bot, eq_comm] at h_deg_eq\r\n  · exact eq_of_degree_sub_lt_of_eval_finset_eq s\r\n      (lt_of_lt_of_le (degree_sub_lt h_deg_eq hf hlc) h_deg_le) h_eval\r\n```\r\nPlease also apply similar changes to `eq_of_degrees_le_of_leadingCoeff_eq_of_eval_index_eq`.",
                    "createdAt": "2023-08-19T11:42:55Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Nb9uJ",
                    "body": "Two other points:\r\n\r\n1. While you're changing these files, could you also add `simp` to `degree_eq_bot`. (You may or may not have to make some minor downstream fixes as a result.)\r\n2. This result would be more conveniently stated if we had a definition of _leading terms_ rather than leading coefficients. I don't propose introducing this, but just wanted to note it.",
                    "createdAt": "2023-08-19T11:45:04Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Nb-VV",
                    "body": "```suggestion\r\n/-- The vanishing polynomial on a multiplicative subgroup is of the form X ^ n - 1. -/\r\ntheorem nodal_subgroup_eq_X_pow_card_sub_one (G : Subgroup Fˣ) [Fintype G] :\r\n  nodal (G : Set Fˣ).toFinset ((↑) : Fˣ → F) = X ^ (Fintype.card G) - 1 := by\r\n```",
                    "createdAt": "2023-08-19T12:08:48Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Nb-a7",
                    "body": "Also, I prefer `Finite` and `Nat.card` over `Fintype` and `Fintype.card` (since I usually care only _that_ something is finite rather than _how_) but the right choice depends on what pattern has been followed in nearby parts of the library.\r\n\r\nIn this case we could do:\r\n```lean\r\nattribute [local instance] Fintype.ofFinite\r\n\r\n/-- The vanishing polynomial on a multiplicative subgroup is of the form X ^ n - 1. -/\r\ntheorem nodal_subgroup_eq_X_pow_card_sub_one (G : Subgroup Fˣ) [Finite G] :\r\n  nodal (G : Set Fˣ).toFinset ((↑) : Fˣ → F) = X ^ (Nat.card G) - 1 := by\r\n```\r\nbut I'll leave it to you to decide which is best here.",
                    "createdAt": "2023-08-19T12:11:38Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcMS6",
                    "body": "You said this about #5738 too, both of these PRs come from the same project.",
                    "createdAt": "2023-08-19T18:03:06Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcMV_",
                    "body": "All of this is meant for cryptographic applications, where the types are always finite and decidableEq. It's weird to me that there are like three different types of finiteness.",
                    "createdAt": "2023-08-19T18:05:21Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcMaO",
                    "body": "I guess the point is that if you are doing a theorem, which has no data in it, we should use the weakest version of finiteness `Finite` so that every other version of finiteness can use it.\r\n\r\nI feel sad that there is a difference between `Nat.card` and `Fintype.card`, I am worried that I will have to prove lemmas later rewriting these.",
                    "createdAt": "2023-08-19T18:08:52Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcMic",
                    "body": "I don't really get the point of this local instance change. My understanding is it makes the lemma use the instance. If I am going to have `[Finite G]` but also use the `Fintype.ofFinite` instance, why not just use `Fintype`?",
                    "createdAt": "2023-08-19T18:14:44Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcMnq",
                    "body": "`G` has to be cast to a `Finset` anyway, and I think `Finset` is the `Fintype` kind of finiteness, so it feels like this is the right notion here.",
                    "createdAt": "2023-08-19T18:17:53Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcMqr",
                    "body": "Maybe what you are really advocating for is \"we should use `Nat.card` everywhere we are currently using `Fintype.card`\r\n\r\nI feel dumb, when I change the lemma to use `Nat.card` like you suggest, I have to fix the bugs. How to I fix the bugs? By putting `Nat.card_eq_fintype_card` everywhere.",
                    "createdAt": "2023-08-19T18:20:09Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcNJU",
                    "body": "Maybe the real culprit is the entire fact that `Finset` uses the `Fintype` finiteness and not the `Finite` finiteness?\r\n\r\nI feel like I could make an argument for \"Lagrange.lean is a file where I would expect more computable notions of finiteness\"",
                    "createdAt": "2023-08-19T18:41:38Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcNMC",
                    "body": "Someone should write a docstring in `Mathlib.Data.Fintype.Card` about the difference between `Finite`/`Fintype`/`Fintype + DecidableEq`.",
                    "createdAt": "2023-08-19T18:43:49Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NcNNm",
                    "body": "Given that you need a `Finset` for `nodal`, and `Finset` wants a `Fintype`, there's a good case (in fact it's better) to leave this as you wrote it, using the data-bearing constructive finiteness (i.e., `Fintype`) rather than the better `Prop`-valued `Finite`. So let's just leave this as you wrote it.\r\n\r\nSince I've brought this up before, I'll try to explain a bit: once you're talking about finiteness of subsets of a type there are two axes of finiteness giving a total of four possibilities:\r\n\r\n1. Constructive, unbundled: `Fintype` + `Set.Finite`\r\n2. Constructive, bundled: `Finset`\r\n3. Non-constructive, unbundled: `Finite`\r\n4. Non-constructive, bundled: missing\r\n\r\nOf course it's ridiculous that such a simple concept has been made so complicated. The reason is that originally 1 & 2 were created and there is an excellent library of results about them but eventually their constructive nature becomes problematic. So we created 3. This is much better  but not used as much yet. I try to push it because it's the future. Maybe some hero will one day swap out `Fintype` for `Finite` in `Finset` and so turn 2 into 4.",
                    "createdAt": "2023-08-19T18:45:06Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Ncu0t",
                    "body": "Here's a golf:\r\n```suggestion\r\n@[simp] theorem nodal_subgroup_eq_X_pow_card_sub_one (G : Subgroup Fˣ) [Fintype G] :\r\n  nodal (G : Set Fˣ).toFinset ((↑) : Fˣ → F) = X ^ (Fintype.card G) - 1 := by\r\n  have h : degree (1 : F[X]) < degree ((X : F[X]) ^ Fintype.card G) := by simp [Fintype.card_pos]\r\n  apply eq_of_degrees_le_of_eval_index_eq (v := ((↑) : Fˣ → F)) (G : Set Fˣ).toFinset\r\n  · exact Set.injOn_of_injective Units.ext _\r\n  · simp\r\n  · rw [degree_sub_eq_left_of_degree_lt h, degree_nodal, Set.toFinset_card, degree_pow, degree_X,\r\n      nsmul_eq_mul, mul_one, Nat.cast_inj]\r\n    exact rfl\r\n  · rw [nodal_monic, leadingCoeff_sub_of_degree_lt h, monic_X_pow]\r\n  · intros i hi\r\n    rw [eval_nodal_at_node hi]\r\n    replace hi : i ∈ G := by simpa using hi\r\n    obtain ⟨g, rfl⟩ : ∃ g : G, g.val = i := ⟨⟨i, hi⟩, rfl⟩\r\n    simp [← Units.val_pow_eq_pow_val, ← Subgroup.coe_pow G]\r\n```\r\nMostly this is just style nits but two small points are worth highlighting:\r\n\r\n- There was a non-terminal `simp`\r\n- Spawning subgoals via a `rw` with missing hypotheses makes proofs hard to follow, it's better to use `have` to establish the hypothesis and then feed it into the `rw`.",
                    "createdAt": "2023-08-20T13:25:52Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Nc_Jr",
                    "body": "Thanks I was wrong about the simp thing. For the `rw` thing, it strikes me that it tends to make the proof longer - is it something we are enforcing as a matter of course?",
                    "createdAt": "2023-08-20T22:27:09Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5NeSZ0",
                    "body": "It is better to optimise for proof readability (and maintainability) than proof length.\r\n\r\nYou're right to raise this though: I don't think we mention this point about spawning subgoals with `rw` in our style guide. I might get it added to the new guide as we update it to Lean 4.",
                    "createdAt": "2023-08-21T08:24:58Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5Neuwz",
                    "body": "It surprises me that there is no non-terminal simp linter. Maybe this could be added as well?",
                    "createdAt": "2023-08-21T10:05:35Z",
                    "author": {
                      "login": "BoltonBailey"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5Ncu3p",
                    "body": "```suggestion\r\ntheorem eq_of_degree_le_of_eval_index_eq (hvs : Set.InjOn v s)\r\n```",
                    "createdAt": "2023-08-20T13:26:57Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            }
          ]
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "MDQ6VXNlcjgwMzA1OTk=",
              "login": "BoltonBailey"
            },
            {
              "id": "MDQ6VXNlcjc3MzQzNjQ=",
              "login": "ocfnash"
            },
            {
              "id": "U_kgDOB75MNQ",
              "login": "leanprover-community-mathlib4-bot"
            }
          ]
        },
        "state": "CLOSED",
        "statusCheckRollup": null,
        "title": "[Merged by Bors] - feat: add theorem about nodal on Subgroup",
        "updatedAt": "2023-09-15T01:39:17Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/6495",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "64a450c27edc60c0a8fd1d366788862615110f96"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJXtmsk",
              "createdAt": "2023-08-10T16:23:26Z",
              "label": {
                "id": "MDU6TGFiZWwzMjcxMjQ0NzU5",
                "name": "WIP"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "d74c44db9290e222ac17587ed24124179be56622"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "f7b93a6c6c9ac4283a32fdfaba10085a5fa2046b"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ff6ee5d48e06931ee78c6db44c70df9174e25fc7"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "708148bee704ffec15ed4a011162d090d5a30a9e"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJXvp87",
              "createdAt": "2023-08-10T17:24:11Z",
              "label": {
                "id": "MDU6TGFiZWwzMjcxMjQ0NzU5",
                "name": "WIP"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJXvp9D",
              "createdAt": "2023-08-10T17:24:11Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e402c69f81c46a51b10d4dbe5b4dd64617bbeaa6"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJXxzIr",
              "createdAt": "2023-08-10T18:25:15Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ce3bb613939d88e3fb97735a8aef0e858d913959"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJYUsxL",
              "createdAt": "2023-08-11T16:29:33Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJYVi8N",
              "createdAt": "2023-08-11T16:53:45Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "c1cb6505fb481823139172a10bd81adb78037c8c"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJYq4XV",
              "createdAt": "2023-08-12T17:17:38Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5eUwWb",
              "createdAt": "2023-08-17T12:25:09Z",
              "body": "",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJbI7aT",
              "createdAt": "2023-08-17T12:40:19Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJbI7ac",
              "createdAt": "2023-08-17T12:40:19Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJbI7ar",
              "createdAt": "2023-08-17T12:40:19Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABViJjTQ",
                "name": "t-algebra"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "facbd12306c37629ae3c9c0bf9d3e9021241271f"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "a837dcac551d90091c59ad50bac88a8f49ccb16c"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "8f16e6c38eb356c4c19e9e49366e05b6350db168"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "e9ec0ce761ad691ed16389ec68981088497e0e39"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJbkf7Y",
              "createdAt": "2023-08-18T05:50:00Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJbkf7d",
              "createdAt": "2023-08-18T05:50:00Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJbl7Ew",
              "createdAt": "2023-08-18T06:50:13Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJcErS9",
              "createdAt": "2023-08-19T01:40:43Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5egtH1",
              "createdAt": "2023-08-19T11:42:55Z",
              "body": "",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJcJkuX",
              "createdAt": "2023-08-19T12:14:02Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJcJkuY",
              "createdAt": "2023-08-19T12:14:02Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "205a639a726dbeed372f7607897b66adba6ad906"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "29bd344b82dfd4dec005f46ece4af3accabee74d"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "2d3737967b9590a6d624639fdf84a2947b489bca"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "aa1d05ff515d431f9b77f28412cef32ffca415a1"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "233472b3cb09e0b05bc816512c7b59ff942b26e0"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "3804533abdae6d5fed53883fa37f956cc3640f4f"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJcM-ze",
              "createdAt": "2023-08-19T19:07:47Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJcM-zk",
              "createdAt": "2023-08-19T19:07:47Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5ehtZL",
              "createdAt": "2023-08-20T13:25:52Z",
              "body": "Thanks, this is a useful result!\r\n\r\nbors d+",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5kc23E",
              "createdAt": "2023-08-20T13:29:57Z",
              "body": ":v: BoltonBailey can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5uAEAczwAAAAJcSn7n",
              "createdAt": "2023-08-20T13:30:10Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
                "name": "delegated"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5uAEAczwAAAAJcSn74",
              "createdAt": "2023-08-20T13:30:10Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "85a83e35884ea4067c7e4ab77d1c1b316a00c359"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "a4e34b69cce7eb5851785e5b5d85fcba0e2128a8"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "4e8a22d186074cce1692d1b8239611d20c98d01a"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "b08efee97b93b0e3393dba0110b5b8386f329b3b"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5kdjju",
              "createdAt": "2023-08-21T01:03:43Z",
              "body": "bors r+",
              "author": {
                "login": "BoltonBailey"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5kdw4c",
              "createdAt": "2023-08-21T02:29:44Z",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/5920903928/job/16052772824)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/5920903928/job/16052772706)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/5920903928/job/16052772934)",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "ClosedEvent",
              "id": "CE_lADOFcwZ1c5uAEAczwAAAAJcYbxD",
              "createdAt": "2023-08-21T02:29:45Z"
            },
            {
              "__typename": "HeadRefDeletedEvent",
              "id": "HRDE_lADOFcwZ1c5uAEAczwAAAAJcYbz2",
              "createdAt": "2023-08-21T02:29:48Z"
            }
          ]
        }
      }
    }
  }
}
