{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 9,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "MichaelStollBayreuth"
        },
        "autoMergeRequest": null,
        "baseRefName": "master",
        "body": "This PR adds\r\n\r\n- a lemma `List.count_filter_add_count_filter` in `Data.List.Count`\r\n- an instance `Trans (@List.Perm Î±) (@List.Perm Î±) (@List.Perm Î±)` to allow using permutation equivalence of `Lists` in a `calc` block in `Data.List.Perm`\r\n\r\nSee [here on Zulip](https://leanprover.zulipchat.com/#narrow/stream/217875-Is-there-code-for-X.3F/topic/Struggling.20with.20List.2Efilter/near/400293835).\r\n\r\n---\r\n<!-- The text above the `---` will become the commit message when your\r\nPR is merged. Please leave a blank newline before the `---`, otherwise\r\nGitHub will format the text above it as a title.\r\n\r\nTo indicate co-authors, include lines at the bottom of the commit message\r\n(that is, before the `---`) using the following format:\r\n\r\nCo-authored-by: Author Name <author@email.com>\r\n\r\nAny other comments you want to keep out of the PR commit should go\r\nbelow the `---`, and placed outside this HTML comment, or else they\r\nwill be invisible to reviewers.\r\n\r\nIf this PR depends on other PRs, please list them below this comment,\r\nusing the following format:\r\n- [ ] depends on: #abc [optional extra text]\r\n- [ ] depends on: #xyz [optional extra text]\r\n-->\r\n\r\n[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/from-referrer/)\r\n",
        "changedFiles": 1,
        "closed": true,
        "closedAt": "2023-11-16T19:44:31Z",
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c5q6pjT",
              "body": "ðŸš€ Pull request has been placed on the maintainer queue by YaelDillies.",
              "createdAt": "2023-11-05T14:53:25Z",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5sLaLp",
              "body": "Thanks!\r\n\r\nbors r+",
              "createdAt": "2023-11-16T17:41:49Z",
              "author": {
                "login": "kmill"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5sMcnZ",
              "body": "Pull request successfully merged into master.\n\nBuild succeeded:\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/6895011418/job/18758047309)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/6895011418/job/18758047553)\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/6895011418/job/18758047757)",
              "createdAt": "2023-11-16T19:44:30Z",
              "author": {
                "login": "mathlib-bors"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "465fa4439441a858a98f7b4ff3cddd812607fac2",
                "additions": 21,
                "deletions": 0,
                "committedDate": "2023-11-04T21:53:39Z",
                "author": {
                  "name": "Michael Stoll",
                  "email": "Michael.Stoll@uni-bayreuth.de"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "23a2922fd6520a16a2f9d6d7b75d2de9658f9b2d",
                "additions": 0,
                "deletions": 8,
                "committedDate": "2023-11-04T22:01:37Z",
                "author": {
                  "name": "Michael Stoll",
                  "email": "Michael.Stoll@uni-bayreuth.de"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ea4bb709e4d2247af3f82b664510329bb0503211",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-11-05T14:50:38Z",
                "author": {
                  "name": "Michael Stoll",
                  "email": "99838730+MichaelStollBayreuth@users.noreply.github.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "1f75b9bbea503a937ddb00da5940041b95805d6e",
                "additions": 6,
                "deletions": 10,
                "committedDate": "2023-11-11T14:16:05Z",
                "author": {
                  "name": "Michael Stoll",
                  "email": "Michael.Stoll@uni-bayreuth.de"
                },
                "statusCheckRollup": null
              }
            }
          ]
        },
        "createdAt": "2023-11-04T22:03:55Z",
        "deletions": 0,
        "files": {
          "nodes": [
            {
              "path": "Mathlib/Data/List/Perm.lean",
              "additions": 9,
              "deletions": 0
            }
          ]
        },
        "headRefName": "list_lemmas_MS",
        "headRefOid": "1f75b9bbea503a937ddb00da5940041b95805d6e",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c5emwBK",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": [
            {
              "id": "LA_kwDOFcwZ1c8AAAABHuWjJg",
              "color": "06e039",
              "name": "ready-to-merge"
            }
          ]
        },
        "latestReviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5mKfdp",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "urkud"
              },
              "submittedAt": "2023-11-05T17:30:25Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5m3leO",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-11-11T00:34:36Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5mKZLi",
              "body": "Thanks! Short and sweet.\r\n\r\nNote that the public instance of bors just disappeared, so we cannot merge pull requests at the moment. I'm still going to put this PR on the merge queue, but expect nothing to happen for the next few days.\r\n\r\nmaintainer merge",
              "state": "APPROVED",
              "author": {
                "login": "YaelDillies"
              },
              "submittedAt": "2023-11-05T14:53:10Z"
            }
          ]
        },
        "maintainerCanModify": false,
        "mergeCommit": null,
        "mergeStateStatus": "UNKNOWN",
        "mergeable": "UNKNOWN",
        "mergedAt": null,
        "mergedBy": null,
        "milestone": null,
        "number": 8189,
        "potentialMergeCommit": null,
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": "APPROVED",
        "reviewRequests": {
          "nodes": []
        },
        "reviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5mKXS5",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "YaelDillies"
              },
              "submittedAt": "2023-11-05T14:06:50Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5mKZLi",
              "body": "Thanks! Short and sweet.\r\n\r\nNote that the public instance of bors just disappeared, so we cannot merge pull requests at the moment. I'm still going to put this PR on the merge queue, but expect nothing to happen for the next few days.\r\n\r\nmaintainer merge",
              "state": "APPROVED",
              "author": {
                "login": "YaelDillies"
              },
              "submittedAt": "2023-11-05T14:53:10Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5mKfdp",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "urkud"
              },
              "submittedAt": "2023-11-05T17:30:25Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5mKgJT",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "MichaelStollBayreuth"
              },
              "submittedAt": "2023-11-05T17:50:49Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5m3leO",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "eric-wieser"
              },
              "submittedAt": "2023-11-11T00:34:36Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5m4S4C",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "MichaelStollBayreuth"
              },
              "submittedAt": "2023-11-11T10:36:26Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5m4b9_",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "MichaelStollBayreuth"
              },
              "submittedAt": "2023-11-11T14:15:59Z"
            }
          ]
        },
        "reviewThreads": {
          "nodes": [
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5SaItI",
                    "body": "```suggestion\ninstance {Î± : Type*} : Trans (@List.Perm Î±) (@List.Perm Î±) List.Perm where\n```\n",
                    "createdAt": "2023-11-05T14:06:32Z",
                    "author": {
                      "login": "YaelDillies"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5SaQh_",
                    "body": "This is a special case of `List.countP_eq_countP_filter_add` proved elsewhere.",
                    "createdAt": "2023-11-05T17:30:24Z",
                    "author": {
                      "login": "urkud"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5SaRQi",
                    "body": "OK; this is in `Mathlib.Data.List.Perm`, because it uses `Perm.countP_eq` in the proof. (Which is exactly the opposite way of how I was dealing with these lemmas :smile:)\r\nWould it still make sense to add a `count` (as opposed to `countP`) version (and then in `Mathlib.Data.List.Perm`, to be able to use the existing lemma), or is it too close?",
                    "createdAt": "2023-11-05T17:50:49Z",
                    "author": {
                      "login": "MichaelStollBayreuth"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5S2qvW",
                    "body": "I think the lemma statement is fine, but it should be proved using the fact that `l.filter P ++ l.filter (Â¬ P Â·) ~ l` and `count a` distributes over `perm`",
                    "createdAt": "2023-11-11T00:34:36Z",
                    "author": {
                      "login": "eric-wieser"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5S3Lwg",
                    "body": "The problem with that is that `List.Perm` is not visible in `Data.List.Count`. So again, the lemma would have to go to `Data.List.Perm`. Is this what you recommend?",
                    "createdAt": "2023-11-11T10:36:26Z",
                    "author": {
                      "login": "MichaelStollBayreuth"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5S3UgL",
                    "body": "Moved now (and swapped the sides of the equality, changed the name accordingly) and proved using `List.countP_eq_countP_filter_add`.",
                    "createdAt": "2023-11-11T14:15:59Z",
                    "author": {
                      "login": "MichaelStollBayreuth"
                    }
                  }
                ]
              }
            }
          ]
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "U_kgDOBfNrCg",
              "login": "MichaelStollBayreuth"
            },
            {
              "id": "MDQ6VXNlcjIzNTMwNw==",
              "login": "kmill"
            },
            {
              "id": "MDQ6VXNlcjE4ODgxMw==",
              "login": "urkud"
            },
            {
              "id": "MDQ6VXNlcjQyNTI2MA==",
              "login": "eric-wieser"
            },
            {
              "id": "MDQ6VXNlcjE0MDkwNTkz",
              "login": "YaelDillies"
            }
          ]
        },
        "state": "CLOSED",
        "statusCheckRollup": null,
        "title": "[Merged by Bors] - feat: add `Trans` instance for List.Perm and a lemma on `List`s",
        "updatedAt": "2023-11-16T19:44:36Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/8189",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "465fa4439441a858a98f7b4ff3cddd812607fac2"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "23a2922fd6520a16a2f9d6d7b75d2de9658f9b2d"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c513rG_zwAAAAKHhzSF",
              "createdAt": "2023-11-04T22:03:55Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c513rG_zwAAAAKHhzSG",
              "createdAt": "2023-11-04T22:03:55Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c513rG_zwAAAAKHiItB",
              "createdAt": "2023-11-04T23:14:01Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "ReviewRequestedEvent",
              "id": "RRE_lADOFcwZ1c513rG_zwAAAAKHm2yd",
              "createdAt": "2023-11-05T13:52:05Z",
              "requestedReviewer": {
                "id": "MDQ6VXNlcjE0MDkwNTkz",
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5mKXS5",
              "createdAt": "2023-11-05T14:06:32Z",
              "body": "",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ea4bb709e4d2247af3f82b664510329bb0503211"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5mKZLi",
              "createdAt": "2023-11-05T14:53:10Z",
              "body": "Thanks! Short and sweet.\r\n\r\nNote that the public instance of bors just disappeared, so we cannot merge pull requests at the moment. I'm still going to put this PR on the merge queue, but expect nothing to happen for the next few days.\r\n\r\nmaintainer merge",
              "author": {
                "login": "YaelDillies"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5q6pjT",
              "createdAt": "2023-11-05T14:53:25Z",
              "body": "ðŸš€ Pull request has been placed on the maintainer queue by YaelDillies.",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5mKfdp",
              "createdAt": "2023-11-05T17:30:24Z",
              "body": "",
              "author": {
                "login": "urkud"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c513rG_zwAAAAKLhawA",
              "createdAt": "2023-11-11T00:34:55Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c513rG_zwAAAAKLhawB",
              "createdAt": "2023-11-11T00:34:55Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c513rG_zwAAAAKLmww4",
              "createdAt": "2023-11-11T10:36:33Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c513rG_zwAAAAKLmww5",
              "createdAt": "2023-11-11T10:36:33Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "1f75b9bbea503a937ddb00da5940041b95805d6e"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5sLaLp",
              "createdAt": "2023-11-16T17:41:49Z",
              "body": "Thanks!\r\n\r\nbors r+",
              "author": {
                "login": "kmill"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c513rG_zwAAAAKOsv90",
              "createdAt": "2023-11-16T17:42:02Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABHuWjJg",
                "name": "ready-to-merge"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c513rG_zwAAAAKOswAv",
              "createdAt": "2023-11-16T17:42:03Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5sMcnZ",
              "createdAt": "2023-11-16T19:44:30Z",
              "body": "Pull request successfully merged into master.\n\nBuild succeeded:\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/6895011418/job/18758047309)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/6895011418/job/18758047553)\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/6895011418/job/18758047757)",
              "author": {
                "login": "mathlib-bors"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "ClosedEvent",
              "id": "CE_lADOFcwZ1c513rG_zwAAAAKOyZUa",
              "createdAt": "2023-11-16T19:44:32Z"
            },
            {
              "__typename": "HeadRefDeletedEvent",
              "id": "HRDE_lADOFcwZ1c513rG_zwAAAAKOyZd3",
              "createdAt": "2023-11-16T19:44:36Z"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "ReferencedEvent"
            }
          ]
        }
      }
    }
  }
}
