{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 21,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "mo271"
        },
        "autoMergeRequest": null,
        "baseRefName": "master",
        "body": "- [x] depends on: #5778\r\n- [x] depends on: #5789 \r\n- [x] depends on: #5802 \r\n- [x] depends on: #6505\r\n---\r\n<!-- The text above the `---` will become the commit message when your\r\nPR is merged. Please leave a blank newline before the `---`, otherwise\r\nGitHub will format the text above it as a title.\r\n\r\nTo indicate co-authors, include lines at the bottom of the commit message\r\n(that is, before the `---`) using the following format:\r\n\r\nCo-authored-by: Author Name <author@email.com>\r\n\r\nAny other comments you want to keep out of the PR commit should go\r\nbelow the `---`, and placed outside this HTML comment, or else they\r\nwill be invisible to reviewers.\r\n\r\nIf this PR depends on other PRs, please list them below this comment,\r\nusing the following format:\r\n- [ ] depends on: #abc [optional extra text]\r\n- [ ] depends on: #xyz [optional extra text]\r\n-->\r\n\r\n[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/from-referrer/)\r\n",
        "changedFiles": 2,
        "closed": true,
        "closedAt": "2023-08-12T17:49:10Z",
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c5i1bkW",
              "body": "Isn't the following lemma the real content of this PR:\r\n```lean\r\ntheorem sub_one_mul_sum_div_pow_eq_sub_sum_digits (n : ℕ) :\r\n    (p - 1) * ∑ i in Finset.Icc 1 (log p n), n / p ^ i = n - (p.digits n).sum :=\r\n```\r\nMaybe this could go in `Mathlib/Data/Nat/Digits.lean`?",
              "createdAt": "2023-07-31T11:18:09Z",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5i1xVZ",
              "body": "> ```lean\r\n> theorem sub_one_mul_sum_div_pow_eq_sub_sum_digits (n : ℕ) :\r\n>     (p - 1) * ∑ i in Finset.Icc 1 (log p n), n / p ^ i = n - (p.digits n).sum :=\r\n> ```\r\n\r\nYes, this would be one way to do it and is indeed a stronger result (since it does not depend on p being prime). \r\nHowever I tried to proof this first and failed. This was due mainly because the paper proof that we can easily write down for this e.g. see [French](https://fr.wikipedia.org/wiki/Formule_de_Legendre) and [English](https://en.wikipedia.org/wiki/Legendre%27s_formula)  wikipedia, liberally manipulate the double sums, implicitly adding zero summands, which seems to be quite cumbersome to replicate in lean.\r\n\r\nIf there's an easy way to proof this, I'd be happy to add this lemma to `Mathlib/Data/Nat/Digits.lean` and make the proof of `padicValNat_factorial'` much simpler. \r\nI think the version that might be even more useful is to allow zero summands like so:\r\n\r\n```lean\r\ntheorem sub_one_mul_sum_div_pow_eq_sub_sum_digits (n : ℕ) {b : ℕ} (hnb : log p n < b) :\r\n     (p - 1) * ∑ i in Finset.Ico 1 b, n / p ^ i = n - (p.digits n).sum :=\r\n```\r\nWhat would be the best way to prove this?",
              "createdAt": "2023-07-31T12:19:06Z",
              "author": {
                "login": "mo271"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5i2LY9",
              "body": "@mo271 Thank you for your work on this but I still think we should prove the result I stated so I'm going to relabel this back to \"awaiting-author\" until we have that.\r\n\r\nManipulating double sums etc. is absolutely possible in Mathlib, so this is no reason to settle for something less. However it does take some practice to become proficient. The right place to look for help learning this is on Zulip, rather than here. I encourage you to start a thread asking for help, in either the \"PR Reviews\" or the \"maths\" stream. I bet you'll get lots of good answers there.",
              "createdAt": "2023-07-31T13:25:44Z",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5j1tHo",
              "body": "This PR/issue depends on:\n* ~~leanprover-community/mathlib4#5778~~\n* ~~leanprover-community/mathlib4#5789~~\n* ~~leanprover-community/mathlib4#5802~~\n* ~~leanprover-community/mathlib4#6505~~\nBy **[Dependent Issues](https://github.com/z0al/dependent-issues)** (🤖). Happy coding!\n<!-- By Dependent Issues (Action) - DO NOT REMOVE -->",
              "createdAt": "2023-08-11T16:03:17Z",
              "author": {
                "login": "leanprover-community-mathlib4-bot"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5j5O-k",
              "body": "@ocfnash I used the lemma you suggested and as expected the proof is much easier!\r\n\r\nDrive-by: actually use the variable `p` defined separately as is elsewhere in this file... ",
              "createdAt": "2023-08-12T14:51:19Z",
              "author": {
                "login": "mo271"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5j5Sqf",
              "body": ":v: mo271 can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "createdAt": "2023-08-12T15:25:31Z",
              "author": {
                "login": "bors"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5j5dDP",
              "body": "Thanks for the review! I also replaced `padicValNat_factorial'` (with a \"`'`\")  by the new name `sub_one_mul_padicValNat_factorial_eq_sub_sum_digits`",
              "createdAt": "2023-08-12T17:00:09Z",
              "author": {
                "login": "mo271"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5j5dEE",
              "body": "bors r+",
              "createdAt": "2023-08-12T17:00:21Z",
              "author": {
                "login": "mo271"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c5j5iqj",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/5842469232/job/15843631042)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/5842469232/job/15843630893)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/5842469232/job/15843630799)",
              "createdAt": "2023-08-12T17:49:10Z",
              "author": {
                "login": "bors"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "9149cbe62b36b8a542484a5307f6cc600e0b5cc3",
                "additions": 22,
                "deletions": 0,
                "committedDate": "2023-07-10T08:24:58Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "49288e1dd9da0f478591c466f97d47f1c64ca0c2",
                "additions": 8,
                "deletions": 8,
                "committedDate": "2023-07-10T13:25:23Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "b7128493783582f11f7a309dbe05496574e8e405",
                "additions": 19,
                "deletions": 1,
                "committedDate": "2023-07-11T05:05:26Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "5cd0920828ec7a0957992447f2d17f81d749f31c",
                "additions": 16,
                "deletions": 0,
                "committedDate": "2023-07-11T05:07:27Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "cdad0fef8207346389fe2dfc7f9957454636d0ee",
                "additions": 30,
                "deletions": 2,
                "committedDate": "2023-07-11T05:20:41Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "127e863407c12395037a45af71d4932aa19ad916",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-07-11T05:47:33Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "afc42d1a326c03bd211fba630ef0e50c34fb1bf4",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-07-13T11:52:05Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "1373fc18bfa2be8dbadcd81fa30881dd0678c717",
                "additions": 26481,
                "deletions": 22140,
                "committedDate": "2023-07-21T11:12:22Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "b4ab20488cf71a9c51704d82306173d1bbb08125",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-07-21T11:37:16Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "d6191bda975a94a34438eeaaeca726d030975ce3",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-07-21T11:39:13Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "9093f70a5af54e4d4132e936905cb515c7ff05d8",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-07-21T11:39:44Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "8ae95cd7c43f91fe3f6e31d72fb548696c4e7b3c",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2023-07-23T19:26:56Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "691ffaa91673d58ea9f73e6a2e2ffac930b8bd83",
                "additions": 6718,
                "deletions": 3073,
                "committedDate": "2023-07-27T15:53:08Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "064bf639205514f0d42713695d5aca83ad9ab212",
                "additions": 5,
                "deletions": 5,
                "committedDate": "2023-07-30T21:14:12Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "9997d7298cbabbee828f76ca5e42fff7204d3e63",
                "additions": 11,
                "deletions": 13,
                "committedDate": "2023-07-30T21:18:09Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "164a7b88057db2f107e7b52a6b6e50a4fc638293",
                "additions": 7,
                "deletions": 7,
                "committedDate": "2023-07-30T21:26:58Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "2892eacfd5976d5e5601c7307e465585d359d1ac",
                "additions": 30740,
                "deletions": 17945,
                "committedDate": "2023-08-12T13:55:16Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "c97a7e03e23357bf3bc6dccd45de5641a0652a62",
                "additions": 5,
                "deletions": 15,
                "committedDate": "2023-08-12T14:49:12Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "c3fc741e2c527aa6401b503ecb0c75d312b2eff0",
                "additions": 7,
                "deletions": 9,
                "committedDate": "2023-08-12T16:52:04Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            },
            {
              "commit": {
                "oid": "ae5ca7a8de906211e9875d869dd4b227f916124b",
                "additions": 2,
                "deletions": 2,
                "committedDate": "2023-08-12T16:57:52Z",
                "author": {
                  "name": "Moritz Firsching",
                  "email": "firsching@google.com"
                },
                "statusCheckRollup": null
              }
            }
          ]
        },
        "createdAt": "2023-07-11T05:24:47Z",
        "deletions": 7,
        "files": {
          "nodes": [
            {
              "path": "Mathlib/Data/Nat/Multiplicity.lean",
              "additions": 2,
              "deletions": 1
            },
            {
              "path": "Mathlib/NumberTheory/Padics/PadicVal.lean",
              "additions": 19,
              "deletions": 6
            }
          ]
        },
        "headRefName": "mo271/padicValNat_factorial_prime",
        "headRefOid": "ae5ca7a8de906211e9875d869dd4b227f916124b",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c5VKLqu",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": [
            {
              "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
              "color": "bfd4f2",
              "name": "delegated"
            },
            {
              "id": "LA_kwDOFcwZ1c8AAAABViJLNA",
              "color": "33DBEC",
              "name": "t-number-theory"
            }
          ]
        },
        "latestReviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5d4508",
              "body": "Thanks!\r\n\r\nPlease apply the suggestions and then feel free to merge.\r\n\r\nbors d+",
              "state": "APPROVED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-12T15:25:29Z"
            }
          ]
        },
        "maintainerCanModify": false,
        "mergeCommit": null,
        "mergeStateStatus": "UNKNOWN",
        "mergeable": "UNKNOWN",
        "mergedAt": null,
        "mergedBy": null,
        "milestone": null,
        "number": 5803,
        "potentialMergeCommit": null,
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": "APPROVED",
        "reviewRequests": {
          "nodes": []
        },
        "reviews": {
          "nodes": [
            {
              "id": "PRR_kwDOFcwZ1c5bF2Sm",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mo271"
              },
              "submittedAt": "2023-07-13T11:52:01Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5cm6Uq",
              "body": "I only have time to add some superficial comments. I'll try to come back to take a proper look tomorrow.",
              "state": "COMMENTED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-07-30T20:47:29Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5cm7SX",
              "body": "",
              "state": "COMMENTED",
              "author": {
                "login": "mo271"
              },
              "submittedAt": "2023-07-30T21:22:44Z"
            },
            {
              "id": "PRR_kwDOFcwZ1c5d4508",
              "body": "Thanks!\r\n\r\nPlease apply the suggestions and then feel free to merge.\r\n\r\nbors d+",
              "state": "APPROVED",
              "author": {
                "login": "ocfnash"
              },
              "submittedAt": "2023-08-12T15:25:29Z"
            }
          ]
        },
        "reviewThreads": {
          "nodes": [
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5LP2q8",
                    "body": "```suggestion\r\n## Calculations with `p`-adic valuations\r\n```",
                    "createdAt": "2023-07-13T11:52:00Z",
                    "author": {
                      "login": "mo271"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5MNiPG",
                    "body": "```suggestion\r\n  apply n.strongInductionOn\r\n```",
                    "createdAt": "2023-07-30T20:39:49Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5MNiPo",
                    "body": "```suggestion\r\n  rcases n.eq_zero_or_pos with rfl | hnp; simp\r\n```",
                    "createdAt": "2023-07-30T20:40:07Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5MNiTi",
                    "body": "Note that according to the [style guide](https://leanprover-community.github.io/contribute/style.html#tactic-mode)\r\n\r\n> Very short goals can be closed right away using swap or work_on_goal if needed, to avoid additional indentation in the rest of the proof.\r\n\r\nso it is acceptable, and I claim preferable, to dispense with the `n = 0` branch using `; simp`\r\n\r\nYou should then drop the `· ` and remove the intendation from the rest of the proof.",
                    "createdAt": "2023-07-30T20:43:08Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  },
                  {
                    "id": "PRRC_kwDOFcwZ1c5MNjKJ",
                    "body": "done",
                    "createdAt": "2023-07-30T21:22:43Z",
                    "author": {
                      "login": "mo271"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5MNiUD",
                    "body": "```suggestion\r\n      rw [this, mul_add, hn (n / p) (Nat.div_lt_self hnp hp.out.one_lt)]\r\n```",
                    "createdAt": "2023-07-30T20:43:42Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5MNiUQ",
                    "body": "```suggestion\r\n      rw [digits_def' hp.out.one_lt hnp]\r\n```",
                    "createdAt": "2023-07-30T20:43:53Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5MNiVd",
                    "body": "```suggestion\r\n          Nat.sub_add_cancel <| le_mul_of_pos_left hp.out.pos, mul_comm]\r\n```",
                    "createdAt": "2023-07-30T20:45:05Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5NB4Xv",
                    "body": "I think we should keep these brackets:\r\n```suggestion\r\n    padicValNat p (n !) = ∑ i in Finset.Ico 1 b, n / p ^ i :=\r\n```",
                    "createdAt": "2023-08-12T15:06:02Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5NB5xn",
                    "body": "```suggestion\r\ntheorem sub_one_mul_padicValNat_factorial_eq_sub_sum_digits [hp : Fact p.Prime] (n : ℕ):\r\n    (p - 1) * padicValNat p (n !) = n - (p.digits n).sum := by\r\n  rw [padicValNat_factorial <| lt_succ_of_lt <| lt.base (log p n), ← Finset.sum_Ico_add' _ 0 _ 1,\r\n    Ico_zero_eq_range, ← sub_one_mul_sum_log_div_pow_eq_sub_sum_digits]\r\n```",
                    "createdAt": "2023-08-12T15:23:32Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            },
            {
              "comments": {
                "nodes": [
                  {
                    "id": "PRRC_kwDOFcwZ1c5NB6Bk",
                    "body": "```suggestion\r\n  result stated in the language of `p`-adic valuations and\r\n  `sub_one_mul_padicValNat_factorial_eq_sub_sum_digits` for a related result.\r\n```",
                    "createdAt": "2023-08-12T15:24:45Z",
                    "author": {
                      "login": "ocfnash"
                    }
                  }
                ]
              }
            }
          ]
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "MDQ6VXNlcjM0OTE2Mjc=",
              "login": "mo271"
            },
            {
              "id": "MDQ6VXNlcjc3MzQzNjQ=",
              "login": "ocfnash"
            },
            {
              "id": "U_kgDOB75MNQ",
              "login": "leanprover-community-mathlib4-bot"
            },
            {
              "id": "MDQ6VXNlcjQ3Nzk1Ng==",
              "login": "kim-em"
            }
          ]
        },
        "state": "CLOSED",
        "statusCheckRollup": null,
        "title": "[Merged by Bors] - feat(NumberTheory/Padics/PadicVal): padicValNat_factorial'",
        "updatedAt": "2023-08-12T17:49:14Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/5803",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "9149cbe62b36b8a542484a5307f6cc600e0b5cc3"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "49288e1dd9da0f478591c466f97d47f1c64ca0c2"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "b7128493783582f11f7a309dbe05496574e8e405"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "5cd0920828ec7a0957992447f2d17f81d749f31c"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "cdad0fef8207346389fe2dfc7f9957454636d0ee"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJHF997",
              "createdAt": "2023-07-11T05:32:10Z",
              "label": {
                "id": "MDU6TGFiZWwzMjg4OTQyMDg2",
                "name": "blocked-by-other-PR"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "127e863407c12395037a45af71d4932aa19ad916"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJHGYRD",
              "createdAt": "2023-07-11T05:48:07Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJHGYRM",
              "createdAt": "2023-07-11T05:48:07Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJHHdQH",
              "createdAt": "2023-07-11T06:24:45Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJH2IVR",
              "createdAt": "2023-07-12T07:05:16Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABMtntmA",
                "name": "new-feature"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c5NgI1y",
              "createdAt": "2023-07-13T10:47:12Z",
              "source": {
                "id": "PR_kwDOFcwZ1c5VZ-3L",
                "title": "[Merged by Bors] - feat(NumberTheory/Padics/PadicVal): factorial_choose'",
                "url": "https://github.com/leanprover-community/mathlib4/pull/5860"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5bF2Sm",
              "createdAt": "2023-07-13T11:52:00Z",
              "body": "",
              "author": {
                "login": "mo271"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "afc42d1a326c03bd211fba630ef0e50c34fb1bf4"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJLofKC",
              "createdAt": "2023-07-19T07:20:03Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJMkw0F",
              "createdAt": "2023-07-20T13:34:06Z",
              "label": {
                "id": "MDU6TGFiZWwzMjg4OTQyMDg2",
                "name": "blocked-by-other-PR"
              }
            },
            {
              "__typename": "CommentDeletedEvent"
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJM2UMB",
              "createdAt": "2023-07-20T21:20:12Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "1373fc18bfa2be8dbadcd81fa30881dd0678c717"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJNJkj9",
              "createdAt": "2023-07-21T11:19:05Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "b4ab20488cf71a9c51704d82306173d1bbb08125"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "d6191bda975a94a34438eeaaeca726d030975ce3"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "9093f70a5af54e4d4132e936905cb515c7ff05d8"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJNKMfE",
              "createdAt": "2023-07-21T11:41:01Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJNKMfK",
              "createdAt": "2023-07-21T11:41:01Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJNLfkr",
              "createdAt": "2023-07-21T12:24:04Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "8ae95cd7c43f91fe3f6e31d72fb548696c4e7b3c"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJOmyvV",
              "createdAt": "2023-07-25T08:34:32Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "691ffaa91673d58ea9f73e6a2e2ffac930b8bd83"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJQVixo",
              "createdAt": "2023-07-27T16:05:51Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABIFoUmw",
                "name": "merge-conflict"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5cm6Uq",
              "createdAt": "2023-07-30T20:39:49Z",
              "body": "I only have time to add some superficial comments. I'll try to come back to take a proper look tomorrow.",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "064bf639205514f0d42713695d5aca83ad9ab212"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "9997d7298cbabbee828f76ca5e42fff7204d3e63"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "164a7b88057db2f107e7b52a6b6e50a4fc638293"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5i1bkW",
              "createdAt": "2023-07-31T11:18:09Z",
              "body": "Isn't the following lemma the real content of this PR:\r\n```lean\r\ntheorem sub_one_mul_sum_div_pow_eq_sub_sum_digits (n : ℕ) :\r\n    (p - 1) * ∑ i in Finset.Icc 1 (log p n), n / p ^ i = n - (p.digits n).sum :=\r\n```\r\nMaybe this could go in `Mathlib/Data/Nat/Digits.lean`?",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJR0WAT",
              "createdAt": "2023-07-31T11:18:51Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJR0WAa",
              "createdAt": "2023-07-31T11:18:52Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5i1xVZ",
              "createdAt": "2023-07-31T12:19:06Z",
              "body": "> ```lean\r\n> theorem sub_one_mul_sum_div_pow_eq_sub_sum_digits (n : ℕ) :\r\n>     (p - 1) * ∑ i in Finset.Icc 1 (log p n), n / p ^ i = n - (p.digits n).sum :=\r\n> ```\r\n\r\nYes, this would be one way to do it and is indeed a stronger result (since it does not depend on p being prime). \r\nHowever I tried to proof this first and failed. This was due mainly because the paper proof that we can easily write down for this e.g. see [French](https://fr.wikipedia.org/wiki/Formule_de_Legendre) and [English](https://en.wikipedia.org/wiki/Legendre%27s_formula)  wikipedia, liberally manipulate the double sums, implicitly adding zero summands, which seems to be quite cumbersome to replicate in lean.\r\n\r\nIf there's an easy way to proof this, I'd be happy to add this lemma to `Mathlib/Data/Nat/Digits.lean` and make the proof of `padicValNat_factorial'` much simpler. \r\nI think the version that might be even more useful is to allow zero summands like so:\r\n\r\n```lean\r\ntheorem sub_one_mul_sum_div_pow_eq_sub_sum_digits (n : ℕ) {b : ℕ} (hnb : log p n < b) :\r\n     (p - 1) * ∑ i in Finset.Ico 1 b, n / p ^ i = n - (p.digits n).sum :=\r\n```\r\nWhat would be the best way to prove this?",
              "author": {
                "login": "mo271"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJR2ipZ",
              "createdAt": "2023-07-31T12:19:14Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJR2ipi",
              "createdAt": "2023-07-31T12:19:14Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5i2LY9",
              "createdAt": "2023-07-31T13:25:44Z",
              "body": "@mo271 Thank you for your work on this but I still think we should prove the result I stated so I'm going to relabel this back to \"awaiting-author\" until we have that.\r\n\r\nManipulating double sums etc. is absolutely possible in Mathlib, so this is no reason to settle for something less. However it does take some practice to become proficient. The right place to look for help learning this is on Zulip, rather than here. I encourage you to start a thread asking for help, in either the \"PR Reviews\" or the \"maths\" stream. I bet you'll get lots of good answers there.",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "__typename": "MentionedEvent"
            },
            {
              "__typename": "SubscribedEvent"
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJR5Y_H",
              "createdAt": "2023-07-31T13:25:49Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJR5Y_U",
              "createdAt": "2023-07-31T13:25:50Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJR5Z0B",
              "createdAt": "2023-07-31T13:26:01Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABViJLNA",
                "name": "t-number-theory"
              }
            },
            {
              "__typename": "CrossReferencedEvent",
              "id": "CRE_kwDOFcwZ1c5N6oz4",
              "createdAt": "2023-08-10T19:04:30Z",
              "source": {
                "id": "PR_kwDOFcwZ1c5XqzeK",
                "title": "[Merged by Bors] - feat(Data/Nat/Digits): sub_one_mul_sum_div_pow_eq_sub_sum_digits",
                "url": "https://github.com/leanprover-community/mathlib4/pull/6505"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJXzjYh",
              "createdAt": "2023-08-10T19:17:25Z",
              "label": {
                "id": "MDU6TGFiZWwzMjg4OTQyMDg2",
                "name": "blocked-by-other-PR"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJYTsEz",
              "createdAt": "2023-08-11T16:03:16Z",
              "label": {
                "id": "MDU6TGFiZWwzMjg4OTQyMDg2",
                "name": "blocked-by-other-PR"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5j1tHo",
              "createdAt": "2023-08-11T16:03:17Z",
              "body": "This PR/issue depends on:\n* ~~leanprover-community/mathlib4#5778~~\n* ~~leanprover-community/mathlib4#5789~~\n* ~~leanprover-community/mathlib4#5802~~\n* ~~leanprover-community/mathlib4#6505~~\nBy **[Dependent Issues](https://github.com/z0al/dependent-issues)** (🤖). Happy coding!\n<!-- By Dependent Issues (Action) - DO NOT REMOVE -->",
              "author": {
                "login": "leanprover-community-mathlib4-bot"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "2892eacfd5976d5e5601c7307e465585d359d1ac"
              }
            },
            {
              "__typename": "HeadRefForcePushedEvent",
              "id": "HRFPE_lADOFcwZ1c5rLTRvzwAAAAJYpUcb",
              "createdAt": "2023-08-12T14:48:46Z"
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "c97a7e03e23357bf3bc6dccd45de5641a0652a62"
              }
            },
            {
              "__typename": "HeadRefForcePushedEvent",
              "id": "HRFPE_lADOFcwZ1c5rLTRvzwAAAAJYpUyT",
              "createdAt": "2023-08-12T14:49:18Z"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5j5O-k",
              "createdAt": "2023-08-12T14:51:19Z",
              "body": "@ocfnash I used the lemma you suggested and as expected the proof is much easier!\r\n\r\nDrive-by: actually use the variable `p` defined separately as is elsewhere in this file... ",
              "author": {
                "login": "mo271"
              }
            },
            {
              "__typename": "MentionedEvent"
            },
            {
              "__typename": "SubscribedEvent"
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJYpVuf",
              "createdAt": "2023-08-12T14:51:27Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7P265b",
                "name": "awaiting-author"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJYpVug",
              "createdAt": "2023-08-12T14:51:27Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJYpVuh",
              "createdAt": "2023-08-12T14:51:27Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestReview",
              "id": "PRR_kwDOFcwZ1c5d4508",
              "createdAt": "2023-08-12T15:06:02Z",
              "body": "Thanks!\r\n\r\nPlease apply the suggestions and then feel free to merge.\r\n\r\nbors d+",
              "author": {
                "login": "ocfnash"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5j5Sqf",
              "createdAt": "2023-08-12T15:25:31Z",
              "body": ":v: mo271 can now approve this pull request. To approve and merge a pull request, simply reply with `bors r+`. More detailed instructions are available [here](https://bors.tech/documentation/getting-started/#reviewing-pull-requests).",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "LabeledEvent",
              "id": "LE_lADOFcwZ1c5rLTRvzwAAAAJYps-m",
              "createdAt": "2023-08-12T15:25:41Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABAt13Ow",
                "name": "delegated"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJYps_I",
              "createdAt": "2023-08-12T15:25:42Z",
              "label": {
                "id": "LA_kwDOFcwZ1c7ECuhA",
                "name": "awaiting-review"
              }
            },
            {
              "__typename": "UnlabeledEvent",
              "id": "UNLE_lADOFcwZ1c5rLTRvzwAAAAJYp7CQ",
              "createdAt": "2023-08-12T15:46:20Z",
              "label": {
                "id": "LA_kwDOFcwZ1c8AAAABKteTVQ",
                "name": "awaiting-CI"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "c3fc741e2c527aa6401b503ecb0c75d312b2eff0"
              }
            },
            {
              "__typename": "PullRequestCommit",
              "commit": {
                "oid": "ae5ca7a8de906211e9875d869dd4b227f916124b"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5j5dDP",
              "createdAt": "2023-08-12T17:00:09Z",
              "body": "Thanks for the review! I also replaced `padicValNat_factorial'` (with a \"`'`\")  by the new name `sub_one_mul_padicValNat_factorial_eq_sub_sum_digits`",
              "author": {
                "login": "mo271"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5j5dEE",
              "createdAt": "2023-08-12T17:00:21Z",
              "body": "bors r+",
              "author": {
                "login": "mo271"
              }
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c5j5iqj",
              "createdAt": "2023-08-12T17:49:10Z",
              "body": "Pull request successfully merged into master.\n\n  Build succeeded!\n\n  The publicly hosted instance of bors-ng is deprecated and will go away soon.\n\n  If you want to self-host your own instance, [instructions are here][instructions].\n  For more help, visit [the forum].\n\n  If you want to switch to GitHub's built-in merge queue, visit [their help page][gh].\n\n  [instructions]: https://github.com/bors-ng/bors-ng#how-to-set-up-your-own-real-instance\n  [the forum]: https://forum.bors.tech\n  [gh]: https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue\n\n\n\n  * [Build](https://github.com/leanprover-community/mathlib4/actions/runs/5842469232/job/15843631042)\n  * [Check all files imported](https://github.com/leanprover-community/mathlib4/actions/runs/5842469232/job/15843630893)\n  * [Lint style](https://github.com/leanprover-community/mathlib4/actions/runs/5842469232/job/15843630799)",
              "author": {
                "login": "bors"
              }
            },
            {
              "__typename": "RenamedTitleEvent"
            },
            {
              "__typename": "ClosedEvent",
              "id": "CE_lADOFcwZ1c5rLTRvzwAAAAJYrMxx",
              "createdAt": "2023-08-12T17:49:11Z"
            },
            {
              "__typename": "HeadRefDeletedEvent",
              "id": "HRDE_lADOFcwZ1c5rLTRvzwAAAAJYrMy1",
              "createdAt": "2023-08-12T17:49:14Z"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "ReferencedEvent"
            },
            {
              "__typename": "ReferencedEvent"
            }
          ]
        }
      }
    }
  }
}
